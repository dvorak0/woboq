<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ISAM2.cpp source code [codebrowser/gtsam/nonlinear/ISAM2.cpp] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="gtsam::BayesTree "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/gtsam/nonlinear/ISAM2.cpp'; var root_path = '../../..'; var data_path = '../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>gtsam</a>/<a href='./'>nonlinear</a>/<a href='ISAM2.cpp.html'>ISAM2.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* ----------------------------------------------------------------------------</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i> * GTSAM Copyright 2010, Georgia Tech Research Corporation,</i></td></tr>
<tr><th id="4">4</th><td><i> * Atlanta, Georgia 30332-0415</i></td></tr>
<tr><th id="5">5</th><td><i> * All Rights Reserved</i></td></tr>
<tr><th id="6">6</th><td><i> * Authors: Frank Dellaert, et al. (see THANKS for the full author list)</i></td></tr>
<tr><th id="7">7</th><td><i></i></td></tr>
<tr><th id="8">8</th><td><i> * See LICENSE for the license information</i></td></tr>
<tr><th id="9">9</th><td><i></i></td></tr>
<tr><th id="10">10</th><td><i> * -------------------------------------------------------------------------- */</i></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><i class="doc">/**</i></td></tr>
<tr><th id="13">13</th><td><i class="doc"> * <span class="command">@file</span> <span class="verb">   ISAM2.cpp</span></i></td></tr>
<tr><th id="14">14</th><td><i class="doc"> * <span class="command">@brief</span>   Incremental update functionality (ISAM2) for BayesTree, with fluid</i></td></tr>
<tr><th id="15">15</th><td><i class="doc"> * relinearization.</i></td></tr>
<tr><th id="16">16</th><td><i class="doc"> * <span class="command">@author</span>  Michael Kaess, Richard Roberts, Frank Dellaert</i></td></tr>
<tr><th id="17">17</th><td><i class="doc"> */</i></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="ISAM2-impl.h.html">&lt;gtsam/nonlinear/ISAM2-impl.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="ISAM2.h.html">&lt;gtsam/nonlinear/ISAM2.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="ISAM2Result.h.html">&lt;gtsam/nonlinear/ISAM2Result.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../base/debug.h.html">&lt;gtsam/base/debug.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../base/timing.h.html">&lt;gtsam/base/timing.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../inference/BayesTree-inst.h.html">&lt;gtsam/inference/BayesTree-inst.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="LinearContainerFactor.h.html">&lt;gtsam/nonlinear/LinearContainerFactor.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../include/c++/13/algorithm.html">&lt;algorithm&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../include/c++/13/map.html">&lt;map&gt;</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../include/c++/13/utility.html">&lt;utility&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../include/c++/13/variant.html">&lt;variant&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../include/c++/13/cassert.html">&lt;cassert&gt;</a></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><b>using</b> <b>namespace</b> <span class="namespace">std</span>;</td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><b>namespace</b> <span class="namespace">gtsam</span> {</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><i>// Instantiate base class</i></td></tr>
<tr><th id="39">39</th><td><b>template</b> <b>class</b> <dfn class="type def" id="gtsam::BayesTree" title='gtsam::BayesTree' data-ref="gtsam::BayesTree"><a class="type" href="../inference/FactorGraph.h.html#gtsam::BayesTree" title='gtsam::BayesTree' data-ref="gtsam::BayesTree">BayesTree</a></dfn>&lt;<a class="type" href="ISAM2Clique.h.html#gtsam::ISAM2Clique" title='gtsam::ISAM2Clique' data-ref="gtsam::ISAM2Clique">ISAM2Clique</a>&gt;;</td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="42">42</th><td><a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM2C1ERKNS_11ISAM2ParamsE" title='gtsam::ISAM2::ISAM2' data-ref="_ZN5gtsam5ISAM2C1ERKNS_11ISAM2ParamsE">ISAM2</dfn>(<em>const</em> <a class="type" href="ISAM2Params.h.html#gtsam::ISAM2Params" title='gtsam::ISAM2Params' data-ref="gtsam::ISAM2Params">ISAM2Params</a>&amp; <dfn class="local col1 decl" id="1params" title='params' data-type='const ISAM2Params &amp;' data-ref="1params">params</dfn>) : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a><a class="ref fn" href="ISAM2Params.h.html#136" title='gtsam::ISAM2Params::ISAM2Params' data-ref="_ZN5gtsam11ISAM2ParamsC1ERKS0_">(</a><a class="local col1 ref" href="#1params" title='params' data-ref="1params">params</a>), <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::update_count_" title='gtsam::ISAM2::update_count_' data-ref="gtsam::ISAM2::update_count_">update_count_</a>(<var>0</var>) {</td></tr>
<tr><th id="43">43</th><td>  <b>if</b> (<span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt17holds_alternativeRKSt7variantIJDpT0_EE" title='std::holds_alternative' data-ref="_ZSt17holds_alternativeRKSt7variantIJDpT0_EE">holds_alternative</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>)) {</td></tr>
<tr><th id="44">44</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::doglegDelta_" title='gtsam::ISAM2::doglegDelta_' data-ref="gtsam::ISAM2::doglegDelta_">doglegDelta_</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;double&gt;::operator=' data-ref="_ZNSt8optionalIdEaSEOS0_">=</a></td></tr>
<tr><th id="45">45</th><td>        <a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNSt8optionalC1EOTL0__" title='std::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt8optionalC1EOTL0__"></a><span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt3getRSt7variantIJDpT0_EE" title='std::get' data-ref="_ZSt3getRSt7variantIJDpT0_EE">get</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v&amp;:&nbsp;</span><span class='refarg'><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a></span>).<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams::initialDelta" title='gtsam::ISAM2DoglegParams::initialDelta' data-ref="gtsam::ISAM2DoglegParams::initialDelta">initialDelta</a>;</td></tr>
<tr><th id="46">46</th><td>  }</td></tr>
<tr><th id="47">47</th><td>}</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="50">50</th><td><a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM2C1Ev" title='gtsam::ISAM2::ISAM2' data-ref="_ZN5gtsam5ISAM2C1Ev">ISAM2</dfn>() : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::update_count_" title='gtsam::ISAM2::update_count_' data-ref="gtsam::ISAM2::update_count_">update_count_</a>(<var>0</var>) {</td></tr>
<tr><th id="51">51</th><td>  <b>if</b> (<span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt17holds_alternativeRKSt7variantIJDpT0_EE" title='std::holds_alternative' data-ref="_ZSt17holds_alternativeRKSt7variantIJDpT0_EE">holds_alternative</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>)) {</td></tr>
<tr><th id="52">52</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::doglegDelta_" title='gtsam::ISAM2::doglegDelta_' data-ref="gtsam::ISAM2::doglegDelta_">doglegDelta_</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;double&gt;::operator=' data-ref="_ZNSt8optionalIdEaSEOS0_">=</a></td></tr>
<tr><th id="53">53</th><td>        <a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNSt8optionalC1EOTL0__" title='std::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt8optionalC1EOTL0__"></a><span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt3getRSt7variantIJDpT0_EE" title='std::get' data-ref="_ZSt3getRSt7variantIJDpT0_EE">get</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v&amp;:&nbsp;</span><span class='refarg'><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a></span>).<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams::initialDelta" title='gtsam::ISAM2DoglegParams::initialDelta' data-ref="gtsam::ISAM2DoglegParams::initialDelta">initialDelta</a>;</td></tr>
<tr><th id="54">54</th><td>  }</td></tr>
<tr><th id="55">55</th><td>}</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="58">58</th><td><em>bool</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="virtual decl def fn" id="_ZNK5gtsam5ISAM26equalsERKS0_d" title='gtsam::ISAM2::equals' data-ref="_ZNK5gtsam5ISAM26equalsERKS0_d">equals</dfn>(<em>const</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>&amp; <dfn class="local col2 decl" id="2other" title='other' data-type='const ISAM2 &amp;' data-ref="2other">other</dfn>, <em>double</em> <dfn class="local col3 decl" id="3tol" title='tol' data-type='double' data-ref="3tol">tol</dfn>) <em>const</em> {</td></tr>
<tr><th id="59">59</th><td>  <b>return</b> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Base" title='gtsam::ISAM2::Base' data-type='BayesTree&lt;ISAM2Clique&gt;' data-ref="gtsam::ISAM2::Base">Base</a>::<a class="tu member fn" href="../inference/BayesTree-inst.h.html#_ZNK5gtsam9BayesTree6equalsERKNS_9BayesTreeIT_EEd" title='gtsam::BayesTree::equals' data-use='c' data-ref="_ZNK5gtsam9BayesTree6equalsERKNS_9BayesTreeIT_EEd">equals</a>(<a class="local col2 ref" href="#2other" title='other' data-ref="2other">other</a>, <a class="local col3 ref" href="#3tol" title='tol' data-ref="3tol">tol</a>) &amp;&amp; <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values6equalsERKS0_d" title='gtsam::Values::equals' data-ref="_ZNK5gtsam6Values6equalsERKS0_d">equals</a>(<span class='inlayHint'>other:&nbsp;</span><a class="local col2 ref" href="#2other" title='other' data-ref="2other">other</a>.<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>, <a class="local col3 ref" href="#3tol" title='tol' data-ref="3tol">tol</a>) &amp;&amp;</td></tr>
<tr><th id="60">60</th><td>         <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>.<a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndex6equalsERKS0_d" title='gtsam::VariableIndex::equals' data-ref="_ZNK5gtsam13VariableIndex6equalsERKS0_d">equals</a>(<span class='inlayHint'>other:&nbsp;</span><a class="local col2 ref" href="#2other" title='other' data-ref="2other">other</a>.<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>, <a class="local col3 ref" href="#3tol" title='tol' data-ref="3tol">tol</a>) &amp;&amp;</td></tr>
<tr><th id="61">61</th><td>         <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="NonlinearFactorGraph.h.html#_ZNK5gtsam20NonlinearFactorGraph6equalsERKS0_d" title='gtsam::NonlinearFactorGraph::equals' data-ref="_ZNK5gtsam20NonlinearFactorGraph6equalsERKS0_d">equals</a>(<span class='inlayHint'>other:&nbsp;</span><a class="local col2 ref" href="#2other" title='other' data-ref="2other">other</a>.<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>, <a class="local col3 ref" href="#3tol" title='tol' data-ref="3tol">tol</a>) &amp;&amp;</td></tr>
<tr><th id="62">62</th><td>         <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::fixedVariables_" title='gtsam::ISAM2::fixedVariables_' data-ref="gtsam::ISAM2::fixedVariables_">fixedVariables_</a> <a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZSteqRKSt3setIT_T0_T1_ES5_" title='std::operator==' data-ref="_ZSteqRKSt3setIT_T0_T1_ES5_">==</a> <a class="local col2 ref" href="#2other" title='other' data-ref="2other">other</a>.<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::fixedVariables_" title='gtsam::ISAM2::fixedVariables_' data-ref="gtsam::ISAM2::fixedVariables_">fixedVariables_</a>;</td></tr>
<tr><th id="63">63</th><td>}</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="66">66</th><td><a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM226relinearizeAffectedFactorsERKNS_17ISAM2UpdateParamsERKNS_8FastListImEERKNS_7FastSetImEE" title='gtsam::ISAM2::relinearizeAffectedFactors' data-ref="_ZN5gtsam5ISAM226relinearizeAffectedFactorsERKNS_17ISAM2UpdateParamsERKNS_8FastListImEERKNS_7FastSetImEE">relinearizeAffectedFactors</dfn>(</td></tr>
<tr><th id="67">67</th><td>    <em>const</em> <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a>&amp; <dfn class="local col4 decl" id="4updateParams" title='updateParams' data-type='const ISAM2UpdateParams &amp;' data-ref="4updateParams">updateParams</dfn>, <em>const</em> <a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt;&amp; <dfn class="local col5 decl" id="5affectedKeys" title='affectedKeys' data-type='const FastList&lt;Key&gt; &amp;' data-ref="5affectedKeys">affectedKeys</dfn>,</td></tr>
<tr><th id="68">68</th><td>    <em>const</em> <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>&amp; <dfn class="local col6 decl" id="6relinKeys" title='relinKeys' data-type='const KeySet &amp;' data-ref="6relinKeys">relinKeys</dfn>) {</td></tr>
<tr><th id="69">69</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t relinearizeAffectedFactors_id_tic = ::gtsam::internal::getTicTocID(&quot;relinearizeAffectedFactors&quot;); ::gtsam::internal::AutoTicToc relinearizeAffectedFactors_obj(relinearizeAffectedFactors_id_tic, &quot;relinearizeAffectedFactors&quot;)" data-ref="_M/gttic">gttic</a>(relinearizeAffectedFactors);</td></tr>
<tr><th id="70">70</th><td>  <a class="typedef" href="../inference/Factor.h.html#gtsam::FactorIndexSet" title='gtsam::FactorIndexSet' data-type='FastSet&lt;FactorIndex&gt;' data-ref="gtsam::FactorIndexSet">FactorIndexSet</a> <dfn class="local col7 decl" id="7candidates" title='candidates' data-type='FactorIndexSet' data-ref="7candidates">candidates</dfn> =</td></tr>
<tr><th id="71">71</th><td>      <a class="type" href="ISAM2-impl.h.html#gtsam::UpdateImpl" title='gtsam::UpdateImpl' data-ref="gtsam::UpdateImpl">UpdateImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam10UpdateImpl18GetAffectedFactorsERKNS_8FastListImEERKNS_13VariableIndexE" title='gtsam::UpdateImpl::GetAffectedFactors' data-ref="_ZN5gtsam10UpdateImpl18GetAffectedFactorsERKNS_8FastListImEERKNS_13VariableIndexE">GetAffectedFactors</a>(<span class='inlayHint'>keys:&nbsp;</span><a class="local col5 ref" href="#5affectedKeys" title='affectedKeys' data-ref="5affectedKeys">affectedKeys</a>, <span class='inlayHint'>variableIndex:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>);</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t affectedKeysSet_id_tic = ::gtsam::internal::getTicTocID(&quot;affectedKeysSet&quot;); ::gtsam::internal::AutoTicToc affectedKeysSet_obj(affectedKeysSet_id_tic, &quot;affectedKeysSet&quot;)" data-ref="_M/gttic">gttic</a>(affectedKeysSet);</td></tr>
<tr><th id="74">74</th><td>  <i>// for fast lookup below</i></td></tr>
<tr><th id="75">75</th><td>  <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col8 decl" id="8affectedKeysSet" title='affectedKeysSet' data-type='KeySet' data-ref="8affectedKeysSet">affectedKeysSet</dfn>;</td></tr>
<tr><th id="76">76</th><td>  <a class="local col8 ref" href="#8affectedKeysSet" title='affectedKeysSet' data-ref="8affectedKeysSet">affectedKeysSet</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col5 ref" href="#5affectedKeys" title='affectedKeys' data-ref="5affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list5beginEv" title='std::list::begin' data-ref="_ZNKSt7__cxx114list5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col5 ref" href="#5affectedKeys" title='affectedKeys' data-ref="5affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNKSt7__cxx114list3endEv">end</a>());</td></tr>
<tr><th id="77">77</th><td>  <a class="macro" href="../base/timing.h.html#326" title="affectedKeysSet_obj.stop()" data-ref="_M/gttoc">gttoc</a>(affectedKeysSet);</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t check_candidates_and_linearize_id_tic = ::gtsam::internal::getTicTocID(&quot;check_candidates_and_linearize&quot;); ::gtsam::internal::AutoTicToc check_candidates_and_linearize_obj(check_candidates_and_linearize_id_tic, &quot;check_candidates_and_linearize&quot;)" data-ref="_M/gttic">gttic</a>(check_candidates_and_linearize);</td></tr>
<tr><th id="80">80</th><td>  <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <a class="ref fn fake" href="../linear/GaussianFactorGraph.h.html#_ZN5gtsam19GaussianFactorGraphC1Ev" title='gtsam::GaussianFactorGraph::GaussianFactorGraph' data-ref="_ZN5gtsam19GaussianFactorGraphC1Ev"></a><dfn class="local col9 decl" id="9linearized" title='linearized' data-type='GaussianFactorGraph' data-ref="9linearized">linearized</dfn>;</td></tr>
<tr><th id="81">81</th><td>  <b>for</b> (<em>const</em> <a class="typedef" href="../base/types.h.html#gtsam::FactorIndex" title='gtsam::FactorIndex' data-type='std::uint64_t' data-ref="gtsam::FactorIndex">FactorIndex</a> <dfn class="local col0 decl" id="10idx" title='idx' data-type='const FactorIndex' data-ref="10idx">idx</dfn> : <a class="local col7 ref" href="#7candidates" title='candidates' data-ref="7candidates">candidates</a>) {</td></tr>
<tr><th id="82">82</th><td>    <em>bool</em> <dfn class="local col1 decl" id="11inside" title='inside' data-type='bool' data-ref="11inside">inside</dfn> = <b>true</b>;</td></tr>
<tr><th id="83">83</th><td>    <em>bool</em> <dfn class="local col2 decl" id="12useCachedLinear" title='useCachedLinear' data-type='bool' data-ref="12useCachedLinear">useCachedLinear</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::cacheLinearizedFactors" title='gtsam::ISAM2Params::cacheLinearizedFactors' data-ref="gtsam::ISAM2Params::cacheLinearizedFactors">cacheLinearizedFactors</a>;</td></tr>
<tr><th id="84">84</th><td>    <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col3 decl" id="13key" title='key' data-type='Key' data-ref="13key">key</dfn> : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col0 ref" href="#10idx" title='idx' data-ref="10idx">idx</a>]</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZN5gtsam6Factor4keysEv" title='gtsam::Factor::keys' data-ref="_ZN5gtsam6Factor4keysEv">keys</a>()) {</td></tr>
<tr><th id="85">85</th><td>      <b>if</b> (<a class="local col8 ref" href="#8affectedKeysSet" title='affectedKeysSet' data-ref="8affectedKeysSet">affectedKeysSet</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set4findERKT_" title='std::set::find' data-ref="_ZNSt3set4findERKT_">find</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col3 ref" href="#13key" title='key' data-ref="13key">key</a>) <a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZSteqRKSt23_Rb_tree_const_iteratorIT_ES4_" title='std::operator==' data-ref="_ZSteqRKSt23_Rb_tree_const_iteratorIT_ES4_">==</a> <a class="local col8 ref" href="#8affectedKeysSet" title='affectedKeysSet' data-ref="8affectedKeysSet">affectedKeysSet</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>()) {</td></tr>
<tr><th id="86">86</th><td>        <a class="local col1 ref" href="#11inside" title='inside' data-ref="11inside">inside</a> = <b>false</b>;</td></tr>
<tr><th id="87">87</th><td>        <b>break</b>;</td></tr>
<tr><th id="88">88</th><td>      }</td></tr>
<tr><th id="89">89</th><td>      <b>if</b> (<a class="local col2 ref" href="#12useCachedLinear" title='useCachedLinear' data-ref="12useCachedLinear">useCachedLinear</a> &amp;&amp; <a class="local col6 ref" href="#6relinKeys" title='relinKeys' data-ref="6relinKeys">relinKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set4findERKT_" title='std::set::find' data-ref="_ZNKSt3set4findERKT_">find</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col3 ref" href="#13key" title='key' data-ref="13key">key</a>) <a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZStneRKSt23_Rb_tree_const_iteratorIT_ES4_" title='std::operator!=' data-ref="_ZStneRKSt23_Rb_tree_const_iteratorIT_ES4_">!=</a> <a class="local col6 ref" href="#6relinKeys" title='relinKeys' data-ref="6relinKeys">relinKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>())</td></tr>
<tr><th id="90">90</th><td>        <a class="local col2 ref" href="#12useCachedLinear" title='useCachedLinear' data-ref="12useCachedLinear">useCachedLinear</a> = <b>false</b>;</td></tr>
<tr><th id="91">91</th><td>    }</td></tr>
<tr><th id="92">92</th><td>    <b>if</b> (<a class="local col1 ref" href="#11inside" title='inside' data-ref="11inside">inside</a>) {</td></tr>
<tr><th id="93">93</th><td>      <b>if</b> (<a class="local col2 ref" href="#12useCachedLinear" title='useCachedLinear' data-ref="12useCachedLinear">useCachedLinear</a>) {</td></tr>
<tr><th id="94">94</th><td><u>#<span data-ppcond="94">ifdef</span> <span class="macro" data-ref="_M/GTSAM_EXTRA_CONSISTENCY_CHECKS">GTSAM_EXTRA_CONSISTENCY_CHECKS</span></u></td></tr>
<tr><th id="95">95</th><td>        assert(linearFactors_[idx]);</td></tr>
<tr><th id="96">96</th><td>        assert(linearFactors_[idx]-&gt;keys() == nonlinearFactors_[idx]-&gt;keys());</td></tr>
<tr><th id="97">97</th><td><u>#<span data-ppcond="94">endif</span></u></td></tr>
<tr><th id="98">98</th><td>        <a class="local col9 ref" href="#9linearized" title='linearized' data-ref="9linearized">linearized</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><span class='inlayHint'>factor:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col0 ref" href="#10idx" title='idx' data-ref="10idx">idx</a>]</a>);</td></tr>
<tr><th id="99">99</th><td>      } <b>else</b> {</td></tr>
<tr><th id="100">100</th><td>        <em>auto</em> <dfn class="local col4 decl" id="14linearFactor" title='linearFactor' data-type='std::shared_ptr&lt;GaussianFactor&gt;' data-ref="14linearFactor">linearFactor</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col0 ref" href="#10idx" title='idx' data-ref="10idx">idx</a>]</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="virtual ref fn" href="NonlinearFactor.h.html#_ZNK5gtsam15NonlinearFactor9linearizeERKNS_6ValuesE" title='gtsam::NonlinearFactor::linearize' data-ref="_ZNK5gtsam15NonlinearFactor9linearizeERKNS_6ValuesE">linearize</a>(<span class='inlayHint'>c:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>);</td></tr>
<tr><th id="101">101</th><td>        <a class="local col9 ref" href="#9linearized" title='linearized' data-ref="9linearized">linearized</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><span class='inlayHint'>factor:&nbsp;</span><a class="local col4 ref" href="#14linearFactor" title='linearFactor' data-ref="14linearFactor">linearFactor</a>);</td></tr>
<tr><th id="102">102</th><td>        <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::cacheLinearizedFactors" title='gtsam::ISAM2Params::cacheLinearizedFactors' data-ref="gtsam::ISAM2Params::cacheLinearizedFactors">cacheLinearizedFactors</a>) {</td></tr>
<tr><th id="103">103</th><td><u>#<span data-ppcond="103">ifdef</span> <span class="macro" data-ref="_M/GTSAM_EXTRA_CONSISTENCY_CHECKS">GTSAM_EXTRA_CONSISTENCY_CHECKS</span></u></td></tr>
<tr><th id="104">104</th><td>          assert(linearFactors_[idx]-&gt;keys() == linearFactor-&gt;keys());</td></tr>
<tr><th id="105">105</th><td><u>#<span data-ppcond="103">endif</span></u></td></tr>
<tr><th id="106">106</th><td>          <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col0 ref" href="#10idx" title='idx' data-ref="10idx">idx</a>]</a> <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSERKSt10shared_ptrIT_E">=</a> <a class="local col4 ref" href="#14linearFactor" title='linearFactor' data-ref="14linearFactor">linearFactor</a>;</td></tr>
<tr><th id="107">107</th><td>        }</td></tr>
<tr><th id="108">108</th><td>      }</td></tr>
<tr><th id="109">109</th><td>    }</td></tr>
<tr><th id="110">110</th><td>  }</td></tr>
<tr><th id="111">111</th><td>  <a class="macro" href="../base/timing.h.html#326" title="check_candidates_and_linearize_obj.stop()" data-ref="_M/gttoc">gttoc</a>(check_candidates_and_linearize);</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>  <b>return</b> <a class="ref fn fake" href="../linear/GaussianFactorGraph.h.html#73" title='gtsam::GaussianFactorGraph::GaussianFactorGraph' data-ref="_ZN5gtsam19GaussianFactorGraphC1EOS0_"></a><a class="local col9 ref" href="#9linearized" title='linearized' data-ref="9linearized">linearized</a>;</td></tr>
<tr><th id="114">114</th><td>}</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="117">117</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM211recalculateERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculate' data-ref="_ZN5gtsam5ISAM211recalculateERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEEPNS_11ISAM2ResultE">recalculate</dfn>(<em>const</em> <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a>&amp; <dfn class="local col5 decl" id="15updateParams" title='updateParams' data-type='const ISAM2UpdateParams &amp;' data-ref="15updateParams">updateParams</dfn>,</td></tr>
<tr><th id="118">118</th><td>                        <em>const</em> <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>&amp; <dfn class="local col6 decl" id="16relinKeys" title='relinKeys' data-type='const KeySet &amp;' data-ref="16relinKeys">relinKeys</dfn>, <a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a>* <dfn class="local col7 decl" id="17result" title='result' data-type='ISAM2Result *' data-ref="17result">result</dfn>) {</td></tr>
<tr><th id="119">119</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t recalculate_id_tic = ::gtsam::internal::getTicTocID(&quot;recalculate&quot;); ::gtsam::internal::AutoTicToc recalculate_obj(recalculate_id_tic, &quot;recalculate&quot;)" data-ref="_M/gttic">gttic</a>(recalculate);</td></tr>
<tr><th id="120">120</th><td>  <a class="type" href="ISAM2-impl.h.html#gtsam::UpdateImpl" title='gtsam::UpdateImpl' data-ref="gtsam::UpdateImpl">UpdateImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam10UpdateImpl18LogRecalculateKeysERKNS_11ISAM2ResultE" title='gtsam::UpdateImpl::LogRecalculateKeys' data-ref="_ZN5gtsam10UpdateImpl18LogRecalculateKeysERKNS_11ISAM2ResultE">LogRecalculateKeys</a>(<span class='inlayHint'>result:&nbsp;</span>*<a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>);</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td>  <b>if</b> (!<a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5emptyEv" title='std::set::empty' data-ref="_ZNKSt3set5emptyEv">empty</a>() || !<a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv">empty</a>()) {</td></tr>
<tr><th id="123">123</th><td>    <i>// Remove top of Bayes tree and convert to a factor graph:</i></td></tr>
<tr><th id="124">124</th><td><i>    // (a) For each affected variable, remove the corresponding clique and all</i></td></tr>
<tr><th id="125">125</th><td><i>    // parents up to the root. (b) Store orphaned sub-trees \BayesTree_{O} of</i></td></tr>
<tr><th id="126">126</th><td><i>    // removed cliques.</i></td></tr>
<tr><th id="127">127</th><td>    <a class="type" href="../linear/GaussianBayesNet.h.html#gtsam::GaussianBayesNet" title='gtsam::GaussianBayesNet' data-ref="gtsam::GaussianBayesNet">GaussianBayesNet</a> <a class="ref fn fake" href="../linear/GaussianBayesNet.h.html#_ZN5gtsam16GaussianBayesNetC1Ev" title='gtsam::GaussianBayesNet::GaussianBayesNet' data-ref="_ZN5gtsam16GaussianBayesNetC1Ev"></a><dfn class="local col8 decl" id="18affectedBayesNet" title='affectedBayesNet' data-type='GaussianBayesNet' data-ref="18affectedBayesNet">affectedBayesNet</dfn>;</td></tr>
<tr><th id="128">128</th><td>    <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a> <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1Ev" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1Ev"></a><dfn class="local col9 decl" id="19orphans" title='orphans' data-type='Cliques' data-ref="19orphans">orphans</dfn>;</td></tr>
<tr><th id="129">129</th><td>    <b>this</b>-&gt;<a class="tu member fn" href="../inference/BayesTree-inst.h.html#_ZN5gtsam9BayesTree9removeTopERKSt6vectorImSaImEEPNT_12BayesNetTypeEPNS_8FastListISt10shared_ptrIS6_EEE" title='gtsam::BayesTree::removeTop' data-use='c' data-ref="_ZN5gtsam9BayesTree9removeTopERKSt6vectorImSaImEEPNT_12BayesNetTypeEPNS_8FastListISt10shared_ptrIS6_EEE">removeTop</a>(</td></tr>
<tr><th id="130">130</th><td>        <span class='inlayHint'>keys:&nbsp;</span><a class="typedef" href="../inference/Key.h.html#gtsam::KeyVector" title='gtsam::KeyVector' data-type='FastVector&lt;Key&gt;' data-ref="gtsam::KeyVector">KeyVector</a><a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectorC1ETL0__S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ETL0__S0_RKT0_">(</a><a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>()),</td></tr>
<tr><th id="131">131</th><td>        <span class='inlayHint'>bn:&nbsp;</span>&amp;<a class="local col8 ref" href="#18affectedBayesNet" title='affectedBayesNet' data-ref="18affectedBayesNet">affectedBayesNet</a>, <span class='inlayHint'>orphans:&nbsp;</span>&amp;<a class="local col9 ref" href="#19orphans" title='orphans' data-ref="19orphans">orphans</a>);</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>    <i>// FactorGraph&lt;GaussianFactor&gt; factors(affectedBayesNet);</i></td></tr>
<tr><th id="134">134</th><td><i>    // bug was here: we cannot reuse the original factors, because then the</i></td></tr>
<tr><th id="135">135</th><td><i>    // cached factors get messed up [all the necessary data is actually</i></td></tr>
<tr><th id="136">136</th><td><i>    // contained in the affectedBayesNet, including what was passed in from the</i></td></tr>
<tr><th id="137">137</th><td><i>    // boundaries, so this would be correct; however, in the process we also</i></td></tr>
<tr><th id="138">138</th><td><i>    // generate new cached_ entries that will be wrong (ie. they don't contain</i></td></tr>
<tr><th id="139">139</th><td><i>    // what would be passed up at a certain point if batch elimination was done,</i></td></tr>
<tr><th id="140">140</th><td><i>    // but that's what we need); we could choose not to update cached_ from</i></td></tr>
<tr><th id="141">141</th><td><i>    // here, but then the new information (and potentially different variable</i></td></tr>
<tr><th id="142">142</th><td><i>    // ordering) is not reflected in the cached_ values which again will be</i></td></tr>
<tr><th id="143">143</th><td><i>    // wrong] so instead we have to retrieve the original linearized factors AND</i></td></tr>
<tr><th id="144">144</th><td><i>    // add the cached factors from the boundary</i></td></tr>
<tr><th id="145">145</th><td><i></i></td></tr>
<tr><th id="146">146</th><td><i>    // ordering provides all keys in conditionals, there cannot be others</i></td></tr>
<tr><th id="147">147</th><td><i>    // because path to root included</i></td></tr>
<tr><th id="148">148</th><td>    <a class="macro" href="../base/timing.h.html#325" title="static const size_t affectedKeys_id_tic = ::gtsam::internal::getTicTocID(&quot;affectedKeys&quot;); ::gtsam::internal::AutoTicToc affectedKeys_obj(affectedKeys_id_tic, &quot;affectedKeys&quot;)" data-ref="_M/gttic">gttic</a>(affectedKeys);</td></tr>
<tr><th id="149">149</th><td>    <a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt; <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1Ev" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1Ev"></a><dfn class="local col0 decl" id="20affectedKeys" title='affectedKeys' data-type='FastList&lt;Key&gt;' data-ref="20affectedKeys">affectedKeys</dfn>;</td></tr>
<tr><th id="150">150</th><td>    <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col1 decl" id="21conditional" title='conditional' data-type='std::shared_ptr&lt;gtsam::GaussianConditional&gt; const &amp;' data-ref="21conditional">conditional</dfn> : <a class="local col8 ref" href="#18affectedBayesNet" title='affectedBayesNet' data-ref="18affectedBayesNet">affectedBayesNet</a>)</td></tr>
<tr><th id="151">151</th><td>      <a class="local col0 ref" href="#20affectedKeys" title='affectedKeys' data-ref="20affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/list.tcc.html#_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_" title='std::list::insert' data-ref="_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E" title='std::_List_const_iterator::_List_const_iterator&lt;type-parameter-0-0&gt;' data-ref="_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E"></a><span class='inlayHint'>position:&nbsp;</span><a class="local col0 ref" href="#20affectedKeys" title='affectedKeys' data-ref="20affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNSt7__cxx114list3endEv">end</a>(), <span class='inlayHint'>first:&nbsp;</span><a class="local col1 ref" href="#21conditional" title='conditional' data-ref="21conditional">conditional</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional13beginFrontalsEv" title='gtsam::Conditional::beginFrontals' data-ref="_ZN5gtsam11Conditional13beginFrontalsEv">beginFrontals</a>(),</td></tr>
<tr><th id="152">152</th><td>                          <span class='inlayHint'>last:&nbsp;</span><a class="local col1 ref" href="#21conditional" title='conditional' data-ref="21conditional">conditional</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional11endFrontalsEv" title='gtsam::Conditional::endFrontals' data-ref="_ZN5gtsam11Conditional11endFrontalsEv">endFrontals</a>());</td></tr>
<tr><th id="153">153</th><td>    <a class="macro" href="../base/timing.h.html#326" title="affectedKeys_obj.stop()" data-ref="_M/gttoc">gttoc</a>(affectedKeys);</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>    <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col2 decl" id="22affectedKeysSet" title='affectedKeysSet' data-type='KeySet' data-ref="22affectedKeysSet">affectedKeysSet</dfn>;</td></tr>
<tr><th id="156">156</th><td>    <em>static</em> <em>const</em> <em>double</em> <dfn class="local col3 decl" id="23kBatchThreshold" title='kBatchThreshold' data-type='const double' data-ref="23kBatchThreshold">kBatchThreshold</dfn> = <var>0.65</var>;</td></tr>
<tr><th id="157">157</th><td>    <b>if</b> (<a class="local col0 ref" href="#20affectedKeys" title='affectedKeys' data-ref="20affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list4sizeEv" title='std::list::size' data-ref="_ZNKSt7__cxx114list4sizeEv">size</a>() &gt;= <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values4sizeEv" title='gtsam::Values::size' data-ref="_ZNK5gtsam6Values4sizeEv">size</a>() * <a class="local col3 ref" href="#23kBatchThreshold" title='kBatchThreshold' data-ref="23kBatchThreshold">kBatchThreshold</a>) {</td></tr>
<tr><th id="158">158</th><td>      <i>// Do a batch step - reorder and relinearize all variables</i></td></tr>
<tr><th id="159">159</th><td>      <a class="member fn" href="#_ZN5gtsam5ISAM216recalculateBatchERKNS_17ISAM2UpdateParamsEPNS_7FastSetImEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculateBatch' data-ref="_ZN5gtsam5ISAM216recalculateBatchERKNS_17ISAM2UpdateParamsEPNS_7FastSetImEEPNS_11ISAM2ResultE">recalculateBatch</a>(<a class="local col5 ref" href="#15updateParams" title='updateParams' data-ref="15updateParams">updateParams</a>, <span class='inlayHint'>affectedKeysSet:&nbsp;</span>&amp;<a class="local col2 ref" href="#22affectedKeysSet" title='affectedKeysSet' data-ref="22affectedKeysSet">affectedKeysSet</a>, <a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>);</td></tr>
<tr><th id="160">160</th><td>    } <b>else</b> {</td></tr>
<tr><th id="161">161</th><td>      <a class="member fn" href="#_ZN5gtsam5ISAM222recalculateIncrementalERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEERKNS_8FastListImEEPS5_PNS8_ISt10shared_ptrINS_11ISAM2CliqueEEEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculateIncremental' data-ref="_ZN5gtsam5ISAM222recalculateIncrementalERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEERKNS_8FastListImEEPS5_PNS8_ISt10shared_ptrINS_11ISAM2CliqueEEEEPNS_11ISAM2ResultE">recalculateIncremental</a>(<a class="local col5 ref" href="#15updateParams" title='updateParams' data-ref="15updateParams">updateParams</a>, <a class="local col6 ref" href="#16relinKeys" title='relinKeys' data-ref="16relinKeys">relinKeys</a>, <a class="local col0 ref" href="#20affectedKeys" title='affectedKeys' data-ref="20affectedKeys">affectedKeys</a>,</td></tr>
<tr><th id="162">162</th><td>                             <span class='inlayHint'>affectedKeysSet:&nbsp;</span>&amp;<a class="local col2 ref" href="#22affectedKeysSet" title='affectedKeysSet' data-ref="22affectedKeysSet">affectedKeysSet</a>, <span class='inlayHint'>orphans:&nbsp;</span>&amp;<a class="local col9 ref" href="#19orphans" title='orphans' data-ref="19orphans">orphans</a>, <a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>);</td></tr>
<tr><th id="163">163</th><td>    }</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>    <i>// Root clique variables for detailed results</i></td></tr>
<tr><th id="166">166</th><td>    <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNKSt8optionalcvbEv" title='std::optional::operator bool' data-ref="_ZNKSt8optionalcvbEv"></a><a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::detail" title='gtsam::ISAM2Result::detail' data-ref="gtsam::ISAM2Result::detail">detail</a> &amp;&amp; <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::enableDetailedResults" title='gtsam::ISAM2Params::enableDetailedResults' data-ref="gtsam::ISAM2Params::enableDetailedResults">enableDetailedResults</a>) {</td></tr>
<tr><th id="167">167</th><td>      <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col4 decl" id="24root" title='root' data-type='std::shared_ptr&lt;gtsam::ISAM2Clique&gt; const &amp;' data-ref="24root">root</dfn> : <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-ref="gtsam::BayesTree::roots_">roots_</a>)</td></tr>
<tr><th id="168">168</th><td>        <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col5 decl" id="25var" title='var' data-type='Key' data-ref="25var">var</dfn> : <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessdeEv" title='std::__shared_ptr_access::operator*' data-ref="_ZNKSt19__shared_ptr_accessdeEv">*</a><a class="local col4 ref" href="#24root" title='root' data-ref="24root">root</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>())</td></tr>
<tr><th id="169">169</th><td>          <a class="local col7 ref" href="#17result" title='result' data-ref="17result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::detail" title='gtsam::ISAM2Result::detail' data-ref="gtsam::ISAM2Result::detail">detail</a><a class="ref fn" href="../../../include/c++/13/optional.html#_ZNSt8optionalptEv" title='std::optional::operator-&gt;' data-ref="_ZNSt8optionalptEv">-&gt;</a><a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::variableStatus" title='gtsam::ISAM2Result::DetailedResults::variableStatus' data-ref="gtsam::ISAM2Result::DetailedResults::variableStatus">variableStatus</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col5 ref" href="#25var" title='var' data-ref="25var">var</a>]</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::VariableStatus::inRootClique" title='gtsam::ISAM2Result::DetailedResults::VariableStatus::inRootClique' data-ref="gtsam::ISAM2Result::DetailedResults::VariableStatus::inRootClique">inRootClique</a> = <b>true</b>;</td></tr>
<tr><th id="170">170</th><td>    }</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>    <i>// Update replaced keys mask (accumulates until back-substitution happens)</i></td></tr>
<tr><th id="173">173</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col2 ref" href="#22affectedKeysSet" title='affectedKeysSet' data-ref="22affectedKeysSet">affectedKeysSet</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col2 ref" href="#22affectedKeysSet" title='affectedKeysSet' data-ref="22affectedKeysSet">affectedKeysSet</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>());</td></tr>
<tr><th id="174">174</th><td>  }</td></tr>
<tr><th id="175">175</th><td>}</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="178">178</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM216recalculateBatchERKNS_17ISAM2UpdateParamsEPNS_7FastSetImEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculateBatch' data-ref="_ZN5gtsam5ISAM216recalculateBatchERKNS_17ISAM2UpdateParamsEPNS_7FastSetImEEPNS_11ISAM2ResultE">recalculateBatch</dfn>(<em>const</em> <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a>&amp; <dfn class="local col6 decl" id="26updateParams" title='updateParams' data-type='const ISAM2UpdateParams &amp;' data-ref="26updateParams">updateParams</dfn>,</td></tr>
<tr><th id="179">179</th><td>                             <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>* <dfn class="local col7 decl" id="27affectedKeysSet" title='affectedKeysSet' data-type='KeySet *' data-ref="27affectedKeysSet">affectedKeysSet</dfn>, <a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a>* <dfn class="local col8 decl" id="28result" title='result' data-type='ISAM2Result *' data-ref="28result">result</dfn>) {</td></tr>
<tr><th id="180">180</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t recalculateBatch_id_tic = ::gtsam::internal::getTicTocID(&quot;recalculateBatch&quot;); ::gtsam::internal::AutoTicToc recalculateBatch_obj(recalculateBatch_id_tic, &quot;recalculateBatch&quot;)" data-ref="_M/gttic">gttic</a>(recalculateBatch);</td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t add_keys_id_tic = ::gtsam::internal::getTicTocID(&quot;add_keys&quot;); ::gtsam::internal::AutoTicToc add_keys_obj(add_keys_id_tic, &quot;add_keys&quot;)" data-ref="_M/gttic">gttic</a>(add_keys);</td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td>  <i>// copy the keys from the variableIndex_ to the affectedKeysSet</i></td></tr>
<tr><th id="185">185</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; [key, _] : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>) {</td></tr>
<tr><th id="186">186</th><td>    <a class="local col7 ref" href="#27affectedKeysSet" title='affectedKeysSet' data-ref="27affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertERKT_" title='std::set::insert' data-ref="_ZNSt3set6insertERKT_">insert</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col9 ref" href="#29key" title='key' data-ref="29key">key</a>);</td></tr>
<tr><th id="187">187</th><td>  }</td></tr>
<tr><th id="188">188</th><td>  <i>// Removed unused keys:</i></td></tr>
<tr><th id="189">189</th><td>  <a class="type" href="../inference/VariableIndex.h.html#gtsam::VariableIndex" title='gtsam::VariableIndex' data-ref="gtsam::VariableIndex">VariableIndex</a> <dfn class="local col0 decl" id="30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-type='VariableIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</dfn> = <a class="ref fn fake" href="../inference/VariableIndex.h.html#41" title='gtsam::VariableIndex::VariableIndex' data-ref="_ZN5gtsam13VariableIndexC1ERKS0_"></a><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>;</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>  <a class="local col0 ref" href="#30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</a>.<a class="ref fn" href="../inference/VariableIndex-inl.h.html#_ZN5gtsam13VariableIndex21removeUnusedVariablesET_S1_" title='gtsam::VariableIndex::removeUnusedVariables' data-ref="_ZN5gtsam13VariableIndex21removeUnusedVariablesET_S1_">removeUnusedVariables</a>(<span class='inlayHint'>firstKey:&nbsp;</span><a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(),</td></tr>
<tr><th id="192">192</th><td>                                                <span class='inlayHint'>lastKey:&nbsp;</span><a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>());</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td>  <b>for</b> (<em>const</em> <a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col1 decl" id="31key" title='key' data-type='const Key' data-ref="31key">key</dfn> : <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>) {</td></tr>
<tr><th id="195">195</th><td>    <a class="local col7 ref" href="#27affectedKeysSet" title='affectedKeysSet' data-ref="27affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5eraseERKT_" title='std::set::erase' data-ref="_ZNSt3set5eraseERKT_">erase</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col1 ref" href="#31key" title='key' data-ref="31key">key</a>);</td></tr>
<tr><th id="196">196</th><td>  }</td></tr>
<tr><th id="197">197</th><td>  <a class="macro" href="../base/timing.h.html#326" title="add_keys_obj.stop()" data-ref="_M/gttoc">gttoc</a>(add_keys);</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t ordering_id_tic = ::gtsam::internal::getTicTocID(&quot;ordering&quot;); ::gtsam::internal::AutoTicToc ordering_obj(ordering_id_tic, &quot;ordering&quot;)" data-ref="_M/gttic">gttic</a>(ordering);</td></tr>
<tr><th id="200">200</th><td>  <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a> <a class="ref fn fake" href="../inference/Ordering.h.html#_ZN5gtsam8OrderingC1Ev" title='gtsam::Ordering::Ordering' data-ref="_ZN5gtsam8OrderingC1Ev"></a><dfn class="local col2 decl" id="32order" title='order' data-type='Ordering' data-ref="32order">order</dfn>;</td></tr>
<tr><th id="201">201</th><td>  <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNKSt8optionalcvbEv" title='std::optional::operator bool' data-ref="_ZNKSt8optionalcvbEv"></a><a class="local col6 ref" href="#26updateParams" title='updateParams' data-ref="26updateParams">updateParams</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::constrainedKeys" title='gtsam::ISAM2UpdateParams::constrainedKeys' data-ref="gtsam::ISAM2UpdateParams::constrainedKeys">constrainedKeys</a>) {</td></tr>
<tr><th id="202">202</th><td>    <a class="local col2 ref" href="#32order" title='order' data-ref="32order">order</a> <a class="ref fn" href="../inference/Ordering.h.html#33" title='gtsam::Ordering::operator=' data-ref="_ZN5gtsam8OrderingaSEOS0_">=</a> <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a>::<a class="ref fn" href="../inference/Ordering.h.html#_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE" title='gtsam::Ordering::ColamdConstrained' data-ref="_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE">ColamdConstrained</a>(<span class='inlayHint'>variableIndex:&nbsp;</span><a class="local col0 ref" href="#30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</a>,</td></tr>
<tr><th id="203">203</th><td>                                        <span class='inlayHint'>groups:&nbsp;</span><a class="ref fn" href="../../../include/c++/13/optional.html#_ZNKRSt8optionaldeEv" title='std::optional::operator*' data-ref="_ZNKRSt8optionaldeEv">*</a><a class="local col6 ref" href="#26updateParams" title='updateParams' data-ref="26updateParams">updateParams</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::constrainedKeys" title='gtsam::ISAM2UpdateParams::constrainedKeys' data-ref="gtsam::ISAM2UpdateParams::constrainedKeys">constrainedKeys</a>);</td></tr>
<tr><th id="204">204</th><td>  } <b>else</b> {</td></tr>
<tr><th id="205">205</th><td>    <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values4sizeEv" title='gtsam::Values::size' data-ref="_ZNK5gtsam6Values4sizeEv">size</a>() &gt; <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>()) {</td></tr>
<tr><th id="206">206</th><td>      <i>// Only if some variables are unconstrained</i></td></tr>
<tr><th id="207">207</th><td>      <a class="type" href="../base/FastMap.h.html#gtsam::FastMap" title='gtsam::FastMap' data-ref="gtsam::FastMap">FastMap</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <em>int</em>&gt; <a class="ref fn fake" href="../base/FastMap.h.html#_ZN5gtsam7FastMapC1Ev" title='gtsam::FastMap::FastMap&lt;KEY, VALUE&gt;' data-ref="_ZN5gtsam7FastMapC1Ev"></a><dfn class="local col3 decl" id="33constraintGroups" title='constraintGroups' data-type='FastMap&lt;Key, int&gt;' data-ref="33constraintGroups">constraintGroups</dfn>;</td></tr>
<tr><th id="208">208</th><td>      <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col4 decl" id="34var" title='var' data-type='Key' data-ref="34var">var</dfn> : <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>) <a class="local col3 ref" href="#33constraintGroups" title='constraintGroups' data-ref="33constraintGroups">constraintGroups</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col4 ref" href="#34var" title='var' data-ref="34var">var</a>]</a> = <var>1</var>;</td></tr>
<tr><th id="209">209</th><td>      <a class="local col2 ref" href="#32order" title='order' data-ref="32order">order</a> <a class="ref fn" href="../inference/Ordering.h.html#33" title='gtsam::Ordering::operator=' data-ref="_ZN5gtsam8OrderingaSEOS0_">=</a> <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a>::<a class="ref fn" href="../inference/Ordering.h.html#_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE" title='gtsam::Ordering::ColamdConstrained' data-ref="_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE">ColamdConstrained</a>(<span class='inlayHint'>variableIndex:&nbsp;</span><a class="local col0 ref" href="#30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</a>,</td></tr>
<tr><th id="210">210</th><td>                                          <span class='inlayHint'>groups:&nbsp;</span><a class="local col3 ref" href="#33constraintGroups" title='constraintGroups' data-ref="33constraintGroups">constraintGroups</a>);</td></tr>
<tr><th id="211">211</th><td>    } <b>else</b> {</td></tr>
<tr><th id="212">212</th><td>      <a class="local col2 ref" href="#32order" title='order' data-ref="32order">order</a> <a class="ref fn" href="../inference/Ordering.h.html#33" title='gtsam::Ordering::operator=' data-ref="_ZN5gtsam8OrderingaSEOS0_">=</a> <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a>::<a class="ref fn" href="../inference/Ordering.h.html#_ZN5gtsam8Ordering6ColamdERKNS_13VariableIndexE" title='gtsam::Ordering::Colamd' data-ref="_ZN5gtsam8Ordering6ColamdERKNS_13VariableIndexE">Colamd</a>(<span class='inlayHint'>variableIndex:&nbsp;</span><a class="local col0 ref" href="#30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</a>);</td></tr>
<tr><th id="213">213</th><td>    }</td></tr>
<tr><th id="214">214</th><td>  }</td></tr>
<tr><th id="215">215</th><td>  <a class="macro" href="../base/timing.h.html#326" title="ordering_obj.stop()" data-ref="_M/gttoc">gttoc</a>(ordering);</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t linearize_id_tic = ::gtsam::internal::getTicTocID(&quot;linearize&quot;); ::gtsam::internal::AutoTicToc linearize_obj(linearize_id_tic, &quot;linearize&quot;)" data-ref="_M/gttic">gttic</a>(linearize);</td></tr>
<tr><th id="218">218</th><td>  <em>auto</em> <dfn class="local col5 decl" id="35linearized" title='linearized' data-type='std::shared_ptr&lt;GaussianFactorGraph&gt;' data-ref="35linearized">linearized</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="NonlinearFactorGraph.h.html#_ZNK5gtsam20NonlinearFactorGraph9linearizeERKNS_6ValuesE" title='gtsam::NonlinearFactorGraph::linearize' data-ref="_ZNK5gtsam20NonlinearFactorGraph9linearizeERKNS_6ValuesE">linearize</a>(<span class='inlayHint'>linearizationPoint:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>);</td></tr>
<tr><th id="219">219</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::cacheLinearizedFactors" title='gtsam::ISAM2Params::cacheLinearizedFactors' data-ref="gtsam::ISAM2Params::cacheLinearizedFactors">cacheLinearizedFactors</a>) <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a> <a class="ref fn" href="../linear/GaussianFactorGraph.h.html#73" title='gtsam::GaussianFactorGraph::operator=' data-ref="_ZN5gtsam19GaussianFactorGraphaSERKS0_">=</a> <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessdeEv" title='std::__shared_ptr_access::operator*' data-ref="_ZNKSt19__shared_ptr_accessdeEv">*</a><a class="local col5 ref" href="#35linearized" title='linearized' data-ref="35linearized">linearized</a>;</td></tr>
<tr><th id="220">220</th><td>  <a class="macro" href="../base/timing.h.html#326" title="linearize_obj.stop()" data-ref="_M/gttoc">gttoc</a>(linearize);</td></tr>
<tr><th id="221">221</th><td></td></tr>
<tr><th id="222">222</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t eliminate_id_tic = ::gtsam::internal::getTicTocID(&quot;eliminate&quot;); ::gtsam::internal::AutoTicToc eliminate_obj(eliminate_id_tic, &quot;eliminate&quot;)" data-ref="_M/gttic">gttic</a>(eliminate);</td></tr>
<tr><th id="223">223</th><td>  <a class="type" href="ISAM2-impl.h.html#gtsam::ISAM2BayesTree" title='gtsam::ISAM2BayesTree' data-ref="gtsam::ISAM2BayesTree">ISAM2BayesTree</a>::<a class="typedef" href="ISAM2-impl.h.html#gtsam::ISAM2BayesTree::shared_ptr" title='gtsam::ISAM2BayesTree::shared_ptr' data-type='std::shared_ptr&lt;This&gt;' data-ref="gtsam::ISAM2BayesTree::shared_ptr">shared_ptr</a> <dfn class="local col6 decl" id="36bayesTree" title='bayesTree' data-type='ISAM2BayesTree::shared_ptr' data-ref="36bayesTree">bayesTree</dfn> =</td></tr>
<tr><th id="224">224</th><td>      <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1EOSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1EOSt10shared_ptrIT_E"></a><a class="type" href="ISAM2-impl.h.html#gtsam::ISAM2JunctionTree" title='gtsam::ISAM2JunctionTree' data-ref="gtsam::ISAM2JunctionTree">ISAM2JunctionTree</a><a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam17ISAM2JunctionTreeC1ERKNS_23GaussianEliminationTreeE" title='gtsam::ISAM2JunctionTree::ISAM2JunctionTree' data-ref="_ZN5gtsam17ISAM2JunctionTreeC1ERKNS_23GaussianEliminationTreeE">(</a></td></tr>
<tr><th id="225">225</th><td>          <a class="type" href="../linear/GaussianEliminationTree.h.html#gtsam::GaussianEliminationTree" title='gtsam::GaussianEliminationTree' data-ref="gtsam::GaussianEliminationTree">GaussianEliminationTree</a><a class="ref fn" href="../linear/GaussianEliminationTree.h.html#_ZN5gtsam23GaussianEliminationTreeC1ERKNS_19GaussianFactorGraphERKNS_13VariableIndexERKNS_8OrderingE" title='gtsam::GaussianEliminationTree::GaussianEliminationTree' data-ref="_ZN5gtsam23GaussianEliminationTreeC1ERKNS_19GaussianFactorGraphERKNS_13VariableIndexERKNS_8OrderingE">(</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessdeEv" title='std::__shared_ptr_access::operator*' data-ref="_ZNKSt19__shared_ptr_accessdeEv">*</a><a class="local col5 ref" href="#35linearized" title='linearized' data-ref="35linearized">linearized</a>, <a class="local col0 ref" href="#30affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="30affectedFactorsVarIndex">affectedFactorsVarIndex</a>, <a class="local col2 ref" href="#32order" title='order' data-ref="32order">order</a>))</td></tr>
<tr><th id="226">226</th><td>          .<a class="ref fn" href="../inference/ClusterTree-inst.h.html#_ZNK5gtsam23EliminatableClusterTree9eliminateERKNT0_9EliminateE" title='gtsam::EliminatableClusterTree::eliminate' data-ref="_ZNK5gtsam23EliminatableClusterTree9eliminateERKNT0_9EliminateE">eliminate</a>(<span class='inlayHint'>function:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref fn" href="ISAM2Params.h.html#_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv" title='gtsam::ISAM2Params::getEliminationFunction' data-ref="_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv">getEliminationFunction</a>())</td></tr>
<tr><th id="227">227</th><td>          .<a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;std::shared_ptr&lt;gtsam::ISAM2BayesTree&gt;, std::shared_ptr&lt;gtsam::GaussianFactorGraph&gt;&gt;::first' data-ref="std::pair::first">first</a>;</td></tr>
<tr><th id="228">228</th><td>  <a class="macro" href="../base/timing.h.html#326" title="eliminate_obj.stop()" data-ref="_M/gttoc">gttoc</a>(eliminate);</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t insert_id_tic = ::gtsam::internal::getTicTocID(&quot;insert&quot;); ::gtsam::internal::AutoTicToc insert_obj(insert_id_tic, &quot;insert&quot;)" data-ref="_M/gttic">gttic</a>(insert);</td></tr>
<tr><th id="231">231</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='m' data-ref="gtsam::BayesTree::roots_">roots_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector5clearEv" title='std::vector::clear' data-ref="_ZNSt6vector5clearEv">clear</a>();</td></tr>
<tr><th id="232">232</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='m' data-ref="gtsam::BayesTree::roots_">roots_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13c1865182" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13c1865182">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><span class='inlayHint'>position:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='m' data-ref="gtsam::BayesTree::roots_">roots_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <span class='inlayHint'>first:&nbsp;</span><a class="local col6 ref" href="#36bayesTree" title='bayesTree' data-ref="36bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5rootsEv" title='gtsam::BayesTree::roots' data-use='c' data-ref="_ZNK5gtsam9BayesTree5rootsEv">roots</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(),</td></tr>
<tr><th id="233">233</th><td>                <span class='inlayHint'>last:&nbsp;</span><a class="local col6 ref" href="#36bayesTree" title='bayesTree' data-ref="36bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5rootsEv" title='gtsam::BayesTree::roots' data-use='c' data-ref="_ZNK5gtsam9BayesTree5rootsEv">roots</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>());</td></tr>
<tr><th id="234">234</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::nodes_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::nodes_' data-use='m' data-ref="gtsam::BayesTree::nodes_">nodes_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map5clearEv" title='std::map::clear' data-ref="_ZNSt3map5clearEv">clear</a>();</td></tr>
<tr><th id="235">235</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::nodes_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::nodes_' data-use='m' data-ref="gtsam::BayesTree::nodes_">nodes_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map6insertETL0__S0_" title='std::map::insert' data-ref="_ZNSt3map6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col6 ref" href="#36bayesTree" title='bayesTree' data-ref="36bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5nodesEv" title='gtsam::BayesTree::nodes' data-use='c' data-ref="_ZNK5gtsam9BayesTree5nodesEv">nodes</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNKSt3map5beginEv" title='std::map::begin' data-ref="_ZNKSt3map5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col6 ref" href="#36bayesTree" title='bayesTree' data-ref="36bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5nodesEv" title='gtsam::BayesTree::nodes' data-use='c' data-ref="_ZNK5gtsam9BayesTree5nodesEv">nodes</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNKSt3map3endEv" title='std::map::end' data-ref="_ZNKSt3map3endEv">end</a>());</td></tr>
<tr><th id="236">236</th><td>  <a class="macro" href="../base/timing.h.html#326" title="insert_obj.stop()" data-ref="_M/gttoc">gttoc</a>(insert);</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td>  <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::variablesReeliminated" title='gtsam::ISAM2Result::variablesReeliminated' data-ref="gtsam::ISAM2Result::variablesReeliminated">variablesReeliminated</a> = <a class="local col7 ref" href="#27affectedKeysSet" title='affectedKeysSet' data-ref="27affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set4sizeEv" title='std::set::size' data-ref="_ZNKSt3set4sizeEv">size</a>();</td></tr>
<tr><th id="239">239</th><td>  <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::factorsRecalculated" title='gtsam::ISAM2Result::factorsRecalculated' data-ref="gtsam::ISAM2Result::factorsRecalculated">factorsRecalculated</a> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZNK5gtsam11FactorGraph4sizeEv" title='gtsam::FactorGraph::size' data-ref="_ZNK5gtsam11FactorGraph4sizeEv">size</a>();</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>  <i>// Reeliminated keys for detailed results</i></td></tr>
<tr><th id="242">242</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::enableDetailedResults" title='gtsam::ISAM2Params::enableDetailedResults' data-ref="gtsam::ISAM2Params::enableDetailedResults">enableDetailedResults</a>) {</td></tr>
<tr><th id="243">243</th><td>    <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col7 decl" id="37key" title='key' data-type='Key' data-ref="37key">key</dfn> : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values4keysEv" title='gtsam::Values::keys' data-ref="_ZNK5gtsam6Values4keysEv">keys</a>()) {</td></tr>
<tr><th id="244">244</th><td>      <a class="local col8 ref" href="#28result" title='result' data-ref="28result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::detail" title='gtsam::ISAM2Result::detail' data-ref="gtsam::ISAM2Result::detail">detail</a><a class="ref fn" href="../../../include/c++/13/optional.html#_ZNSt8optionalptEv" title='std::optional::operator-&gt;' data-ref="_ZNSt8optionalptEv">-&gt;</a><a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::variableStatus" title='gtsam::ISAM2Result::DetailedResults::variableStatus' data-ref="gtsam::ISAM2Result::DetailedResults::variableStatus">variableStatus</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col7 ref" href="#37key" title='key' data-ref="37key">key</a>]</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated" title='gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated' data-ref="gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated">isReeliminated</a> = <b>true</b>;</td></tr>
<tr><th id="245">245</th><td>    }</td></tr>
<tr><th id="246">246</th><td>  }</td></tr>
<tr><th id="247">247</th><td>}</td></tr>
<tr><th id="248">248</th><td></td></tr>
<tr><th id="249">249</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="250">250</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM222recalculateIncrementalERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEERKNS_8FastListImEEPS5_PNS8_ISt10shared_ptrINS_11ISAM2CliqueEEEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculateIncremental' data-ref="_ZN5gtsam5ISAM222recalculateIncrementalERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEERKNS_8FastListImEEPS5_PNS8_ISt10shared_ptrINS_11ISAM2CliqueEEEEPNS_11ISAM2ResultE">recalculateIncremental</dfn>(<em>const</em> <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a>&amp; <dfn class="local col8 decl" id="38updateParams" title='updateParams' data-type='const ISAM2UpdateParams &amp;' data-ref="38updateParams">updateParams</dfn>,</td></tr>
<tr><th id="251">251</th><td>                                   <em>const</em> <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>&amp; <dfn class="local col9 decl" id="39relinKeys" title='relinKeys' data-type='const KeySet &amp;' data-ref="39relinKeys">relinKeys</dfn>,</td></tr>
<tr><th id="252">252</th><td>                                   <em>const</em> <a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt;&amp; <dfn class="local col0 decl" id="40affectedKeys" title='affectedKeys' data-type='const FastList&lt;Key&gt; &amp;' data-ref="40affectedKeys">affectedKeys</dfn>,</td></tr>
<tr><th id="253">253</th><td>                                   <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>* <dfn class="local col1 decl" id="41affectedKeysSet" title='affectedKeysSet' data-type='KeySet *' data-ref="41affectedKeysSet">affectedKeysSet</dfn>, <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a>* <dfn class="local col2 decl" id="42orphans" title='orphans' data-type='Cliques *' data-ref="42orphans">orphans</dfn>,</td></tr>
<tr><th id="254">254</th><td>                                   <a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a>* <dfn class="local col3 decl" id="43result" title='result' data-type='ISAM2Result *' data-ref="43result">result</dfn>) {</td></tr>
<tr><th id="255">255</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t recalculateIncremental_id_tic = ::gtsam::internal::getTicTocID(&quot;recalculateIncremental&quot;); ::gtsam::internal::AutoTicToc recalculateIncremental_obj(recalculateIncremental_id_tic, &quot;recalculateIncremental&quot;)" data-ref="_M/gttic">gttic</a>(recalculateIncremental);</td></tr>
<tr><th id="256">256</th><td>  <em>const</em> <em>bool</em> <dfn class="local col4 decl" id="44debug" title='debug' data-type='const bool' data-ref="44debug">debug</dfn> = <a class="macro" href="../base/debug.h.html#65" title="(false)" data-ref="_M/ISDEBUG">ISDEBUG</a>(<q>"ISAM2 recalculate"</q>);</td></tr>
<tr><th id="257">257</th><td></td></tr>
<tr><th id="258">258</th><td>  <i>// 2. Add the new factors \Factors' into the resulting factor graph</i></td></tr>
<tr><th id="259">259</th><td>  <a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt; <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1Ev" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1Ev"></a><dfn class="local col5 decl" id="45affectedAndNewKeys" title='affectedAndNewKeys' data-type='FastList&lt;Key&gt;' data-ref="45affectedAndNewKeys">affectedAndNewKeys</dfn>;</td></tr>
<tr><th id="260">260</th><td>  <a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/list.tcc.html#_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_" title='std::list::insert' data-ref="_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E" title='std::_List_const_iterator::_List_const_iterator&lt;type-parameter-0-0&gt;' data-ref="_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E"></a><span class='inlayHint'>position:&nbsp;</span><a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNSt7__cxx114list3endEv">end</a>(), <span class='inlayHint'>first:&nbsp;</span><a class="local col0 ref" href="#40affectedKeys" title='affectedKeys' data-ref="40affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list5beginEv" title='std::list::begin' data-ref="_ZNKSt7__cxx114list5beginEv">begin</a>(),</td></tr>
<tr><th id="261">261</th><td>                            <span class='inlayHint'>last:&nbsp;</span><a class="local col0 ref" href="#40affectedKeys" title='affectedKeys' data-ref="40affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNKSt7__cxx114list3endEv">end</a>());</td></tr>
<tr><th id="262">262</th><td>  <a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/list.tcc.html#_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_" title='std::list::insert' data-ref="_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E" title='std::_List_const_iterator::_List_const_iterator&lt;type-parameter-0-0&gt;' data-ref="_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E"></a><span class='inlayHint'>position:&nbsp;</span><a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNSt7__cxx114list3endEv">end</a>(),</td></tr>
<tr><th id="263">263</th><td>                            <span class='inlayHint'>first:&nbsp;</span><a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>(),</td></tr>
<tr><th id="264">264</th><td>                            <span class='inlayHint'>last:&nbsp;</span><a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>());</td></tr>
<tr><th id="265">265</th><td>  <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <dfn class="local col6 decl" id="46factors" title='factors' data-type='GaussianFactorGraph' data-ref="46factors">factors</dfn> =</td></tr>
<tr><th id="266">266</th><td>      <a class="member fn" href="#_ZN5gtsam5ISAM226relinearizeAffectedFactorsERKNS_17ISAM2UpdateParamsERKNS_8FastListImEERKNS_7FastSetImEE" title='gtsam::ISAM2::relinearizeAffectedFactors' data-ref="_ZN5gtsam5ISAM226relinearizeAffectedFactorsERKNS_17ISAM2UpdateParamsERKNS_8FastListImEERKNS_7FastSetImEE">relinearizeAffectedFactors</a>(<a class="local col8 ref" href="#38updateParams" title='updateParams' data-ref="38updateParams">updateParams</a>, <span class='inlayHint'>affectedKeys:&nbsp;</span><a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>, <a class="local col9 ref" href="#39relinKeys" title='relinKeys' data-ref="39relinKeys">relinKeys</a>);</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>  <b>if</b> (<a class="local col4 ref" href="#44debug" title='debug' data-ref="44debug">debug</a>) {</td></tr>
<tr><th id="269">269</th><td>    <a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>.<a class="virtual ref fn" href="../inference/FactorGraph-inst.h.html#_ZNK5gtsam11FactorGraph5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE" title='gtsam::FactorGraph::print' data-ref="_ZNK5gtsam11FactorGraph5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE">print</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><span class='inlayHint'>s:&nbsp;</span><q>"Relinearized factors: "</q>);</td></tr>
<tr><th id="270">270</th><td>    <span class="namespace">std::</span><a class="ref" href="../../../include/c++/13/iostream.html#std::cout" title='std::cout' data-ref="std::cout">cout</a> <a class="ref fn" href="../../../include/c++/13/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Affected keys: "</q>;</td></tr>
<tr><th id="271">271</th><td>    <b>for</b> (<em>const</em> <a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col7 decl" id="47key" title='key' data-type='const Key' data-ref="47key">key</dfn> : <a class="local col0 ref" href="#40affectedKeys" title='affectedKeys' data-ref="40affectedKeys">affectedKeys</a>) {</td></tr>
<tr><th id="272">272</th><td>      <span class="namespace">std::</span><a class="ref" href="../../../include/c++/13/iostream.html#std::cout" title='std::cout' data-ref="std::cout">cout</a> <a class="ref fn" href="../../../include/c++/13/ostream.html#_ZNSt13basic_ostreamlsEm" title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEm">&lt;&lt;</a> <a class="local col7 ref" href="#47key" title='key' data-ref="47key">key</a> <a class="ref fn" href="../../../include/c++/13/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>" "</q>;</td></tr>
<tr><th id="273">273</th><td>    }</td></tr>
<tr><th id="274">274</th><td>    <span class="namespace">std::</span><a class="ref" href="../../../include/c++/13/iostream.html#std::cout" title='std::cout' data-ref="std::cout">cout</a> <a class="ref fn" href="../../../include/c++/13/ostream.html#_ZNSt13basic_ostreamlsEPFRSt13basic_ostreamIT_T0_ES5_E" title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEPFRSt13basic_ostreamIT_T0_ES5_E">&lt;&lt;</a> <span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/ostream.html#_ZSt4endlRSt13basic_ostreamIT_T0_E" title='std::endl' data-ref="_ZSt4endlRSt13basic_ostreamIT_T0_E">endl</a>;</td></tr>
<tr><th id="275">275</th><td>  }</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td>  <i>// Reeliminated keys for detailed results</i></td></tr>
<tr><th id="278">278</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::enableDetailedResults" title='gtsam::ISAM2Params::enableDetailedResults' data-ref="gtsam::ISAM2Params::enableDetailedResults">enableDetailedResults</a>) {</td></tr>
<tr><th id="279">279</th><td>    <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col8 decl" id="48key" title='key' data-type='Key' data-ref="48key">key</dfn> : <a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>) {</td></tr>
<tr><th id="280">280</th><td>      <a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::detail" title='gtsam::ISAM2Result::detail' data-ref="gtsam::ISAM2Result::detail">detail</a><a class="ref fn" href="../../../include/c++/13/optional.html#_ZNSt8optionalptEv" title='std::optional::operator-&gt;' data-ref="_ZNSt8optionalptEv">-&gt;</a><a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::variableStatus" title='gtsam::ISAM2Result::DetailedResults::variableStatus' data-ref="gtsam::ISAM2Result::DetailedResults::variableStatus">variableStatus</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col8 ref" href="#48key" title='key' data-ref="48key">key</a>]</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated" title='gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated' data-ref="gtsam::ISAM2Result::DetailedResults::VariableStatus::isReeliminated">isReeliminated</a> = <b>true</b>;</td></tr>
<tr><th id="281">281</th><td>    }</td></tr>
<tr><th id="282">282</th><td>  }</td></tr>
<tr><th id="283">283</th><td></td></tr>
<tr><th id="284">284</th><td>  <a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::variablesReeliminated" title='gtsam::ISAM2Result::variablesReeliminated' data-ref="gtsam::ISAM2Result::variablesReeliminated">variablesReeliminated</a> = <a class="local col5 ref" href="#45affectedAndNewKeys" title='affectedAndNewKeys' data-ref="45affectedAndNewKeys">affectedAndNewKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list4sizeEv" title='std::list::size' data-ref="_ZNKSt7__cxx114list4sizeEv">size</a>();</td></tr>
<tr><th id="285">285</th><td>  <a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::factorsRecalculated" title='gtsam::ISAM2Result::factorsRecalculated' data-ref="gtsam::ISAM2Result::factorsRecalculated">factorsRecalculated</a> = <a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZNK5gtsam11FactorGraph4sizeEv" title='gtsam::FactorGraph::size' data-ref="_ZNK5gtsam11FactorGraph4sizeEv">size</a>();</td></tr>
<tr><th id="286">286</th><td></td></tr>
<tr><th id="287">287</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t cached_id_tic = ::gtsam::internal::getTicTocID(&quot;cached&quot;); ::gtsam::internal::AutoTicToc cached_obj(cached_id_tic, &quot;cached&quot;)" data-ref="_M/gttic">gttic</a>(cached);</td></tr>
<tr><th id="288">288</th><td>  <i>// Add the cached intermediate results from the boundary of the orphans...</i></td></tr>
<tr><th id="289">289</th><td>  <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <dfn class="local col9 decl" id="49cachedBoundary" title='cachedBoundary' data-type='GaussianFactorGraph' data-ref="49cachedBoundary">cachedBoundary</dfn> =</td></tr>
<tr><th id="290">290</th><td>      <a class="type" href="ISAM2-impl.h.html#gtsam::UpdateImpl" title='gtsam::UpdateImpl' data-ref="gtsam::UpdateImpl">UpdateImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam10UpdateImpl24GetCachedBoundaryFactorsERKNS_8FastListISt10shared_ptrINS_11ISAM2CliqueEEEE" title='gtsam::UpdateImpl::GetCachedBoundaryFactors' data-ref="_ZN5gtsam10UpdateImpl24GetCachedBoundaryFactorsERKNS_8FastListISt10shared_ptrINS_11ISAM2CliqueEEEE">GetCachedBoundaryFactors</a>(<span class='inlayHint'>orphans:&nbsp;</span>*<a class="local col2 ref" href="#42orphans" title='orphans' data-ref="42orphans">orphans</a>);</td></tr>
<tr><th id="291">291</th><td>  <b>if</b> (<a class="local col4 ref" href="#44debug" title='debug' data-ref="44debug">debug</a>) <a class="local col9 ref" href="#49cachedBoundary" title='cachedBoundary' data-ref="49cachedBoundary">cachedBoundary</a>.<a class="virtual ref fn" href="../inference/FactorGraph-inst.h.html#_ZNK5gtsam11FactorGraph5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE" title='gtsam::FactorGraph::print' data-ref="_ZNK5gtsam11FactorGraph5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE">print</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><span class='inlayHint'>s:&nbsp;</span><q>"Boundary factors: "</q>);</td></tr>
<tr><th id="292">292</th><td>  <a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backERKTL0__" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backERKTL0__">push_back</a>(<span class='inlayHint'>container:&nbsp;</span><a class="local col9 ref" href="#49cachedBoundary" title='cachedBoundary' data-ref="49cachedBoundary">cachedBoundary</a>);</td></tr>
<tr><th id="293">293</th><td>  <a class="macro" href="../base/timing.h.html#326" title="cached_obj.stop()" data-ref="_M/gttoc">gttoc</a>(cached);</td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t orphans_id_tic = ::gtsam::internal::getTicTocID(&quot;orphans&quot;); ::gtsam::internal::AutoTicToc orphans_obj(orphans_id_tic, &quot;orphans&quot;)" data-ref="_M/gttic">gttic</a>(orphans);</td></tr>
<tr><th id="296">296</th><td>  <i>// Add the orphaned subtrees</i></td></tr>
<tr><th id="297">297</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col0 decl" id="50orphan" title='orphan' data-type='std::shared_ptr&lt;gtsam::ISAM2Clique&gt; const &amp;' data-ref="50orphan">orphan</dfn> : *<a class="local col2 ref" href="#42orphans" title='orphans' data-ref="42orphans">orphans</a>)</td></tr>
<tr><th id="298">298</th><td>    <a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph14emplace_sharedEDpOTL0_0_" title='gtsam::FactorGraph::emplace_shared' data-ref="_ZN5gtsam11FactorGraph14emplace_sharedEDpOTL0_0_">emplace_shared</a>&lt;<a class="type" href="../inference/BayesTree.h.html#gtsam::BayesTreeOrphanWrapper" title='gtsam::BayesTreeOrphanWrapper' data-ref="gtsam::BayesTreeOrphanWrapper">BayesTreeOrphanWrapper</a>&lt;<a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Clique" title='gtsam::ISAM2::Clique' data-type='Base::Clique' data-ref="gtsam::ISAM2::Clique">Clique</a>&gt; &gt;(<span class='inlayHint'>args:&nbsp;</span><a class="local col0 ref" href="#50orphan" title='orphan' data-ref="50orphan">orphan</a>);</td></tr>
<tr><th id="299">299</th><td>  <a class="macro" href="../base/timing.h.html#326" title="orphans_obj.stop()" data-ref="_M/gttoc">gttoc</a>(orphans);</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>  <i>// 3. Re-order and eliminate the factor graph into a Bayes net (Algorithm</i></td></tr>
<tr><th id="302">302</th><td><i>  // [alg:eliminate]), and re-assemble into a new Bayes tree (Algorithm</i></td></tr>
<tr><th id="303">303</th><td><i>  // [alg:BayesTree])</i></td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t reorder_and_eliminate_id_tic = ::gtsam::internal::getTicTocID(&quot;reorder_and_eliminate&quot;); ::gtsam::internal::AutoTicToc reorder_and_eliminate_obj(reorder_and_eliminate_id_tic, &quot;reorder_and_eliminate&quot;)" data-ref="_M/gttic">gttic</a>(reorder_and_eliminate);</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t list_to_set_id_tic = ::gtsam::internal::getTicTocID(&quot;list_to_set&quot;); ::gtsam::internal::AutoTicToc list_to_set_obj(list_to_set_id_tic, &quot;list_to_set&quot;)" data-ref="_M/gttic">gttic</a>(list_to_set);</td></tr>
<tr><th id="308">308</th><td>  <i>// create a partial reordering for the new and contaminated factors</i></td></tr>
<tr><th id="309">309</th><td><i>  // result-&gt;markedKeys are passed in: those variables will be forced to the</i></td></tr>
<tr><th id="310">310</th><td><i>  // end in the ordering</i></td></tr>
<tr><th id="311">311</th><td>  <a class="local col1 ref" href="#41affectedKeysSet" title='affectedKeysSet' data-ref="41affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>());</td></tr>
<tr><th id="312">312</th><td>  <a class="local col1 ref" href="#41affectedKeysSet" title='affectedKeysSet' data-ref="41affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col0 ref" href="#40affectedKeys" title='affectedKeys' data-ref="40affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list5beginEv" title='std::list::begin' data-ref="_ZNKSt7__cxx114list5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col0 ref" href="#40affectedKeys" title='affectedKeys' data-ref="40affectedKeys">affectedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNKSt7__cxx114list3endEv">end</a>());</td></tr>
<tr><th id="313">313</th><td>  <a class="macro" href="../base/timing.h.html#326" title="list_to_set_obj.stop()" data-ref="_M/gttoc">gttoc</a>(list_to_set);</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>  <a class="type" href="../inference/VariableIndex.h.html#gtsam::VariableIndex" title='gtsam::VariableIndex' data-ref="gtsam::VariableIndex">VariableIndex</a> <dfn class="local col1 decl" id="51affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-type='VariableIndex' data-ref="51affectedFactorsVarIndex">affectedFactorsVarIndex</dfn><a class="ref fn" href="../inference/VariableIndex.h.html#_ZN5gtsam13VariableIndexC1ERKT_" title='gtsam::VariableIndex::VariableIndex' data-ref="_ZN5gtsam13VariableIndexC1ERKT_">(</a><a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>);</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t ordering_constraints_id_tic = ::gtsam::internal::getTicTocID(&quot;ordering_constraints&quot;); ::gtsam::internal::AutoTicToc ordering_constraints_obj(ordering_constraints_id_tic, &quot;ordering_constraints&quot;)" data-ref="_M/gttic">gttic</a>(ordering_constraints);</td></tr>
<tr><th id="318">318</th><td>  <i>// Create ordering constraints</i></td></tr>
<tr><th id="319">319</th><td>  <a class="type" href="../base/FastMap.h.html#gtsam::FastMap" title='gtsam::FastMap' data-ref="gtsam::FastMap">FastMap</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <em>int</em>&gt; <a class="ref fn fake" href="../base/FastMap.h.html#_ZN5gtsam7FastMapC1Ev" title='gtsam::FastMap::FastMap&lt;KEY, VALUE&gt;' data-ref="_ZN5gtsam7FastMapC1Ev"></a><dfn class="local col2 decl" id="52constraintGroups" title='constraintGroups' data-type='FastMap&lt;Key, int&gt;' data-ref="52constraintGroups">constraintGroups</dfn>;</td></tr>
<tr><th id="320">320</th><td>  <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNKSt8optionalcvbEv" title='std::optional::operator bool' data-ref="_ZNKSt8optionalcvbEv"></a><a class="local col8 ref" href="#38updateParams" title='updateParams' data-ref="38updateParams">updateParams</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::constrainedKeys" title='gtsam::ISAM2UpdateParams::constrainedKeys' data-ref="gtsam::ISAM2UpdateParams::constrainedKeys">constrainedKeys</a>) {</td></tr>
<tr><th id="321">321</th><td>    <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a> <a class="ref fn" href="../base/FastMap.h.html#_ZN5gtsam7FastMapaSERKNS_7FastMapIT_T0_EE" title='gtsam::FastMap::operator=' data-ref="_ZN5gtsam7FastMapaSERKNS_7FastMapIT_T0_EE">=</a> <a class="ref fn" href="../../../include/c++/13/optional.html#_ZNKRSt8optionaldeEv" title='std::optional::operator*' data-ref="_ZNKRSt8optionaldeEv">*</a><a class="local col8 ref" href="#38updateParams" title='updateParams' data-ref="38updateParams">updateParams</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::constrainedKeys" title='gtsam::ISAM2UpdateParams::constrainedKeys' data-ref="gtsam::ISAM2UpdateParams::constrainedKeys">constrainedKeys</a>;</td></tr>
<tr><th id="322">322</th><td>  } <b>else</b> {</td></tr>
<tr><th id="323">323</th><td>    <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a> <a class="ref fn" href="../base/FastMap.h.html#_ZN5gtsam7FastMapaSERKNS_7FastMapIT_T0_EE" title='gtsam::FastMap::operator=' data-ref="_ZN5gtsam7FastMapaSERKNS_7FastMapIT_T0_EE">=</a> <a class="type" href="../base/FastMap.h.html#gtsam::FastMap" title='gtsam::FastMap' data-ref="gtsam::FastMap">FastMap</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <em>int</em>&gt;<a class="ref fn" href="../base/FastMap.h.html#_ZN5gtsam7FastMapC1Ev" title='gtsam::FastMap::FastMap&lt;KEY, VALUE&gt;' data-ref="_ZN5gtsam7FastMapC1Ev">(</a>);</td></tr>
<tr><th id="324">324</th><td>    <em>const</em> <em>int</em> <dfn class="local col3 decl" id="53group" title='group' data-type='const int' data-ref="53group">group</dfn> =</td></tr>
<tr><th id="325">325</th><td>        <a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() &lt; <a class="local col1 ref" href="#51affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="51affectedFactorsVarIndex">affectedFactorsVarIndex</a>.<a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndex4sizeEv" title='gtsam::VariableIndex::size' data-ref="_ZNK5gtsam13VariableIndex4sizeEv">size</a>() ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="326">326</th><td>    <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col4 decl" id="54var" title='var' data-type='Key' data-ref="54var">var</dfn> : <a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::observedKeys" title='gtsam::ISAM2Result::observedKeys' data-ref="gtsam::ISAM2Result::observedKeys">observedKeys</a>)</td></tr>
<tr><th id="327">327</th><td>      <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map7emplaceEDpOTL0__" title='std::map::emplace' data-ref="_ZNSt3map7emplaceEDpOTL0__">emplace</a>(<span class='inlayHint'>args&amp;:&nbsp;</span><span class='refarg'><a class="local col4 ref" href="#54var" title='var' data-ref="54var">var</a></span>, <span class='inlayHint'>args:&nbsp;</span><a class="local col3 ref" href="#53group" title='group' data-ref="53group">group</a>);</td></tr>
<tr><th id="328">328</th><td>  }</td></tr>
<tr><th id="329">329</th><td></td></tr>
<tr><th id="330">330</th><td>  <i>// Remove unaffected keys from the constraints</i></td></tr>
<tr><th id="331">331</th><td>  <b>for</b> (<a class="type" href="../base/FastMap.h.html#gtsam::FastMap" title='gtsam::FastMap' data-ref="gtsam::FastMap">FastMap</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <em>int</em>&gt;::<a class="typedef" href="../../../include/c++/13/bits/stl_map.h.html#std::map{unsignedlong,int}::iterator" title='std::map&lt;unsigned long, int&gt;::iterator' data-type='typename _Rep_type::iterator' data-ref="std::map{unsignedlong,int}::iterator">iterator</a> <dfn class="local col5 decl" id="55iter" title='iter' data-type='FastMap&lt;Key, int&gt;::iterator' data-ref="55iter">iter</dfn> = <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map5beginEv" title='std::map::begin' data-ref="_ZNSt3map5beginEv">begin</a>();</td></tr>
<tr><th id="332">332</th><td>       <a class="local col5 ref" href="#55iter" title='iter' data-ref="55iter">iter</a> <a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZStneRKSt17_Rb_tree_iteratorIT_ES4_" title='std::operator!=' data-ref="_ZStneRKSt17_Rb_tree_iteratorIT_ES4_">!=</a> <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map3endEv" title='std::map::end' data-ref="_ZNSt3map3endEv">end</a>();</td></tr>
<tr><th id="333">333</th><td>       <i>/*Incremented in loop ++iter*/</i>) {</td></tr>
<tr><th id="334">334</th><td>    <b>if</b> (<a class="local col3 ref" href="#43result" title='result' data-ref="43result">result</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col5 ref" href="#55iter" title='iter' data-ref="55iter">iter</a><a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZNKSt17_Rb_tree_iteratorptEv" title='std::_Rb_tree_iterator::operator-&gt;' data-ref="_ZNKSt17_Rb_tree_iteratorptEv">-&gt;</a><a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;const unsigned long, int&gt;::first' data-ref="std::pair::first">first</a>) ||</td></tr>
<tr><th id="335">335</th><td>        !<a class="local col1 ref" href="#41affectedKeysSet" title='affectedKeysSet' data-ref="41affectedKeysSet">affectedKeysSet</a>-&gt;<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col5 ref" href="#55iter" title='iter' data-ref="55iter">iter</a><a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZNKSt17_Rb_tree_iteratorptEv" title='std::_Rb_tree_iterator::operator-&gt;' data-ref="_ZNKSt17_Rb_tree_iteratorptEv">-&gt;</a><a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;const unsigned long, int&gt;::first' data-ref="std::pair::first">first</a>))</td></tr>
<tr><th id="336">336</th><td>      <a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map5eraseB5cxx11ENSt8_Rb_treeIT_St4pairIKS1_T0_ESt10_Select1stIS5_ET1_N9__gnu_cxx14__alloc_traitsIT2_NSB_10value_typeEE6rebindIS5_E5otherEE8iteratorE" title='std::map::erase' data-ref="_ZNSt3map5eraseB5cxx11ENSt8_Rb_treeIT_St4pairIKS1_T0_ESt10_Select1stIS5_ET1_N9__gnu_cxx14__alloc_traitsIT2_NSB_10value_typeEE6rebindIS5_E5otherEE8iteratorE">erase</a>(<span class='inlayHint'>position:&nbsp;</span><a class="local col5 ref" href="#55iter" title='iter' data-ref="55iter">iter</a><a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZNSt17_Rb_tree_iteratorppEi" title='std::_Rb_tree_iterator::operator++' data-ref="_ZNSt17_Rb_tree_iteratorppEi">++</a>);</td></tr>
<tr><th id="337">337</th><td>    <b>else</b></td></tr>
<tr><th id="338">338</th><td>      <a class="ref fn" href="../../../include/c++/13/bits/stl_tree.h.html#_ZNSt17_Rb_tree_iteratorppEv" title='std::_Rb_tree_iterator::operator++' data-ref="_ZNSt17_Rb_tree_iteratorppEv">++</a><a class="local col5 ref" href="#55iter" title='iter' data-ref="55iter">iter</a>;</td></tr>
<tr><th id="339">339</th><td>  }</td></tr>
<tr><th id="340">340</th><td>  <a class="macro" href="../base/timing.h.html#326" title="ordering_constraints_obj.stop()" data-ref="_M/gttoc">gttoc</a>(ordering_constraints);</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>  <i>// Generate ordering</i></td></tr>
<tr><th id="343">343</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t Ordering_id_tic = ::gtsam::internal::getTicTocID(&quot;Ordering&quot;); ::gtsam::internal::AutoTicToc Ordering_obj(Ordering_id_tic, &quot;Ordering&quot;)" data-ref="_M/gttic">gttic</a>(Ordering);</td></tr>
<tr><th id="344">344</th><td>  <em>const</em> <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a> <dfn class="local col6 decl" id="56ordering" title='ordering' data-type='const Ordering' data-ref="56ordering">ordering</dfn> =</td></tr>
<tr><th id="345">345</th><td>      <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a>::<a class="ref fn" href="../inference/Ordering.h.html#_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE" title='gtsam::Ordering::ColamdConstrained' data-ref="_ZN5gtsam8Ordering17ColamdConstrainedERKNS_13VariableIndexERKNS_7FastMapImiEE">ColamdConstrained</a>(<span class='inlayHint'>variableIndex:&nbsp;</span><a class="local col1 ref" href="#51affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="51affectedFactorsVarIndex">affectedFactorsVarIndex</a>, <span class='inlayHint'>groups:&nbsp;</span><a class="local col2 ref" href="#52constraintGroups" title='constraintGroups' data-ref="52constraintGroups">constraintGroups</a>);</td></tr>
<tr><th id="346">346</th><td>  <a class="macro" href="../base/timing.h.html#326" title="Ordering_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Ordering);</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td>  <i>// Do elimination</i></td></tr>
<tr><th id="349">349</th><td>  <a class="type" href="../linear/GaussianEliminationTree.h.html#gtsam::GaussianEliminationTree" title='gtsam::GaussianEliminationTree' data-ref="gtsam::GaussianEliminationTree">GaussianEliminationTree</a> <dfn class="local col7 decl" id="57etree" title='etree' data-type='GaussianEliminationTree' data-ref="57etree">etree</dfn><a class="ref fn" href="../linear/GaussianEliminationTree.h.html#_ZN5gtsam23GaussianEliminationTreeC1ERKNS_19GaussianFactorGraphERKNS_13VariableIndexERKNS_8OrderingE" title='gtsam::GaussianEliminationTree::GaussianEliminationTree' data-ref="_ZN5gtsam23GaussianEliminationTreeC1ERKNS_19GaussianFactorGraphERKNS_13VariableIndexERKNS_8OrderingE">(</a><a class="local col6 ref" href="#46factors" title='factors' data-ref="46factors">factors</a>, <a class="local col1 ref" href="#51affectedFactorsVarIndex" title='affectedFactorsVarIndex' data-ref="51affectedFactorsVarIndex">affectedFactorsVarIndex</a>, <a class="local col6 ref" href="#56ordering" title='ordering' data-ref="56ordering">ordering</a>);</td></tr>
<tr><th id="350">350</th><td>  <em>auto</em> <dfn class="local col8 decl" id="58bayesTree" title='bayesTree' data-type='std::shared_ptr&lt;gtsam::ISAM2BayesTree&gt;' data-ref="58bayesTree">bayesTree</dfn> = <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1EOSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1EOSt10shared_ptrIT_E"></a><a class="type" href="ISAM2-impl.h.html#gtsam::ISAM2JunctionTree" title='gtsam::ISAM2JunctionTree' data-ref="gtsam::ISAM2JunctionTree">ISAM2JunctionTree</a><a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam17ISAM2JunctionTreeC1ERKNS_23GaussianEliminationTreeE" title='gtsam::ISAM2JunctionTree::ISAM2JunctionTree' data-ref="_ZN5gtsam17ISAM2JunctionTreeC1ERKNS_23GaussianEliminationTreeE">(</a><a class="local col7 ref" href="#57etree" title='etree' data-ref="57etree">etree</a>)</td></tr>
<tr><th id="351">351</th><td>                       .<a class="ref fn" href="../inference/ClusterTree-inst.h.html#_ZNK5gtsam23EliminatableClusterTree9eliminateERKNT0_9EliminateE" title='gtsam::EliminatableClusterTree::eliminate' data-ref="_ZNK5gtsam23EliminatableClusterTree9eliminateERKNT0_9EliminateE">eliminate</a>(<span class='inlayHint'>function:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref fn" href="ISAM2Params.h.html#_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv" title='gtsam::ISAM2Params::getEliminationFunction' data-ref="_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv">getEliminationFunction</a>())</td></tr>
<tr><th id="352">352</th><td>                       .<a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::first" title='std::pair&lt;std::shared_ptr&lt;gtsam::ISAM2BayesTree&gt;, std::shared_ptr&lt;gtsam::GaussianFactorGraph&gt;&gt;::first' data-ref="std::pair::first">first</a>;</td></tr>
<tr><th id="353">353</th><td>  <a class="macro" href="../base/timing.h.html#326" title="reorder_and_eliminate_obj.stop()" data-ref="_M/gttoc">gttoc</a>(reorder_and_eliminate);</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t reassemble_id_tic = ::gtsam::internal::getTicTocID(&quot;reassemble&quot;); ::gtsam::internal::AutoTicToc reassemble_obj(reassemble_id_tic, &quot;reassemble&quot;)" data-ref="_M/gttic">gttic</a>(reassemble);</td></tr>
<tr><th id="356">356</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='m' data-ref="gtsam::BayesTree::roots_">roots_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13c1865182" title='std::vector::insert' data-ref="_ZNSt6vector6insertEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13c1865182">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><span class='inlayHint'>position:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='m' data-ref="gtsam::BayesTree::roots_">roots_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>(), <span class='inlayHint'>first:&nbsp;</span><a class="local col8 ref" href="#58bayesTree" title='bayesTree' data-ref="58bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5rootsEv" title='gtsam::BayesTree::roots' data-use='c' data-ref="_ZNK5gtsam9BayesTree5rootsEv">roots</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(),</td></tr>
<tr><th id="357">357</th><td>                <span class='inlayHint'>last:&nbsp;</span><a class="local col8 ref" href="#58bayesTree" title='bayesTree' data-ref="58bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5rootsEv" title='gtsam::BayesTree::roots' data-use='c' data-ref="_ZNK5gtsam9BayesTree5rootsEv">roots</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>());</td></tr>
<tr><th id="358">358</th><td>  <a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::nodes_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::nodes_' data-use='m' data-ref="gtsam::BayesTree::nodes_">nodes_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map6insertETL0__S0_" title='std::map::insert' data-ref="_ZNSt3map6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col8 ref" href="#58bayesTree" title='bayesTree' data-ref="58bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5nodesEv" title='gtsam::BayesTree::nodes' data-use='c' data-ref="_ZNK5gtsam9BayesTree5nodesEv">nodes</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNKSt3map5beginEv" title='std::map::begin' data-ref="_ZNKSt3map5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col8 ref" href="#58bayesTree" title='bayesTree' data-ref="58bayesTree">bayesTree</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5nodesEv" title='gtsam::BayesTree::nodes' data-use='c' data-ref="_ZNK5gtsam9BayesTree5nodesEv">nodes</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNKSt3map3endEv" title='std::map::end' data-ref="_ZNKSt3map3endEv">end</a>());</td></tr>
<tr><th id="359">359</th><td>  <a class="macro" href="../base/timing.h.html#326" title="reassemble_obj.stop()" data-ref="_M/gttoc">gttoc</a>(reassemble);</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td>  <i>// 4. The orphans have already been inserted during elimination</i></td></tr>
<tr><th id="362">362</th><td>}</td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="365">365</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM212addVariablesERKNS_6ValuesEPNS_11ISAM2Result15DetailedResultsE" title='gtsam::ISAM2::addVariables' data-ref="_ZN5gtsam5ISAM212addVariablesERKNS_6ValuesEPNS_11ISAM2Result15DetailedResultsE">addVariables</dfn>(<em>const</em> <a class="type" href="Values.h.html#gtsam::Values" title='gtsam::Values' data-ref="gtsam::Values">Values</a>&amp; <dfn class="local col9 decl" id="59newTheta" title='newTheta' data-type='const Values &amp;' data-ref="59newTheta">newTheta</dfn>,</td></tr>
<tr><th id="366">366</th><td>                         <a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a>::<a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults" title='gtsam::ISAM2Result::DetailedResults' data-ref="gtsam::ISAM2Result::DetailedResults">DetailedResults</a>* <dfn class="local col0 decl" id="60detail" title='detail' data-type='ISAM2Result::DetailedResults *' data-ref="60detail">detail</dfn>) {</td></tr>
<tr><th id="367">367</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t addNewVariables_id_tic = ::gtsam::internal::getTicTocID(&quot;addNewVariables&quot;); ::gtsam::internal::AutoTicToc addNewVariables_obj(addNewVariables_id_tic, &quot;addNewVariables&quot;)" data-ref="_M/gttic">gttic</a>(addNewVariables);</td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZN5gtsam6Values6insertERKS0_" title='gtsam::Values::insert' data-ref="_ZN5gtsam6Values6insertERKS0_">insert</a>(<span class='inlayHint'>values:&nbsp;</span><a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>);</td></tr>
<tr><th id="370">370</th><td>  <b>if</b> (<a class="macro" href="../base/debug.h.html#65" title="(false)" data-ref="_M/ISDEBUG">ISDEBUG</a>(<q>"ISAM2 AddVariables"</q>)) <a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE" title='gtsam::Values::print' data-ref="_ZNK5gtsam6Values5printERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt8functionIFS6_mEE">print</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><span class='inlayHint'>str:&nbsp;</span><q>"The new variables are: "</q>);</td></tr>
<tr><th id="371">371</th><td>  <i>// Add zeros into the VectorValues</i></td></tr>
<tr><th id="372">372</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues6insertERKS0_" title='gtsam::VectorValues::insert' data-ref="_ZN5gtsam12VectorValues6insertERKS0_">insert</a>(<span class='inlayHint'>values:&nbsp;</span><a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values11zeroVectorsEv" title='gtsam::Values::zeroVectors' data-ref="_ZNK5gtsam6Values11zeroVectorsEv">zeroVectors</a>());</td></tr>
<tr><th id="373">373</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaNewton_" title='gtsam::ISAM2::deltaNewton_' data-ref="gtsam::ISAM2::deltaNewton_">deltaNewton_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues6insertERKS0_" title='gtsam::VectorValues::insert' data-ref="_ZN5gtsam12VectorValues6insertERKS0_">insert</a>(<span class='inlayHint'>values:&nbsp;</span><a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values11zeroVectorsEv" title='gtsam::Values::zeroVectors' data-ref="_ZNK5gtsam6Values11zeroVectorsEv">zeroVectors</a>());</td></tr>
<tr><th id="374">374</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::RgProd_" title='gtsam::ISAM2::RgProd_' data-ref="gtsam::ISAM2::RgProd_">RgProd_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues6insertERKS0_" title='gtsam::VectorValues::insert' data-ref="_ZN5gtsam12VectorValues6insertERKS0_">insert</a>(<span class='inlayHint'>values:&nbsp;</span><a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values11zeroVectorsEv" title='gtsam::Values::zeroVectors' data-ref="_ZNK5gtsam6Values11zeroVectorsEv">zeroVectors</a>());</td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td>  <i>// New keys for detailed results</i></td></tr>
<tr><th id="377">377</th><td>  <b>if</b> (<a class="local col0 ref" href="#60detail" title='detail' data-ref="60detail">detail</a> &amp;&amp; <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::enableDetailedResults" title='gtsam::ISAM2Params::enableDetailedResults' data-ref="gtsam::ISAM2Params::enableDetailedResults">enableDetailedResults</a>) {</td></tr>
<tr><th id="378">378</th><td>    <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col1 decl" id="61key" title='key' data-type='Key' data-ref="61key">key</dfn> : <a class="local col9 ref" href="#59newTheta" title='newTheta' data-ref="59newTheta">newTheta</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values4keysEv" title='gtsam::Values::keys' data-ref="_ZNK5gtsam6Values4keysEv">keys</a>()) {</td></tr>
<tr><th id="379">379</th><td>      <a class="local col0 ref" href="#60detail" title='detail' data-ref="60detail">detail</a>-&gt;<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::variableStatus" title='gtsam::ISAM2Result::DetailedResults::variableStatus' data-ref="gtsam::ISAM2Result::DetailedResults::variableStatus">variableStatus</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col1 ref" href="#61key" title='key' data-ref="61key">key</a>]</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::DetailedResults::VariableStatus::isNew" title='gtsam::ISAM2Result::DetailedResults::VariableStatus::isNew' data-ref="gtsam::ISAM2Result::DetailedResults::VariableStatus::isNew">isNew</a> = <b>true</b>;</td></tr>
<tr><th id="380">380</th><td>    }</td></tr>
<tr><th id="381">381</th><td>  }</td></tr>
<tr><th id="382">382</th><td>}</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="385">385</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE" title='gtsam::ISAM2::removeVariables' data-ref="_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE">removeVariables</dfn>(<em>const</em> <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a>&amp; <dfn class="local col2 decl" id="62unusedKeys" title='unusedKeys' data-type='const KeySet &amp;' data-ref="62unusedKeys">unusedKeys</dfn>) {</td></tr>
<tr><th id="386">386</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t removeVariables_id_tic = ::gtsam::internal::getTicTocID(&quot;removeVariables&quot;); ::gtsam::internal::AutoTicToc removeVariables_obj(removeVariables_id_tic, &quot;removeVariables&quot;)" data-ref="_M/gttic">gttic</a>(removeVariables);</td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>.<a class="ref fn" href="../inference/VariableIndex-inl.h.html#_ZN5gtsam13VariableIndex21removeUnusedVariablesET_S1_" title='gtsam::VariableIndex::removeUnusedVariables' data-ref="_ZN5gtsam13VariableIndex21removeUnusedVariablesET_S1_">removeUnusedVariables</a>(<span class='inlayHint'>firstKey:&nbsp;</span><a class="local col2 ref" href="#62unusedKeys" title='unusedKeys' data-ref="62unusedKeys">unusedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <span class='inlayHint'>lastKey:&nbsp;</span><a class="local col2 ref" href="#62unusedKeys" title='unusedKeys' data-ref="62unusedKeys">unusedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>());</td></tr>
<tr><th id="389">389</th><td>  <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col3 decl" id="63key" title='key' data-type='Key' data-ref="63key">key</dfn> : <a class="local col2 ref" href="#62unusedKeys" title='unusedKeys' data-ref="62unusedKeys">unusedKeys</a>) {</td></tr>
<tr><th id="390">390</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues5eraseEm" title='gtsam::VectorValues::erase' data-ref="_ZN5gtsam12VectorValues5eraseEm">erase</a>(<span class='inlayHint'>var:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="391">391</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaNewton_" title='gtsam::ISAM2::deltaNewton_' data-ref="gtsam::ISAM2::deltaNewton_">deltaNewton_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues5eraseEm" title='gtsam::VectorValues::erase' data-ref="_ZN5gtsam12VectorValues5eraseEm">erase</a>(<span class='inlayHint'>var:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="392">392</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::RgProd_" title='gtsam::ISAM2::RgProd_' data-ref="gtsam::ISAM2::RgProd_">RgProd_</a>.<a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValues5eraseEm" title='gtsam::VectorValues::erase' data-ref="_ZN5gtsam12VectorValues5eraseEm">erase</a>(<span class='inlayHint'>var:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="393">393</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5eraseERKT_" title='std::set::erase' data-ref="_ZNSt3set5eraseERKT_">erase</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="394">394</th><td>    <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Base" title='gtsam::ISAM2::Base' data-type='BayesTree&lt;ISAM2Clique&gt;' data-ref="gtsam::ISAM2::Base">Base</a>::<a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::nodes_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::nodes_' data-use='m' data-ref="gtsam::BayesTree::nodes_">nodes_</a>.<a class="ref fn" href="../base/ConcurrentMap.h.html#_ZN5gtsam13ConcurrentMap12unsafe_eraseERKT_" title='gtsam::ConcurrentMap::unsafe_erase' data-ref="_ZN5gtsam13ConcurrentMap12unsafe_eraseERKT_">unsafe_erase</a>(<span class='inlayHint'>k:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="395">395</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZN5gtsam6Values5eraseEm" title='gtsam::Values::erase' data-ref="_ZN5gtsam6Values5eraseEm">erase</a>(<span class='inlayHint'>j:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="396">396</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::fixedVariables_" title='gtsam::ISAM2::fixedVariables_' data-ref="gtsam::ISAM2::fixedVariables_">fixedVariables_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5eraseERKT_" title='std::set::erase' data-ref="_ZNSt3set5eraseERKT_">erase</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col3 ref" href="#63key" title='key' data-ref="63key">key</a>);</td></tr>
<tr><th id="397">397</th><td>  }</td></tr>
<tr><th id="398">398</th><td>}</td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="401">401</th><td><a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="virtual decl def fn" id="_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKSt6vectorImSaImEERKSt8optionalINS_7FastMapImiEEERKSC_INS_8FastListImEEESM_b" title='gtsam::ISAM2::update' data-ref="_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKSt6vectorImSaImEERKSt8optionalINS_7FastMapImiEEERKSC_INS_8FastListImEEESM_b">update</dfn>(</td></tr>
<tr><th id="402">402</th><td>    <em>const</em> <a class="type" href="NonlinearFactorGraph.h.html#gtsam::NonlinearFactorGraph" title='gtsam::NonlinearFactorGraph' data-ref="gtsam::NonlinearFactorGraph">NonlinearFactorGraph</a>&amp; <dfn class="local col4 decl" id="64newFactors" title='newFactors' data-type='const NonlinearFactorGraph &amp;' data-ref="64newFactors">newFactors</dfn>, <em>const</em> <a class="type" href="Values.h.html#gtsam::Values" title='gtsam::Values' data-ref="gtsam::Values">Values</a>&amp; <dfn class="local col5 decl" id="65newTheta" title='newTheta' data-type='const Values &amp;' data-ref="65newTheta">newTheta</dfn>,</td></tr>
<tr><th id="403">403</th><td>    <em>const</em> <a class="typedef" href="../inference/Factor.h.html#gtsam::FactorIndices" title='gtsam::FactorIndices' data-type='FastVector&lt;FactorIndex&gt;' data-ref="gtsam::FactorIndices">FactorIndices</a>&amp; <dfn class="local col6 decl" id="66removeFactorIndices" title='removeFactorIndices' data-type='const FactorIndices &amp;' data-ref="66removeFactorIndices">removeFactorIndices</dfn>,</td></tr>
<tr><th id="404">404</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../include/c++/13/optional.html#std::optional" title='std::optional' data-ref="std::optional">optional</a>&lt;<a class="type" href="../base/FastMap.h.html#gtsam::FastMap" title='gtsam::FastMap' data-ref="gtsam::FastMap">FastMap</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <em>int</em>&gt; &gt;&amp; <dfn class="local col7 decl" id="67constrainedKeys" title='constrainedKeys' data-type='const std::optional&lt;FastMap&lt;Key, int&gt;&gt; &amp;' data-ref="67constrainedKeys">constrainedKeys</dfn>,</td></tr>
<tr><th id="405">405</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../include/c++/13/optional.html#std::optional" title='std::optional' data-ref="std::optional">optional</a>&lt;<a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt; &gt;&amp; <dfn class="local col8 decl" id="68noRelinKeys" title='noRelinKeys' data-type='const std::optional&lt;FastList&lt;Key&gt;&gt; &amp;' data-ref="68noRelinKeys">noRelinKeys</dfn>,</td></tr>
<tr><th id="406">406</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../include/c++/13/optional.html#std::optional" title='std::optional' data-ref="std::optional">optional</a>&lt;<a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt; &gt;&amp; <dfn class="local col9 decl" id="69extraReelimKeys" title='extraReelimKeys' data-type='const std::optional&lt;FastList&lt;Key&gt;&gt; &amp;' data-ref="69extraReelimKeys">extraReelimKeys</dfn>,</td></tr>
<tr><th id="407">407</th><td>    <em>bool</em> <dfn class="local col0 decl" id="70force_relinearize" title='force_relinearize' data-type='bool' data-ref="70force_relinearize">force_relinearize</dfn>) {</td></tr>
<tr><th id="408">408</th><td>  <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a> <a class="ref fn fake" href="ISAM2UpdateParams.h.html#_ZN5gtsam17ISAM2UpdateParamsC1Ev" title='gtsam::ISAM2UpdateParams::ISAM2UpdateParams' data-ref="_ZN5gtsam17ISAM2UpdateParamsC1Ev"></a><dfn class="local col1 decl" id="71params" title='params' data-type='ISAM2UpdateParams' data-ref="71params">params</dfn>;</td></tr>
<tr><th id="409">409</th><td>  <a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::constrainedKeys" title='gtsam::ISAM2UpdateParams::constrainedKeys' data-ref="gtsam::ISAM2UpdateParams::constrainedKeys">constrainedKeys</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;gtsam::FastMap&lt;unsigned long, int&gt;&gt;::operator=' data-ref="_ZNSt8optionalIN5gtsam7FastMapImiEEEaSERKS3_">=</a> <a class="local col7 ref" href="#67constrainedKeys" title='constrainedKeys' data-ref="67constrainedKeys">constrainedKeys</a>;</td></tr>
<tr><th id="410">410</th><td>  <a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::extraReelimKeys" title='gtsam::ISAM2UpdateParams::extraReelimKeys' data-ref="gtsam::ISAM2UpdateParams::extraReelimKeys">extraReelimKeys</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;gtsam::FastList&lt;unsigned long&gt;&gt;::operator=' data-ref="_ZNSt8optionalIN5gtsam8FastListImEEEaSERKS3_">=</a> <a class="local col9 ref" href="#69extraReelimKeys" title='extraReelimKeys' data-ref="69extraReelimKeys">extraReelimKeys</a>;</td></tr>
<tr><th id="411">411</th><td>  <a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::force_relinearize" title='gtsam::ISAM2UpdateParams::force_relinearize' data-ref="gtsam::ISAM2UpdateParams::force_relinearize">force_relinearize</a> = <a class="local col0 ref" href="#70force_relinearize" title='force_relinearize' data-ref="70force_relinearize">force_relinearize</a>;</td></tr>
<tr><th id="412">412</th><td>  <a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::noRelinKeys" title='gtsam::ISAM2UpdateParams::noRelinKeys' data-ref="gtsam::ISAM2UpdateParams::noRelinKeys">noRelinKeys</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;gtsam::FastList&lt;unsigned long&gt;&gt;::operator=' data-ref="_ZNSt8optionalIN5gtsam8FastListImEEEaSERKS3_">=</a> <a class="local col8 ref" href="#68noRelinKeys" title='noRelinKeys' data-ref="68noRelinKeys">noRelinKeys</a>;</td></tr>
<tr><th id="413">413</th><td>  <a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::removeFactorIndices" title='gtsam::ISAM2UpdateParams::removeFactorIndices' data-ref="gtsam::ISAM2UpdateParams::removeFactorIndices">removeFactorIndices</a> <a class="ref fn" href="../../../include/c++/13/bits/vector.tcc.html#_ZNSt6vectoraSERKSt6vectorIT_T0_E" title='std::vector::operator=' data-ref="_ZNSt6vectoraSERKSt6vectorIT_T0_E">=</a> <a class="local col6 ref" href="#66removeFactorIndices" title='removeFactorIndices' data-ref="66removeFactorIndices">removeFactorIndices</a>;</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td>  <b>return</b> <a class="virtual member fn" href="#_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKNS_17ISAM2UpdateParamsE" title='gtsam::ISAM2::update' data-ref="_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKNS_17ISAM2UpdateParamsE">update</a>(<a class="local col4 ref" href="#64newFactors" title='newFactors' data-ref="64newFactors">newFactors</a>, <a class="local col5 ref" href="#65newTheta" title='newTheta' data-ref="65newTheta">newTheta</a>, <span class='inlayHint'>updateParams:&nbsp;</span><a class="local col1 ref" href="#71params" title='params' data-ref="71params">params</a>);</td></tr>
<tr><th id="416">416</th><td>}</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="419">419</th><td><a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="virtual decl def fn" id="_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKNS_17ISAM2UpdateParamsE" title='gtsam::ISAM2::update' data-ref="_ZN5gtsam5ISAM26updateERKNS_20NonlinearFactorGraphERKNS_6ValuesERKNS_17ISAM2UpdateParamsE">update</dfn>(<em>const</em> <a class="type" href="NonlinearFactorGraph.h.html#gtsam::NonlinearFactorGraph" title='gtsam::NonlinearFactorGraph' data-ref="gtsam::NonlinearFactorGraph">NonlinearFactorGraph</a>&amp; <dfn class="local col2 decl" id="72newFactors" title='newFactors' data-type='const NonlinearFactorGraph &amp;' data-ref="72newFactors">newFactors</dfn>,</td></tr>
<tr><th id="420">420</th><td>                          <em>const</em> <a class="type" href="Values.h.html#gtsam::Values" title='gtsam::Values' data-ref="gtsam::Values">Values</a>&amp; <dfn class="local col3 decl" id="73newTheta" title='newTheta' data-type='const Values &amp;' data-ref="73newTheta">newTheta</dfn>,</td></tr>
<tr><th id="421">421</th><td>                          <em>const</em> <a class="type" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams" title='gtsam::ISAM2UpdateParams' data-ref="gtsam::ISAM2UpdateParams">ISAM2UpdateParams</a>&amp; <dfn class="local col4 decl" id="74updateParams" title='updateParams' data-type='const ISAM2UpdateParams &amp;' data-ref="74updateParams">updateParams</dfn>) {</td></tr>
<tr><th id="422">422</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t ISAM2_update_id_tic = ::gtsam::internal::getTicTocID(&quot;ISAM2_update&quot;); ::gtsam::internal::AutoTicToc ISAM2_update_obj(ISAM2_update_id_tic, &quot;ISAM2_update&quot;)" data-ref="_M/gttic">gttic</a>(ISAM2_update);</td></tr>
<tr><th id="423">423</th><td>  <b>this</b>-&gt;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::update_count_" title='gtsam::ISAM2::update_count_' data-ref="gtsam::ISAM2::update_count_">update_count_</a> += <var>1</var>;</td></tr>
<tr><th id="424">424</th><td>  <a class="type" href="ISAM2-impl.h.html#gtsam::UpdateImpl" title='gtsam::UpdateImpl' data-ref="gtsam::UpdateImpl">UpdateImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam10UpdateImpl17LogStartingUpdateERKNS_20NonlinearFactorGraphERKNS_5ISAM2E" title='gtsam::UpdateImpl::LogStartingUpdate' data-ref="_ZN5gtsam10UpdateImpl17LogStartingUpdateERKNS_20NonlinearFactorGraphERKNS_5ISAM2E">LogStartingUpdate</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>isam2:&nbsp;</span>*<b>this</b>);</td></tr>
<tr><th id="425">425</th><td>  <a class="type" href="ISAM2Result.h.html#gtsam::ISAM2Result" title='gtsam::ISAM2Result' data-ref="gtsam::ISAM2Result">ISAM2Result</a> <dfn class="local col5 decl" id="75result" title='result' data-type='ISAM2Result' data-ref="75result">result</dfn><a class="ref fn" href="ISAM2Result.h.html#_ZN5gtsam11ISAM2ResultC1Eb" title='gtsam::ISAM2Result::ISAM2Result' data-ref="_ZN5gtsam11ISAM2ResultC1Eb">(</a><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::enableDetailedResults" title='gtsam::ISAM2Params::enableDetailedResults' data-ref="gtsam::ISAM2Params::enableDetailedResults">enableDetailedResults</a>);</td></tr>
<tr><th id="426">426</th><td>  <a class="type" href="ISAM2-impl.h.html#gtsam::UpdateImpl" title='gtsam::UpdateImpl' data-ref="gtsam::UpdateImpl">UpdateImpl</a> <dfn class="local col6 decl" id="76update" title='update' data-type='UpdateImpl' data-ref="76update">update</dfn><a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam10UpdateImplC1ERKNS_11ISAM2ParamsERKNS_17ISAM2UpdateParamsE" title='gtsam::UpdateImpl::UpdateImpl' data-ref="_ZN5gtsam10UpdateImplC1ERKNS_11ISAM2ParamsERKNS_17ISAM2UpdateParamsE">(</a><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>, <a class="local col4 ref" href="#74updateParams" title='updateParams' data-ref="74updateParams">updateParams</a>);</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td>  <i>// Initialize any new variables \Theta_{new} and add</i></td></tr>
<tr><th id="429">429</th><td><i>  // \Theta:=\Theta\cup\Theta_{new}.</i></td></tr>
<tr><th id="430">430</th><td><i>  // Needed before delta update if using Dogleg optimizer.</i></td></tr>
<tr><th id="431">431</th><td>  <a class="member fn" href="#_ZN5gtsam5ISAM212addVariablesERKNS_6ValuesEPNS_11ISAM2Result15DetailedResultsE" title='gtsam::ISAM2::addVariables' data-ref="_ZN5gtsam5ISAM212addVariablesERKNS_6ValuesEPNS_11ISAM2Result15DetailedResultsE">addVariables</a>(<a class="local col3 ref" href="#73newTheta" title='newTheta' data-ref="73newTheta">newTheta</a>, <span class='inlayHint'>detail:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref fn" href="ISAM2Result.h.html#_ZN5gtsam11ISAM2Result7detailsEv" title='gtsam::ISAM2Result::details' data-ref="_ZN5gtsam11ISAM2Result7detailsEv">details</a>());</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>  <i>// Update delta if we need it to check relinearization later</i></td></tr>
<tr><th id="434">434</th><td>  <b>if</b> (<a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl20relinarizationNeededEm" title='gtsam::UpdateImpl::relinarizationNeeded' data-ref="_ZNK5gtsam10UpdateImpl20relinarizationNeededEm">relinarizationNeeded</a>(<span class='inlayHint'>update_count:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::update_count_" title='gtsam::ISAM2::update_count_' data-ref="gtsam::ISAM2::update_count_">update_count_</a>))</td></tr>
<tr><th id="435">435</th><td>    <a class="member fn" href="#_ZNK5gtsam5ISAM211updateDeltaEb" title='gtsam::ISAM2::updateDelta' data-ref="_ZNK5gtsam5ISAM211updateDeltaEb">updateDelta</a>(<span class='inlayHint'>forceFullSolve:&nbsp;</span><a class="local col4 ref" href="#74updateParams" title='updateParams' data-ref="74updateParams">updateParams</a>.<a class="ref field" href="ISAM2UpdateParams.h.html#gtsam::ISAM2UpdateParams::forceFullSolve" title='gtsam::ISAM2UpdateParams::forceFullSolve' data-ref="gtsam::ISAM2UpdateParams::forceFullSolve">forceFullSolve</a>);</td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td>  <i>// 1. Add any new factors \Factors:=\Factors\cup\Factors'.</i></td></tr>
<tr><th id="438">438</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl15pushBackFactorsERKNS_20NonlinearFactorGraphEPS1_PNS_19GaussianFactorGraphEPNS_13VariableIndexEPSt6vectorImSaImEEPNS_7FastSetImEE" title='gtsam::UpdateImpl::pushBackFactors' data-ref="_ZNK5gtsam10UpdateImpl15pushBackFactorsERKNS_20NonlinearFactorGraphEPS1_PNS_19GaussianFactorGraphEPNS_13VariableIndexEPSt6vectorImSaImEEPNS_7FastSetImEE">pushBackFactors</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>nonlinearFactors:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>, <span class='inlayHint'>linearFactors:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a>,</td></tr>
<tr><th id="439">439</th><td>                         <span class='inlayHint'>variableIndex:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>, <span class='inlayHint'>newFactorsIndices:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::newFactorsIndices" title='gtsam::ISAM2Result::newFactorsIndices' data-ref="gtsam::ISAM2Result::newFactorsIndices">newFactorsIndices</a>,</td></tr>
<tr><th id="440">440</th><td>                         <span class='inlayHint'>keysWithRemovedFactors:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::keysWithRemovedFactors" title='gtsam::ISAM2Result::keysWithRemovedFactors' data-ref="gtsam::ISAM2Result::keysWithRemovedFactors">keysWithRemovedFactors</a>);</td></tr>
<tr><th id="441">441</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl17computeUnusedKeysERKNS_20NonlinearFactorGraphERKNS_13VariableIndexERKNS_7FastSetImEEPS8_" title='gtsam::UpdateImpl::computeUnusedKeys' data-ref="_ZNK5gtsam10UpdateImpl17computeUnusedKeysERKNS_20NonlinearFactorGraphERKNS_13VariableIndexERKNS_7FastSetImEEPS8_">computeUnusedKeys</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>variableIndex:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>,</td></tr>
<tr><th id="442">442</th><td>                           <span class='inlayHint'>keysWithRemovedFactors:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::keysWithRemovedFactors" title='gtsam::ISAM2Result::keysWithRemovedFactors' data-ref="gtsam::ISAM2Result::keysWithRemovedFactors">keysWithRemovedFactors</a>, <span class='inlayHint'>unusedKeys:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>);</td></tr>
<tr><th id="443">443</th><td></td></tr>
<tr><th id="444">444</th><td>  <i>// 2. Compute new error to check for relinearization</i></td></tr>
<tr><th id="445">445</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::evaluateNonlinearError" title='gtsam::ISAM2Params::evaluateNonlinearError' data-ref="gtsam::ISAM2Params::evaluateNonlinearError">evaluateNonlinearError</a>)</td></tr>
<tr><th id="446">446</th><td>    <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl5errorERKNS_20NonlinearFactorGraphERKNS_6ValuesEPSt8optionalIdE" title='gtsam::UpdateImpl::error' data-ref="_ZNK5gtsam10UpdateImpl5errorERKNS_20NonlinearFactorGraphERKNS_6ValuesEPSt8optionalIdE">error</a>(<span class='inlayHint'>nonlinearFactors:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>, <span class='inlayHint'>estimate:&nbsp;</span><a class="member fn" href="#_ZNK5gtsam5ISAM217calculateEstimateEv" title='gtsam::ISAM2::calculateEstimate' data-ref="_ZNK5gtsam5ISAM217calculateEstimateEv">calculateEstimate</a>(), <span class='inlayHint'>result:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::errorBefore" title='gtsam::ISAM2Result::errorBefore' data-ref="gtsam::ISAM2Result::errorBefore">errorBefore</a>);</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td>  <i>// 3. Mark linear update</i></td></tr>
<tr><th id="449">449</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl18gatherInvolvedKeysERKNS_20NonlinearFactorGraphES3_RKNS_7FastSetImEEPS5_" title='gtsam::UpdateImpl::gatherInvolvedKeys' data-ref="_ZNK5gtsam10UpdateImpl18gatherInvolvedKeysERKNS_20NonlinearFactorGraphES3_RKNS_7FastSetImEEPS5_">gatherInvolvedKeys</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>nonlinearFactors:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>,</td></tr>
<tr><th id="450">450</th><td>                            <span class='inlayHint'>keysWithRemovedFactors:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::keysWithRemovedFactors" title='gtsam::ISAM2Result::keysWithRemovedFactors' data-ref="gtsam::ISAM2Result::keysWithRemovedFactors">keysWithRemovedFactors</a>, <span class='inlayHint'>markedKeys:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>);</td></tr>
<tr><th id="451">451</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl10updateKeysERKNS_7FastSetImEEPNS_11ISAM2ResultE" title='gtsam::UpdateImpl::updateKeys' data-ref="_ZNK5gtsam10UpdateImpl10updateKeysERKNS_7FastSetImEEPNS_11ISAM2ResultE">updateKeys</a>(<span class='inlayHint'>markedKeys:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>, <span class='inlayHint'>result:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>);</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td>  <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col7 decl" id="77relinKeys" title='relinKeys' data-type='KeySet' data-ref="77relinKeys">relinKeys</dfn>;</td></tr>
<tr><th id="454">454</th><td>  <a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::variablesRelinearized" title='gtsam::ISAM2Result::variablesRelinearized' data-ref="gtsam::ISAM2Result::variablesRelinearized">variablesRelinearized</a> = <var>0</var>;</td></tr>
<tr><th id="455">455</th><td>  <b>if</b> (<a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl20relinarizationNeededEm" title='gtsam::UpdateImpl::relinarizationNeeded' data-ref="_ZNK5gtsam10UpdateImpl20relinarizationNeededEm">relinarizationNeeded</a>(<span class='inlayHint'>update_count:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::update_count_" title='gtsam::ISAM2::update_count_' data-ref="gtsam::ISAM2::update_count_">update_count_</a>)) {</td></tr>
<tr><th id="456">456</th><td>    <i>// 4. Mark keys in \Delta above threshold \beta:</i></td></tr>
<tr><th id="457">457</th><td>    <a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a> <a class="ref fn" href="../base/FastSet.h.html#_ZN5gtsam7FastSetaSERKNS_7FastSetIT_EE" title='gtsam::FastSet::operator=' data-ref="_ZN5gtsam7FastSetaSERKNS_7FastSetIT_EE">=</a> <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl21gatherRelinearizeKeysERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_12VectorValuesERKNS_7FastSetImEEPSD_" title='gtsam::UpdateImpl::gatherRelinearizeKeys' data-ref="_ZNK5gtsam10UpdateImpl21gatherRelinearizeKeysERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_12VectorValuesERKNS_7FastSetImEEPSD_">gatherRelinearizeKeys</a>(<span class='inlayHint'>roots:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='r' data-ref="gtsam::BayesTree::roots_">roots_</a>, <span class='inlayHint'>delta:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>, <span class='inlayHint'>fixedVariables:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::fixedVariables_" title='gtsam::ISAM2::fixedVariables_' data-ref="gtsam::ISAM2::fixedVariables_">fixedVariables_</a>,</td></tr>
<tr><th id="458">458</th><td>                                             <span class='inlayHint'>markedKeys:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>);</td></tr>
<tr><th id="459">459</th><td>    <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl23recordRelinearizeDetailERKNS_7FastSetImEEPNS_11ISAM2Result15DetailedResultsE" title='gtsam::UpdateImpl::recordRelinearizeDetail' data-ref="_ZNK5gtsam10UpdateImpl23recordRelinearizeDetailERKNS_7FastSetImEEPNS_11ISAM2Result15DetailedResultsE">recordRelinearizeDetail</a>(<a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a>, <span class='inlayHint'>detail:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref fn" href="ISAM2Result.h.html#_ZN5gtsam11ISAM2Result7detailsEv" title='gtsam::ISAM2Result::details' data-ref="_ZN5gtsam11ISAM2Result7detailsEv">details</a>());</td></tr>
<tr><th id="460">460</th><td>    <b>if</b> (!<a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5emptyEv" title='std::set::empty' data-ref="_ZNKSt3set5emptyEv">empty</a>()) {</td></tr>
<tr><th id="461">461</th><td>      <i>// 5. Mark cliques that involve marked variables \Theta_{J} and ancestors.</i></td></tr>
<tr><th id="462">462</th><td>      <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl9findFluidERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEPSA_PNS_11ISAM2Result15DetailedResultsE" title='gtsam::UpdateImpl::findFluid' data-ref="_ZNK5gtsam10UpdateImpl9findFluidERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEPSA_PNS_11ISAM2Result15DetailedResultsE">findFluid</a>(<span class='inlayHint'>roots:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='r' data-ref="gtsam::BayesTree::roots_">roots_</a>, <a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a>, <span class='inlayHint'>markedKeys:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>, <span class='inlayHint'>detail:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref fn" href="ISAM2Result.h.html#_ZN5gtsam11ISAM2Result7detailsEv" title='gtsam::ISAM2Result::details' data-ref="_ZN5gtsam11ISAM2Result7detailsEv">details</a>());</td></tr>
<tr><th id="463">463</th><td>      <i>// 6. Update linearization point for marked variables:</i></td></tr>
<tr><th id="464">464</th><td><i>      // \Theta_{J}:=\Theta_{J}+\Delta_{J}.</i></td></tr>
<tr><th id="465">465</th><td>      <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZN5gtsam6Values13retractMaskedERKNS_12VectorValuesERKNS_7FastSetImEE" title='gtsam::Values::retractMasked' data-ref="_ZN5gtsam6Values13retractMaskedERKNS_12VectorValuesERKNS_7FastSetImEE">retractMasked</a>(<span class='inlayHint'>delta:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>, <span class='inlayHint'>mask:&nbsp;</span><a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a>);</td></tr>
<tr><th id="466">466</th><td>    }</td></tr>
<tr><th id="467">467</th><td>    <a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::variablesRelinearized" title='gtsam::ISAM2Result::variablesRelinearized' data-ref="gtsam::ISAM2Result::variablesRelinearized">variablesRelinearized</a> = <a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::markedKeys" title='gtsam::ISAM2Result::markedKeys' data-ref="gtsam::ISAM2Result::markedKeys">markedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set4sizeEv" title='std::set::size' data-ref="_ZNKSt3set4sizeEv">size</a>();</td></tr>
<tr><th id="468">468</th><td>  }</td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td>  <i>// 7. Linearize new factors</i></td></tr>
<tr><th id="471">471</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl19linearizeNewFactorsERKNS_20NonlinearFactorGraphERKNS_6ValuesEmRKSt6vectorImSaImEEPNS_19GaussianFactorGraphE" title='gtsam::UpdateImpl::linearizeNewFactors' data-ref="_ZNK5gtsam10UpdateImpl19linearizeNewFactorsERKNS_20NonlinearFactorGraphERKNS_6ValuesEmRKSt6vectorImSaImEEPNS_19GaussianFactorGraphE">linearizeNewFactors</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>theta:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>, <span class='inlayHint'>numNonlinearFactors:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZNK5gtsam11FactorGraph4sizeEv" title='gtsam::FactorGraph::size' data-ref="_ZNK5gtsam11FactorGraph4sizeEv">size</a>(),</td></tr>
<tr><th id="472">472</th><td>                             <span class='inlayHint'>newFactorsIndices:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::newFactorsIndices" title='gtsam::ISAM2Result::newFactorsIndices' data-ref="gtsam::ISAM2Result::newFactorsIndices">newFactorsIndices</a>, <span class='inlayHint'>linearFactors:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a>);</td></tr>
<tr><th id="473">473</th><td>  <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl20augmentVariableIndexERKNS_20NonlinearFactorGraphERKSt6vectorImSaImEEPNS_13VariableIndexE" title='gtsam::UpdateImpl::augmentVariableIndex' data-ref="_ZNK5gtsam10UpdateImpl20augmentVariableIndexERKNS_20NonlinearFactorGraphERKSt6vectorImSaImEEPNS_13VariableIndexE">augmentVariableIndex</a>(<a class="local col2 ref" href="#72newFactors" title='newFactors' data-ref="72newFactors">newFactors</a>, <span class='inlayHint'>newFactorsIndices:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::newFactorsIndices" title='gtsam::ISAM2Result::newFactorsIndices' data-ref="gtsam::ISAM2Result::newFactorsIndices">newFactorsIndices</a>,</td></tr>
<tr><th id="474">474</th><td>                              <span class='inlayHint'>variableIndex:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>);</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>  <i>// 8. Redo top of Bayes tree and update data structures</i></td></tr>
<tr><th id="477">477</th><td>  <a class="member fn" href="#_ZN5gtsam5ISAM211recalculateERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEEPNS_11ISAM2ResultE" title='gtsam::ISAM2::recalculate' data-ref="_ZN5gtsam5ISAM211recalculateERKNS_17ISAM2UpdateParamsERKNS_7FastSetImEEPNS_11ISAM2ResultE">recalculate</a>(<a class="local col4 ref" href="#74updateParams" title='updateParams' data-ref="74updateParams">updateParams</a>, <a class="local col7 ref" href="#77relinKeys" title='relinKeys' data-ref="77relinKeys">relinKeys</a>, <span class='inlayHint'>result:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>);</td></tr>
<tr><th id="478">478</th><td>  <b>if</b> (!<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5emptyEv" title='std::set::empty' data-ref="_ZNKSt3set5emptyEv">empty</a>()) <a class="member fn" href="#_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE" title='gtsam::ISAM2::removeVariables' data-ref="_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE">removeVariables</a>(<span class='inlayHint'>unusedKeys:&nbsp;</span><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::unusedKeys" title='gtsam::ISAM2Result::unusedKeys' data-ref="gtsam::ISAM2Result::unusedKeys">unusedKeys</a>);</td></tr>
<tr><th id="479">479</th><td>  <a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::cliques" title='gtsam::ISAM2Result::cliques' data-ref="gtsam::ISAM2Result::cliques">cliques</a> = <b>this</b>-&gt;<a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5nodesEv" title='gtsam::BayesTree::nodes' data-use='c' data-ref="_ZNK5gtsam9BayesTree5nodesEv">nodes</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNKSt3map4sizeEv" title='std::map::size' data-ref="_ZNKSt3map4sizeEv">size</a>();</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::evaluateNonlinearError" title='gtsam::ISAM2Params::evaluateNonlinearError' data-ref="gtsam::ISAM2Params::evaluateNonlinearError">evaluateNonlinearError</a>)</td></tr>
<tr><th id="482">482</th><td>    <a class="local col6 ref" href="#76update" title='update' data-ref="76update">update</a>.<a class="ref fn" href="ISAM2-impl.h.html#_ZNK5gtsam10UpdateImpl5errorERKNS_20NonlinearFactorGraphERKNS_6ValuesEPSt8optionalIdE" title='gtsam::UpdateImpl::error' data-ref="_ZNK5gtsam10UpdateImpl5errorERKNS_20NonlinearFactorGraphERKNS_6ValuesEPSt8optionalIdE">error</a>(<span class='inlayHint'>nonlinearFactors:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>, <span class='inlayHint'>estimate:&nbsp;</span><a class="member fn" href="#_ZNK5gtsam5ISAM217calculateEstimateEv" title='gtsam::ISAM2::calculateEstimate' data-ref="_ZNK5gtsam5ISAM217calculateEstimateEv">calculateEstimate</a>(), <span class='inlayHint'>result:&nbsp;</span>&amp;<a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>.<a class="ref field" href="ISAM2Result.h.html#gtsam::ISAM2Result::errorAfter" title='gtsam::ISAM2Result::errorAfter' data-ref="gtsam::ISAM2Result::errorAfter">errorAfter</a>);</td></tr>
<tr><th id="483">483</th><td>  <b>return</b> <a class="ref fn fake" href="ISAM2Result.h.html#39" title='gtsam::ISAM2Result::ISAM2Result' data-ref="_ZN5gtsam11ISAM2ResultC1EOS0_"></a><a class="local col5 ref" href="#75result" title='result' data-ref="75result">result</a>;</td></tr>
<tr><th id="484">484</th><td>}</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="487">487</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_" title='gtsam::ISAM2::marginalizeLeaves' data-ref="_ZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_">marginalizeLeaves</dfn>(</td></tr>
<tr><th id="488">488</th><td>    <em>const</em> <a class="type" href="../base/FastList.h.html#gtsam::FastList" title='gtsam::FastList' data-ref="gtsam::FastList">FastList</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>&gt;&amp; <dfn class="local col8 decl" id="78leafKeysList" title='leafKeysList' data-type='const FastList&lt;Key&gt; &amp;' data-ref="78leafKeysList">leafKeysList</dfn>,</td></tr>
<tr><th id="489">489</th><td>    <a class="typedef" href="../inference/Factor.h.html#gtsam::FactorIndices" title='gtsam::FactorIndices' data-type='FastVector&lt;FactorIndex&gt;' data-ref="gtsam::FactorIndices">FactorIndices</a>* <dfn class="local col9 decl" id="79marginalFactorsIndices" title='marginalFactorsIndices' data-type='FactorIndices *' data-ref="79marginalFactorsIndices">marginalFactorsIndices</dfn>,</td></tr>
<tr><th id="490">490</th><td>    <a class="typedef" href="../inference/Factor.h.html#gtsam::FactorIndices" title='gtsam::FactorIndices' data-type='FastVector&lt;FactorIndex&gt;' data-ref="gtsam::FactorIndices">FactorIndices</a>* <dfn class="local col0 decl" id="80deletedFactorsIndices" title='deletedFactorsIndices' data-type='FactorIndices *' data-ref="80deletedFactorsIndices">deletedFactorsIndices</dfn>) {</td></tr>
<tr><th id="491">491</th><td>  <i>// Convert to ordered set</i></td></tr>
<tr><th id="492">492</th><td>  <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <dfn class="local col1 decl" id="81leafKeys" title='leafKeys' data-type='KeySet' data-ref="81leafKeys">leafKeys</dfn><a class="ref fn" href="../base/FastSet.h.html#63" title='gtsam::FastSet&lt;unsigned long&gt;::set' data-ref="_ZN5gtsam7FastSetImECI1St3setImSt4lessImESaImEEISt20_List_const_iteratorImEEET_S8_">(</a><a class="local col8 ref" href="#78leafKeysList" title='leafKeysList' data-ref="78leafKeysList">leafKeysList</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list5beginEv" title='std::list::begin' data-ref="_ZNKSt7__cxx114list5beginEv">begin</a>(), <a class="local col8 ref" href="#78leafKeysList" title='leafKeysList' data-ref="78leafKeysList">leafKeysList</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNKSt7__cxx114list3endEv">end</a>());</td></tr>
<tr><th id="493">493</th><td></td></tr>
<tr><th id="494">494</th><td>  <i>// Keep track of marginal factors - map from clique to the marginal factors</i></td></tr>
<tr><th id="495">495</th><td><i>  // that should be incorporated into it, passed up from it's children.</i></td></tr>
<tr><th id="496">496</th><td><i>  //  multimap&lt;sharedClique, GaussianFactor::shared_ptr&gt; marginalFactors;</i></td></tr>
<tr><th id="497">497</th><td>  <a class="type" href="../../../include/c++/13/bits/stl_map.h.html#std::map" title='std::map' data-ref="std::map">map</a>&lt;<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a>, <a class="type" href="../../../include/c++/13/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../linear/GaussianFactor.h.html#gtsam::GaussianFactor" title='gtsam::GaussianFactor' data-ref="gtsam::GaussianFactor">GaussianFactor</a>::<a class="typedef" href="../linear/GaussianFactor.h.html#gtsam::GaussianFactor::shared_ptr" title='gtsam::GaussianFactor::shared_ptr' data-type='std::shared_ptr&lt;This&gt;' data-ref="gtsam::GaussianFactor::shared_ptr">shared_ptr</a>&gt; &gt; <a class="ref fn fake" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapC1Ev" title='std::map::map&lt;_Key, _Tp, _Compare, _Alloc&gt;' data-ref="_ZNSt3mapC1Ev"></a><dfn class="local col2 decl" id="82marginalFactors" title='marginalFactors' data-type='map&lt;Key, vector&lt;GaussianFactor::shared_ptr&gt;&gt;' data-ref="82marginalFactors">marginalFactors</dfn>;</td></tr>
<tr><th id="498">498</th><td></td></tr>
<tr><th id="499">499</th><td>  <i>// Keep track of variables removed in subtrees</i></td></tr>
<tr><th id="500">500</th><td>  <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col3 decl" id="83leafKeysRemoved" title='leafKeysRemoved' data-type='KeySet' data-ref="83leafKeysRemoved">leafKeysRemoved</dfn>;</td></tr>
<tr><th id="501">501</th><td></td></tr>
<tr><th id="502">502</th><td>  <i>// Keep track of factors that get summarized by removing cliques</i></td></tr>
<tr><th id="503">503</th><td>  <a class="typedef" href="../inference/Factor.h.html#gtsam::FactorIndexSet" title='gtsam::FactorIndexSet' data-type='FastSet&lt;FactorIndex&gt;' data-ref="gtsam::FactorIndexSet">FactorIndexSet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col4 decl" id="84factorIndicesToRemove" title='factorIndicesToRemove' data-type='FactorIndexSet' data-ref="84factorIndicesToRemove">factorIndicesToRemove</dfn>;</td></tr>
<tr><th id="504">504</th><td></td></tr>
<tr><th id="505">505</th><td>  <i>// Remove the subtree and throw away the cliques</i></td></tr>
<tr><th id="506">506</th><td>  <em>auto</em> <dfn class="local col5 decl" id="85trackingRemoveSubtree" title='trackingRemoveSubtree' data-type='(lambda at /home/dvorak/gtsam/gtsam/nonlinear/ISAM2.cpp:506:32)' data-ref="85trackingRemoveSubtree">trackingRemoveSubtree</dfn> = [&amp;](<em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a>&amp; <dfn class="local col6 decl" id="86subtreeRoot" title='subtreeRoot' data-type='const sharedClique &amp;' data-ref="86subtreeRoot">subtreeRoot</dfn>) {</td></tr>
<tr><th id="507">507</th><td>    <em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a> <dfn class="local col7 decl" id="87removedCliques" title='removedCliques' data-type='const Cliques' data-ref="87removedCliques">removedCliques</dfn> = <b>this</b>-&gt;<a class="tu member fn" href="../inference/BayesTree-inst.h.html#_ZN5gtsam9BayesTree13removeSubtreeERKSt10shared_ptrIT_E" title='gtsam::BayesTree::removeSubtree' data-use='c' data-ref="_ZN5gtsam9BayesTree13removeSubtreeERKSt10shared_ptrIT_E">removeSubtree</a>(<span class='inlayHint'>subtree:&nbsp;</span><a class="local col6 ref" href="#86subtreeRoot" title='subtreeRoot' data-ref="86subtreeRoot">subtreeRoot</a>);</td></tr>
<tr><th id="508">508</th><td>    <b>for</b> (<em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a>&amp; <dfn class="local col8 decl" id="88removedClique" title='removedClique' data-type='const sharedClique &amp;' data-ref="88removedClique">removedClique</dfn> : <a class="local col7 ref" href="#87removedCliques" title='removedCliques' data-ref="87removedCliques">removedCliques</a>) {</td></tr>
<tr><th id="509">509</th><td>      <em>auto</em> <dfn class="local col9 decl" id="89cg" title='cg' data-type='sharedConditional' data-ref="89cg">cg</dfn> = <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><a class="local col8 ref" href="#88removedClique" title='removedClique' data-ref="88removedClique">removedClique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>();</td></tr>
<tr><th id="510">510</th><td>      <a class="local col2 ref" href="#82marginalFactors" title='marginalFactors' data-ref="82marginalFactors">marginalFactors</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3map5eraseERKT_" title='std::map::erase' data-ref="_ZNSt3map5eraseERKT_">erase</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col9 ref" href="#89cg" title='cg' data-ref="89cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZNK5gtsam6Factor5frontEv" title='gtsam::Factor::front' data-ref="_ZNK5gtsam6Factor5frontEv">front</a>());</td></tr>
<tr><th id="511">511</th><td>      <a class="local col3 ref" href="#83leafKeysRemoved" title='leafKeysRemoved' data-ref="83leafKeysRemoved">leafKeysRemoved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col9 ref" href="#89cg" title='cg' data-ref="89cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional13beginFrontalsEv" title='gtsam::Conditional::beginFrontals' data-ref="_ZN5gtsam11Conditional13beginFrontalsEv">beginFrontals</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col9 ref" href="#89cg" title='cg' data-ref="89cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional11endFrontalsEv" title='gtsam::Conditional::endFrontals' data-ref="_ZN5gtsam11Conditional11endFrontalsEv">endFrontals</a>());</td></tr>
<tr><th id="512">512</th><td>      <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col0 decl" id="90frontal" title='frontal' data-type='Key' data-ref="90frontal">frontal</dfn> : <a class="local col9 ref" href="#89cg" title='cg' data-ref="89cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZNK5gtsam11Conditional8frontalsEv" title='gtsam::Conditional::frontals' data-ref="_ZNK5gtsam11Conditional8frontalsEv">frontals</a>()) {</td></tr>
<tr><th id="513">513</th><td>        <i>// Add to factors to remove</i></td></tr>
<tr><th id="514">514</th><td>        <em>const</em> <em>auto</em>&amp; <dfn class="local col1 decl" id="91involved" title='involved' data-type='const FactorIndices &amp;' data-ref="91involved">involved</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a><a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndexixEm" title='gtsam::VariableIndex::operator[]' data-ref="_ZNK5gtsam13VariableIndexixEm">[<a class="local col0 ref" href="#90frontal" title='frontal' data-ref="90frontal">frontal</a>]</a>;</td></tr>
<tr><th id="515">515</th><td>        <a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col1 ref" href="#91involved" title='involved' data-ref="91involved">involved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col1 ref" href="#91involved" title='involved' data-ref="91involved">involved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>());</td></tr>
<tr><th id="516">516</th><td><u>#<span data-ppcond="516">if</span> !defined(<span class="macro" data-ref="_M/NDEBUG">NDEBUG</span>)</u></td></tr>
<tr><th id="517">517</th><td>        <i>// Check for non-leaf keys</i></td></tr>
<tr><th id="518">518</th><td>        <b>if</b> (!leafKeys.exists(frontal))</td></tr>
<tr><th id="519">519</th><td>          <b>throw</b> std::runtime_error(</td></tr>
<tr><th id="520">520</th><td>              <q>"Requesting to marginalize variables that are not leaves, "</q></td></tr>
<tr><th id="521">521</th><td>              <q>"the ISAM2 object is now in an inconsistent state so should "</q></td></tr>
<tr><th id="522">522</th><td>              <q>"no longer be used."</q>);</td></tr>
<tr><th id="523">523</th><td><u>#<span data-ppcond="516">endif</span></u></td></tr>
<tr><th id="524">524</th><td>      }</td></tr>
<tr><th id="525">525</th><td>    }</td></tr>
<tr><th id="526">526</th><td>    <b>return</b> <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1ERKNS_8FastListIT_EE" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1ERKNS_8FastListIT_EE"></a><a class="local col7 ref" href="#87removedCliques" title='removedCliques' data-ref="87removedCliques">removedCliques</a>;</td></tr>
<tr><th id="527">527</th><td>  };</td></tr>
<tr><th id="528">528</th><td></td></tr>
<tr><th id="529">529</th><td>  <i>// Remove each variable and its subtrees</i></td></tr>
<tr><th id="530">530</th><td>  <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col2 decl" id="92j" title='j' data-type='Key' data-ref="92j">j</dfn> : <a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>) {</td></tr>
<tr><th id="531">531</th><td>    <b>if</b> (!<a class="local col3 ref" href="#83leafKeysRemoved" title='leafKeysRemoved' data-ref="83leafKeysRemoved">leafKeysRemoved</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col2 ref" href="#92j" title='j' data-ref="92j">j</a>)) {  <i>// If the index was not already removed</i></td></tr>
<tr><th id="532">532</th><td>                                       <i>// by removing another subtree</i></td></tr>
<tr><th id="533">533</th><td><i></i></td></tr>
<tr><th id="534">534</th><td><i>      // Traverse up the tree to find the root of the marginalized subtree</i></td></tr>
<tr><th id="535">535</th><td>      <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a> <dfn class="local col3 decl" id="93clique" title='clique' data-type='sharedClique' data-ref="93clique">clique</dfn> = <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::nodes_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::nodes_' data-use='m' data-ref="gtsam::BayesTree::nodes_">nodes_</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixERKT_" title='std::map::operator[]' data-ref="_ZNSt3mapixERKT_">[<a class="local col2 ref" href="#92j" title='j' data-ref="92j">j</a>]</a>;</td></tr>
<tr><th id="536">536</th><td>      <b>while</b> (<a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref field" href="../inference/BayesTreeCliqueBase.h.html#gtsam::BayesTreeCliqueBase::parent_" title='gtsam::BayesTreeCliqueBase&lt;gtsam::ISAM2Clique, gtsam::GaussianFactorGraph&gt;::parent_' data-ref="gtsam::BayesTreeCliqueBase::parent_">parent_</a>.<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt10__weak_ptr9use_countEv" title='std::__weak_ptr::use_count' data-ref="_ZNKSt10__weak_ptr9use_countEv">use_count</a>() != <var>0</var>) {</td></tr>
<tr><th id="537">537</th><td>        <i>// Check if parent contains a marginalized leaf variable.  Only need to</i></td></tr>
<tr><th id="538">538</th><td><i>        // check the first variable because it is the closest to the leaves.</i></td></tr>
<tr><th id="539">539</th><td>        <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a> <dfn class="local col4 decl" id="94parent" title='parent' data-type='sharedClique' data-ref="94parent">parent</dfn> = <a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZNK5gtsam19BayesTreeCliqueBase6parentEv" title='gtsam::BayesTreeCliqueBase::parent' data-ref="_ZNK5gtsam19BayesTreeCliqueBase6parentEv">parent</a>();</td></tr>
<tr><th id="540">540</th><td>        <b>if</b> (<a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col4 ref" href="#94parent" title='parent' data-ref="94parent">parent</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZNK5gtsam6Factor5frontEv" title='gtsam::Factor::front' data-ref="_ZNK5gtsam6Factor5frontEv">front</a>()))</td></tr>
<tr><th id="541">541</th><td>          <a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a> <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSERKSt10shared_ptrIT_E">=</a> <a class="local col4 ref" href="#94parent" title='parent' data-ref="94parent">parent</a>;</td></tr>
<tr><th id="542">542</th><td>        <b>else</b></td></tr>
<tr><th id="543">543</th><td>          <b>break</b>;</td></tr>
<tr><th id="544">544</th><td>      }</td></tr>
<tr><th id="545">545</th><td></td></tr>
<tr><th id="546">546</th><td>      <i>// See if we should remove the whole clique</i></td></tr>
<tr><th id="547">547</th><td>      <em>bool</em> <dfn class="local col5 decl" id="95marginalizeEntireClique" title='marginalizeEntireClique' data-type='bool' data-ref="95marginalizeEntireClique">marginalizeEntireClique</dfn> = <b>true</b>;</td></tr>
<tr><th id="548">548</th><td>      <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col6 decl" id="96frontal" title='frontal' data-type='Key' data-ref="96frontal">frontal</dfn> : <a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZNK5gtsam11Conditional8frontalsEv" title='gtsam::Conditional::frontals' data-ref="_ZNK5gtsam11Conditional8frontalsEv">frontals</a>()) {</td></tr>
<tr><th id="549">549</th><td>        <b>if</b> (!<a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col6 ref" href="#96frontal" title='frontal' data-ref="96frontal">frontal</a>)) {</td></tr>
<tr><th id="550">550</th><td>          <a class="local col5 ref" href="#95marginalizeEntireClique" title='marginalizeEntireClique' data-ref="95marginalizeEntireClique">marginalizeEntireClique</a> = <b>false</b>;</td></tr>
<tr><th id="551">551</th><td>          <b>break</b>;</td></tr>
<tr><th id="552">552</th><td>        }</td></tr>
<tr><th id="553">553</th><td>      }</td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td>      <i>// Remove either the whole clique or part of it</i></td></tr>
<tr><th id="556">556</th><td>      <b>if</b> (<a class="local col5 ref" href="#95marginalizeEntireClique" title='marginalizeEntireClique' data-ref="95marginalizeEntireClique">marginalizeEntireClique</a>) {</td></tr>
<tr><th id="557">557</th><td>        <i>// Remove the whole clique and its subtree, and keep the marginal</i></td></tr>
<tr><th id="558">558</th><td><i>        // factor.</i></td></tr>
<tr><th id="559">559</th><td>        <em>auto</em> <dfn class="local col7 decl" id="97marginalFactor" title='marginalFactor' data-type='Base::FactorType::shared_ptr' data-ref="97marginalFactor">marginalFactor</dfn> = <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="ISAM2Clique.h.html#_ZN5gtsam11ISAM2Clique12cachedFactorEv" title='gtsam::ISAM2Clique::cachedFactor' data-ref="_ZN5gtsam11ISAM2Clique12cachedFactorEv">cachedFactor</a>();</td></tr>
<tr><th id="560">560</th><td>        <i>// We do not need the marginal factors associated with this clique</i></td></tr>
<tr><th id="561">561</th><td><i>        // because their information is already incorporated in the new</i></td></tr>
<tr><th id="562">562</th><td><i>        // marginal factor.  So, now associate this marginal factor with the</i></td></tr>
<tr><th id="563">563</th><td><i>        // parent of this clique. If the clique is a root and has no parent, then</i></td></tr>
<tr><th id="564">564</th><td><i>        // we can discard it without keeping track of the marginal factor.</i></td></tr>
<tr><th id="565">565</th><td>        <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrcvbEv" title='std::__shared_ptr::operator bool' data-ref="_ZNKSt12__shared_ptrcvbEv"></a><a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZNK5gtsam19BayesTreeCliqueBase6parentEv" title='gtsam::BayesTreeCliqueBase::parent' data-ref="_ZNK5gtsam19BayesTreeCliqueBase6parentEv">parent</a>()) {</td></tr>
<tr><th id="566">566</th><td>            <a class="local col2 ref" href="#82marginalFactors" title='marginalFactors' data-ref="82marginalFactors">marginalFactors</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixEOT_" title='std::map::operator[]' data-ref="_ZNSt3mapixEOT_">[<a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZNK5gtsam19BayesTreeCliqueBase6parentEv" title='gtsam::BayesTreeCliqueBase::parent' data-ref="_ZNK5gtsam19BayesTreeCliqueBase6parentEv">parent</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZNK5gtsam6Factor5frontEv" title='gtsam::Factor::front' data-ref="_ZNK5gtsam6Factor5frontEv">front</a>()]</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(</td></tr>
<tr><th id="567">567</th><td>                    <span class='inlayHint'>x:&nbsp;</span><a class="local col7 ref" href="#97marginalFactor" title='marginalFactor' data-ref="97marginalFactor">marginalFactor</a>);</td></tr>
<tr><th id="568">568</th><td>        }</td></tr>
<tr><th id="569">569</th><td>        <i>// Now remove this clique and its subtree - all of its marginal</i></td></tr>
<tr><th id="570">570</th><td><i>        // information has been stored in marginalFactors.</i></td></tr>
<tr><th id="571">571</th><td>        <a class="local col5 ref" href="#85trackingRemoveSubtree" title='trackingRemoveSubtree' data-ref="85trackingRemoveSubtree">trackingRemoveSubtree</a><a class="tu ref fn" href="#_ZZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_ENK3$_0clERKSt10shared_ptrINS_11ISAM2CliqueEE" title='gtsam::ISAM2::marginalizeLeaves(const FastList&lt;Key&gt; &amp;, FactorIndices *, FactorIndices *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_ENK3$_0clERKSt10shared_ptrINS_11ISAM2CliqueEE">(<a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a>)</a>;</td></tr>
<tr><th id="572">572</th><td>      } <b>else</b> {</td></tr>
<tr><th id="573">573</th><td>        <i>// Reeliminate the current clique and the marginals from its children,</i></td></tr>
<tr><th id="574">574</th><td><i>        // then keep only the marginal on the non-marginalized variables.  We</i></td></tr>
<tr><th id="575">575</th><td><i>        // get the childrens' marginals from any existing children, plus</i></td></tr>
<tr><th id="576">576</th><td><i>        // the marginals from the marginalFactors multimap, which come from any</i></td></tr>
<tr><th id="577">577</th><td><i>        // subtrees already marginalized out.</i></td></tr>
<tr><th id="578">578</th><td><i></i></td></tr>
<tr><th id="579">579</th><td><i>        // Add child marginals and remove marginalized subtrees</i></td></tr>
<tr><th id="580">580</th><td>        <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <a class="ref fn fake" href="../linear/GaussianFactorGraph.h.html#_ZN5gtsam19GaussianFactorGraphC1Ev" title='gtsam::GaussianFactorGraph::GaussianFactorGraph' data-ref="_ZN5gtsam19GaussianFactorGraphC1Ev"></a><dfn class="local col8 decl" id="98graph" title='graph' data-type='GaussianFactorGraph' data-ref="98graph">graph</dfn>;</td></tr>
<tr><th id="581">581</th><td>        <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col9 decl" id="99factorsInSubtreeRoot" title='factorsInSubtreeRoot' data-type='KeySet' data-ref="99factorsInSubtreeRoot">factorsInSubtreeRoot</dfn>;</td></tr>
<tr><th id="582">582</th><td>        <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a> <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1Ev" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1Ev"></a><dfn class="local col0 decl" id="100subtreesToRemove" title='subtreesToRemove' data-type='Cliques' data-ref="100subtreesToRemove">subtreesToRemove</dfn>;</td></tr>
<tr><th id="583">583</th><td>        <b>for</b> (<em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a>&amp; <dfn class="local col1 decl" id="101child" title='child' data-type='const sharedClique &amp;' data-ref="101child">child</dfn> : <a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref field" href="../inference/BayesTreeCliqueBase.h.html#gtsam::BayesTreeCliqueBase::children" title='gtsam::BayesTreeCliqueBase&lt;gtsam::ISAM2Clique, gtsam::GaussianFactorGraph&gt;::children' data-ref="gtsam::BayesTreeCliqueBase::children">children</a>) {</td></tr>
<tr><th id="584">584</th><td>          <i>// Remove subtree if child depends on any marginalized keys</i></td></tr>
<tr><th id="585">585</th><td>          <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col2 decl" id="102parent" title='parent' data-type='Key' data-ref="102parent">parent</dfn> : <a class="local col1 ref" href="#101child" title='child' data-ref="101child">child</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZNK5gtsam11Conditional7parentsEv" title='gtsam::Conditional::parents' data-ref="_ZNK5gtsam11Conditional7parentsEv">parents</a>()) {</td></tr>
<tr><th id="586">586</th><td>            <b>if</b> (<a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col2 ref" href="#102parent" title='parent' data-ref="102parent">parent</a>)) {</td></tr>
<tr><th id="587">587</th><td>              <a class="local col0 ref" href="#100subtreesToRemove" title='subtreesToRemove' data-ref="100subtreesToRemove">subtreesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt7__cxx114list9push_backERKT_" title='std::list::push_back' data-ref="_ZNSt7__cxx114list9push_backERKT_">push_back</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col1 ref" href="#101child" title='child' data-ref="101child">child</a>);</td></tr>
<tr><th id="588">588</th><td>              <a class="local col8 ref" href="#98graph" title='graph' data-ref="98graph">graph</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><span class='inlayHint'>factor:&nbsp;</span><a class="local col1 ref" href="#101child" title='child' data-ref="101child">child</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="ISAM2Clique.h.html#_ZN5gtsam11ISAM2Clique12cachedFactorEv" title='gtsam::ISAM2Clique::cachedFactor' data-ref="_ZN5gtsam11ISAM2Clique12cachedFactorEv">cachedFactor</a>());  <i>// Add child marginal</i></td></tr>
<tr><th id="589">589</th><td>              <b>break</b>;</td></tr>
<tr><th id="590">590</th><td>            }</td></tr>
<tr><th id="591">591</th><td>          }</td></tr>
<tr><th id="592">592</th><td>        }</td></tr>
<tr><th id="593">593</th><td>        <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a> <a class="ref fn fake" href="../base/FastList.h.html#_ZN5gtsam8FastListC1Ev" title='gtsam::FastList::FastList&lt;VALUE&gt;' data-ref="_ZN5gtsam8FastListC1Ev"></a><dfn class="local col3 decl" id="103childrenRemoved" title='childrenRemoved' data-type='Cliques' data-ref="103childrenRemoved">childrenRemoved</dfn>;</td></tr>
<tr><th id="594">594</th><td>        <b>for</b> (<em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a>&amp; <dfn class="local col4 decl" id="104subtree" title='subtree' data-type='const sharedClique &amp;' data-ref="104subtree">subtree</dfn> : <a class="local col0 ref" href="#100subtreesToRemove" title='subtreesToRemove' data-ref="100subtreesToRemove">subtreesToRemove</a>) {</td></tr>
<tr><th id="595">595</th><td>          <em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::Cliques" title='gtsam::ISAM2::Cliques' data-type='Base::Cliques' data-ref="gtsam::ISAM2::Cliques">Cliques</a> <dfn class="local col5 decl" id="105removed" title='removed' data-type='const Cliques' data-ref="105removed">removed</dfn> = <a class="local col5 ref" href="#85trackingRemoveSubtree" title='trackingRemoveSubtree' data-ref="85trackingRemoveSubtree">trackingRemoveSubtree</a><a class="tu ref fn" href="#_ZZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_ENK3$_0clERKSt10shared_ptrINS_11ISAM2CliqueEE" title='gtsam::ISAM2::marginalizeLeaves(const FastList&lt;Key&gt; &amp;, FactorIndices *, FactorIndices *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN5gtsam5ISAM217marginalizeLeavesERKNS_8FastListImEEPSt6vectorImSaImEES8_ENK3$_0clERKSt10shared_ptrINS_11ISAM2CliqueEE">(<a class="local col4 ref" href="#104subtree" title='subtree' data-ref="104subtree">subtree</a>)</a>;</td></tr>
<tr><th id="596">596</th><td>          <a class="local col3 ref" href="#103childrenRemoved" title='childrenRemoved' data-ref="103childrenRemoved">childrenRemoved</a>.<a class="ref fn" href="../../../include/c++/13/bits/list.tcc.html#_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_" title='std::list::insert' data-ref="_ZNSt7__cxx114list6insertESt20_List_const_iteratorIT_ETL0__S4_">insert</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E" title='std::_List_const_iterator::_List_const_iterator&lt;type-parameter-0-0&gt;' data-ref="_ZNSt20_List_const_iteratorC1ERKSt14_List_iteratorIT_E"></a><span class='inlayHint'>position:&nbsp;</span><a class="local col3 ref" href="#103childrenRemoved" title='childrenRemoved' data-ref="103childrenRemoved">childrenRemoved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNSt7__cxx114list3endEv">end</a>(), <span class='inlayHint'>first:&nbsp;</span><a class="local col5 ref" href="#105removed" title='removed' data-ref="105removed">removed</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list5beginEv" title='std::list::begin' data-ref="_ZNKSt7__cxx114list5beginEv">begin</a>(),</td></tr>
<tr><th id="597">597</th><td>                                 <span class='inlayHint'>last:&nbsp;</span><a class="local col5 ref" href="#105removed" title='removed' data-ref="105removed">removed</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_list.h.html#_ZNKSt7__cxx114list3endEv" title='std::list::end' data-ref="_ZNKSt7__cxx114list3endEv">end</a>());</td></tr>
<tr><th id="598">598</th><td>        }</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>        <i>// Add the factors that are pulled into the current clique by the</i></td></tr>
<tr><th id="601">601</th><td><i>        // marginalized variables. These are the factors that involve</i></td></tr>
<tr><th id="602">602</th><td><i>        // *marginalized* frontal variables in this clique but do not involve</i></td></tr>
<tr><th id="603">603</th><td><i>        // frontal variables of any of its children.</i></td></tr>
<tr><th id="604">604</th><td><i>        // TODO(dellaert): reuse cached linear factors</i></td></tr>
<tr><th id="605">605</th><td>        <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <a class="ref fn fake" href="../base/FastSet.h.html#_ZN5gtsam7FastSetC1Ev" title='gtsam::FastSet::FastSet&lt;VALUE&gt;' data-ref="_ZN5gtsam7FastSetC1Ev"></a><dfn class="local col6 decl" id="106factorsFromMarginalizedInClique_step1" title='factorsFromMarginalizedInClique_step1' data-type='KeySet' data-ref="106factorsFromMarginalizedInClique_step1">factorsFromMarginalizedInClique_step1</dfn>;</td></tr>
<tr><th id="606">606</th><td>        <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col7 decl" id="107frontal" title='frontal' data-type='Key' data-ref="107frontal">frontal</dfn> : <a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZNK5gtsam11Conditional8frontalsEv" title='gtsam::Conditional::frontals' data-ref="_ZNK5gtsam11Conditional8frontalsEv">frontals</a>()) {</td></tr>
<tr><th id="607">607</th><td>          <b>if</b> (<a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col7 ref" href="#107frontal" title='frontal' data-ref="107frontal">frontal</a>))</td></tr>
<tr><th id="608">608</th><td>            <a class="local col6 ref" href="#106factorsFromMarginalizedInClique_step1" title='factorsFromMarginalizedInClique_step1' data-ref="106factorsFromMarginalizedInClique_step1">factorsFromMarginalizedInClique_step1</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(</td></tr>
<tr><th id="609">609</th><td>                <span class='inlayHint'>first:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a><a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndexixEm" title='gtsam::VariableIndex::operator[]' data-ref="_ZNK5gtsam13VariableIndexixEm">[<a class="local col7 ref" href="#107frontal" title='frontal' data-ref="107frontal">frontal</a>]</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a><a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndexixEm" title='gtsam::VariableIndex::operator[]' data-ref="_ZNK5gtsam13VariableIndexixEm">[<a class="local col7 ref" href="#107frontal" title='frontal' data-ref="107frontal">frontal</a>]</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>());</td></tr>
<tr><th id="610">610</th><td>        }</td></tr>
<tr><th id="611">611</th><td>        <i>// Remove any factors in subtrees that we're removing at this step</i></td></tr>
<tr><th id="612">612</th><td>        <b>for</b> (<em>const</em> <a class="typedef" href="ISAM2.h.html#gtsam::ISAM2::sharedClique" title='gtsam::ISAM2::sharedClique' data-type='Base::sharedClique' data-ref="gtsam::ISAM2::sharedClique">sharedClique</a>&amp; <dfn class="local col8 decl" id="108removedChild" title='removedChild' data-type='const sharedClique &amp;' data-ref="108removedChild">removedChild</dfn> : <a class="local col3 ref" href="#103childrenRemoved" title='childrenRemoved' data-ref="103childrenRemoved">childrenRemoved</a>) {</td></tr>
<tr><th id="613">613</th><td>          <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col9 decl" id="109indexInClique" title='indexInClique' data-type='Key' data-ref="109indexInClique">indexInClique</dfn> : <a class="local col8 ref" href="#108removedChild" title='removedChild' data-ref="108removedChild">removedChild</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>()<a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZNK5gtsam11Conditional8frontalsEv" title='gtsam::Conditional::frontals' data-ref="_ZNK5gtsam11Conditional8frontalsEv">frontals</a>()) {</td></tr>
<tr><th id="614">614</th><td>            <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col0 decl" id="110factorInvolving" title='factorInvolving' data-type='Key' data-ref="110factorInvolving">factorInvolving</dfn> : <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a><a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndexixEm" title='gtsam::VariableIndex::operator[]' data-ref="_ZNK5gtsam13VariableIndexixEm">[<a class="local col9 ref" href="#109indexInClique" title='indexInClique' data-ref="109indexInClique">indexInClique</a>]</a>) {</td></tr>
<tr><th id="615">615</th><td>              <a class="local col6 ref" href="#106factorsFromMarginalizedInClique_step1" title='factorsFromMarginalizedInClique_step1' data-ref="106factorsFromMarginalizedInClique_step1">factorsFromMarginalizedInClique_step1</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5eraseERKT_" title='std::set::erase' data-ref="_ZNSt3set5eraseERKT_">erase</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col0 ref" href="#110factorInvolving" title='factorInvolving' data-ref="110factorInvolving">factorInvolving</a>);</td></tr>
<tr><th id="616">616</th><td>            }</td></tr>
<tr><th id="617">617</th><td>          }</td></tr>
<tr><th id="618">618</th><td>        }</td></tr>
<tr><th id="619">619</th><td>        <i>// Create factor graph from factor indices</i></td></tr>
<tr><th id="620">620</th><td>        <b>for</b> (<em>const</em> <em>auto</em> <dfn class="local col1 decl" id="111index" title='index' data-type='unsigned long const' data-ref="111index">index</dfn> : <a class="local col6 ref" href="#106factorsFromMarginalizedInClique_step1" title='factorsFromMarginalizedInClique_step1' data-ref="106factorsFromMarginalizedInClique_step1">factorsFromMarginalizedInClique_step1</a>) {</td></tr>
<tr><th id="621">621</th><td>          <a class="local col8 ref" href="#98graph" title='graph' data-ref="98graph">graph</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<span class='inlayHint'>factor:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col1 ref" href="#111index" title='index' data-ref="111index">index</a>]</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="virtual ref fn" href="NonlinearFactor.h.html#_ZNK5gtsam15NonlinearFactor9linearizeERKNS_6ValuesE" title='gtsam::NonlinearFactor::linearize' data-ref="_ZNK5gtsam15NonlinearFactor9linearizeERKNS_6ValuesE">linearize</a>(<span class='inlayHint'>c:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>));</td></tr>
<tr><th id="622">622</th><td>        }</td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td>        <i>// Reeliminate the linear graph to get the marginal and discard the</i></td></tr>
<tr><th id="625">625</th><td><i>        // conditional</i></td></tr>
<tr><th id="626">626</th><td>        <em>auto</em> <dfn class="local col2 decl" id="112cg" title='cg' data-type='sharedConditional' data-ref="112cg">cg</dfn> = <a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><a class="local col3 ref" href="#93clique" title='clique' data-ref="93clique">clique</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/BayesTreeCliqueBase.h.html#_ZN5gtsam19BayesTreeCliqueBase11conditionalEv" title='gtsam::BayesTreeCliqueBase::conditional' data-ref="_ZN5gtsam19BayesTreeCliqueBase11conditionalEv">conditional</a>();</td></tr>
<tr><th id="627">627</th><td>        <em>const</em> <a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a> <dfn class="local col3 decl" id="113cliqueFrontals" title='cliqueFrontals' data-type='const KeySet' data-ref="113cliqueFrontals">cliqueFrontals</dfn><a class="ref fn" href="../base/FastSet.h.html#63" title='gtsam::FastSet&lt;unsigned long&gt;::set' data-ref="_ZN5gtsam7FastSetImECI1St3setImSt4lessImESaImEEIN9__gnu_cxx17__normal_iteratorIPmSt6vectorImS5_EEEEET_SC_">(</a><a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional13beginFrontalsEv" title='gtsam::Conditional::beginFrontals' data-ref="_ZN5gtsam11Conditional13beginFrontalsEv">beginFrontals</a>(), <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional11endFrontalsEv" title='gtsam::Conditional::endFrontals' data-ref="_ZN5gtsam11Conditional11endFrontalsEv">endFrontals</a>());</td></tr>
<tr><th id="628">628</th><td>        <a class="typedef" href="../inference/Key.h.html#gtsam::KeyVector" title='gtsam::KeyVector' data-type='FastVector&lt;Key&gt;' data-ref="gtsam::KeyVector">KeyVector</a> <a class="ref fn fake" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col4 decl" id="114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-type='KeyVector' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</dfn>;</td></tr>
<tr><th id="629">629</th><td>        <span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/bits/stl_algo.h.html#_ZSt16set_intersectionT_S_T0_S0_T1_" title='std::set_intersection' data-ref="_ZSt16set_intersectionT_S_T0_S0_T1_">set_intersection</a>(<span class='inlayHint'>first1:&nbsp;</span><a class="local col3 ref" href="#113cliqueFrontals" title='cliqueFrontals' data-ref="113cliqueFrontals">cliqueFrontals</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <span class='inlayHint'>last1:&nbsp;</span><a class="local col3 ref" href="#113cliqueFrontals" title='cliqueFrontals' data-ref="113cliqueFrontals">cliqueFrontals</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>(),</td></tr>
<tr><th id="630">630</th><td>                              <span class='inlayHint'>first2:&nbsp;</span><a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <span class='inlayHint'>last2:&nbsp;</span><a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>(),</td></tr>
<tr><th id="631">631</th><td>                              <span class='inlayHint'>result:&nbsp;</span><span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/bits/stl_iterator.h.html#_ZSt13back_inserterRT_" title='std::back_inserter' data-ref="_ZSt13back_inserterRT_">back_inserter</a>(<span class='inlayHint'>x&amp;:&nbsp;</span><span class='refarg'><a class="local col4 ref" href="#114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</a></span>));</td></tr>
<tr><th id="632">632</th><td>        <em>auto</em> <dfn class="local col5 decl" id="115eliminationResult1" title='eliminationResult1' data-type='std::pair&lt;std::shared_ptr&lt;gtsam::GaussianConditional&gt;, std::shared_ptr&lt;gtsam::GaussianFactor&gt;&gt;' data-ref="115eliminationResult1">eliminationResult1</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref fn" href="ISAM2Params.h.html#_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv" title='gtsam::ISAM2Params::getEliminationFunction' data-ref="_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv">getEliminationFunction</a>()<a class="ref fn" href="../../../include/c++/13/bits/std_function.h.html#_ZNKSt8functionIFT_DpT0_EEclES2_" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNKSt8functionIFT_DpT0_EEclES2_">(</a></td></tr>
<tr><th id="633">633</th><td><a class="ref fn" href="../../../include/c++/13/bits/std_function.h.html#_ZNKSt8functionIFT_DpT0_EEclES2_" title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNKSt8functionIFT_DpT0_EEclES2_">            <a class="local col8 ref" href="#98graph" title='graph' data-ref="98graph">graph</a>, <a class="type" href="../inference/Ordering.h.html#gtsam::Ordering" title='gtsam::Ordering' data-ref="gtsam::Ordering">Ordering</a><a class="ref fn" href="../inference/Ordering.h.html#_ZN5gtsam8OrderingC1ERKT_" title='gtsam::Ordering::Ordering' data-ref="_ZN5gtsam8OrderingC1ERKT_">(</a><a class="local col4 ref" href="#114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</a>))</a>;</td></tr>
<tr><th id="634">634</th><td></td></tr>
<tr><th id="635">635</th><td>        <i>// Add the resulting marginal</i></td></tr>
<tr><th id="636">636</th><td>        <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrcvbEv" title='std::__shared_ptr::operator bool' data-ref="_ZNKSt12__shared_ptrcvbEv"></a><a class="local col5 ref" href="#115eliminationResult1" title='eliminationResult1' data-ref="115eliminationResult1">eliminationResult1</a>.<a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::second" title='std::pair&lt;std::shared_ptr&lt;gtsam::GaussianConditional&gt;, std::shared_ptr&lt;gtsam::GaussianFactor&gt;&gt;::second' data-ref="std::pair::second">second</a>)</td></tr>
<tr><th id="637">637</th><td>          <a class="local col2 ref" href="#82marginalFactors" title='marginalFactors' data-ref="82marginalFactors">marginalFactors</a><a class="ref fn" href="../../../include/c++/13/bits/stl_map.h.html#_ZNSt3mapixEOT_" title='std::map::operator[]' data-ref="_ZNSt3mapixEOT_">[<a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZNK5gtsam6Factor5frontEv" title='gtsam::Factor::front' data-ref="_ZNK5gtsam6Factor5frontEv">front</a>()]</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_">push_back</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col5 ref" href="#115eliminationResult1" title='eliminationResult1' data-ref="115eliminationResult1">eliminationResult1</a>.<a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::second" title='std::pair&lt;std::shared_ptr&lt;gtsam::GaussianConditional&gt;, std::shared_ptr&lt;gtsam::GaussianFactor&gt;&gt;::second' data-ref="std::pair::second">second</a>);</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>        <i>// Split the current clique</i></td></tr>
<tr><th id="640">640</th><td><i>        // Find the position of the last leaf key in this clique</i></td></tr>
<tr><th id="641">641</th><td>        <a class="typedef" href="../base/types.h.html#gtsam::DenseIndex" title='gtsam::DenseIndex' data-type='ptrdiff_t' data-ref="gtsam::DenseIndex">DenseIndex</a> <dfn class="local col6 decl" id="116nToRemove" title='nToRemove' data-type='DenseIndex' data-ref="116nToRemove">nToRemove</dfn> = <var>0</var>;</td></tr>
<tr><th id="642">642</th><td>        <b>while</b> (<a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../base/FastSet.h.html#_ZNK5gtsam7FastSet6existsERKT_" title='gtsam::FastSet::exists' data-ref="_ZNK5gtsam7FastSet6existsERKT_">exists</a>(<span class='inlayHint'>e:&nbsp;</span><a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZN5gtsam6Factor4keysEv" title='gtsam::Factor::keys' data-ref="_ZN5gtsam6Factor4keysEv">keys</a>()<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>]</a>)) ++<a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>;</td></tr>
<tr><th id="643">643</th><td></td></tr>
<tr><th id="644">644</th><td>        <i>// Make the clique's matrix appear as a subset</i></td></tr>
<tr><th id="645">645</th><td>        <em>const</em> <a class="typedef" href="../base/types.h.html#gtsam::DenseIndex" title='gtsam::DenseIndex' data-type='ptrdiff_t' data-ref="gtsam::DenseIndex">DenseIndex</a> <dfn class="local col7 decl" id="117dimToRemove" title='dimToRemove' data-type='const DenseIndex' data-ref="117dimToRemove">dimToRemove</dfn> = <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../linear/JacobianFactor.h.html#_ZN5gtsam14JacobianFactor12matrixObjectEv" title='gtsam::JacobianFactor::matrixObject' data-ref="_ZN5gtsam14JacobianFactor12matrixObjectEv">matrixObject</a>().<a class="ref fn" href="../base/VerticalBlockMatrix.h.html#_ZNK5gtsam19VerticalBlockMatrix6offsetEl" title='gtsam::VerticalBlockMatrix::offset' data-ref="_ZNK5gtsam19VerticalBlockMatrix6offsetEl">offset</a>(<span class='inlayHint'>block:&nbsp;</span><a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>);</td></tr>
<tr><th id="646">646</th><td>        <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../linear/JacobianFactor.h.html#_ZN5gtsam14JacobianFactor12matrixObjectEv" title='gtsam::JacobianFactor::matrixObject' data-ref="_ZN5gtsam14JacobianFactor12matrixObjectEv">matrixObject</a>().<a class="ref fn" href="../base/VerticalBlockMatrix.h.html#_ZN5gtsam19VerticalBlockMatrix10firstBlockEv" title='gtsam::VerticalBlockMatrix::firstBlock' data-ref="_ZN5gtsam19VerticalBlockMatrix10firstBlockEv">firstBlock</a>() += <a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>;</td></tr>
<tr><th id="647">647</th><td>        <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../linear/JacobianFactor.h.html#_ZN5gtsam14JacobianFactor12matrixObjectEv" title='gtsam::JacobianFactor::matrixObject' data-ref="_ZN5gtsam14JacobianFactor12matrixObjectEv">matrixObject</a>().<a class="ref fn" href="../base/VerticalBlockMatrix.h.html#_ZN5gtsam19VerticalBlockMatrix8rowStartEv" title='gtsam::VerticalBlockMatrix::rowStart' data-ref="_ZN5gtsam19VerticalBlockMatrix8rowStartEv">rowStart</a>() = <a class="local col7 ref" href="#117dimToRemove" title='dimToRemove' data-ref="117dimToRemove">dimToRemove</a>;</td></tr>
<tr><th id="648">648</th><td></td></tr>
<tr><th id="649">649</th><td>        <i>// Change the keys in the clique</i></td></tr>
<tr><th id="650">650</th><td>        <a class="typedef" href="../inference/Key.h.html#gtsam::KeyVector" title='gtsam::KeyVector' data-type='FastVector&lt;Key&gt;' data-ref="gtsam::KeyVector">KeyVector</a> <a class="ref fn fake" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col8 decl" id="118originalKeys" title='originalKeys' data-type='KeyVector' data-ref="118originalKeys">originalKeys</dfn>;</td></tr>
<tr><th id="651">651</th><td>        <a class="local col8 ref" href="#118originalKeys" title='originalKeys' data-ref="118originalKeys">originalKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector4swapERSt6vectorIT_T0_E" title='std::vector::swap' data-ref="_ZNSt6vector4swapERSt6vectorIT_T0_E">swap</a>(<span class='inlayHint'>x&amp;:&nbsp;</span><span class='refarg'><a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZN5gtsam6Factor4keysEv" title='gtsam::Factor::keys' data-ref="_ZN5gtsam6Factor4keysEv">keys</a>()</span>);</td></tr>
<tr><th id="652">652</th><td>        <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Factor.h.html#_ZN5gtsam6Factor4keysEv" title='gtsam::Factor::keys' data-ref="_ZN5gtsam6Factor4keysEv">keys</a>().<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector6assignETL0__S0_" title='std::vector::assign' data-ref="_ZNSt6vector6assignETL0__S0_">assign</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col8 ref" href="#118originalKeys" title='originalKeys' data-ref="118originalKeys">originalKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>() <a class="ref fn" href="../../../include/c++/13/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator+" title='__gnu_cxx::__normal_iterator::operator+' data-ref="__gnu_cxx::__normal_iterator::operator+">+</a> <a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>, <span class='inlayHint'>last:&nbsp;</span><a class="local col8 ref" href="#118originalKeys" title='originalKeys' data-ref="118originalKeys">originalKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>());</td></tr>
<tr><th id="653">653</th><td>        <a class="local col2 ref" href="#112cg" title='cg' data-ref="112cg">cg</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="../inference/Conditional.h.html#_ZN5gtsam11Conditional10nrFrontalsEv" title='gtsam::Conditional::nrFrontals' data-ref="_ZN5gtsam11Conditional10nrFrontalsEv">nrFrontals</a>() -= <a class="local col6 ref" href="#116nToRemove" title='nToRemove' data-ref="116nToRemove">nToRemove</a>;</td></tr>
<tr><th id="654">654</th><td></td></tr>
<tr><th id="655">655</th><td>        <i>// Add to factorIndicesToRemove any factors involved in frontals of</i></td></tr>
<tr><th id="656">656</th><td><i>        // current clique</i></td></tr>
<tr><th id="657">657</th><td>        <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col9 decl" id="119frontal" title='frontal' data-type='Key' data-ref="119frontal">frontal</dfn> : <a class="local col4 ref" href="#114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</a>) {</td></tr>
<tr><th id="658">658</th><td>          <em>const</em> <em>auto</em>&amp; <dfn class="local col0 decl" id="120involved" title='involved' data-type='const FactorIndices &amp;' data-ref="120involved">involved</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a><a class="ref fn" href="../inference/VariableIndex.h.html#_ZNK5gtsam13VariableIndexixEm" title='gtsam::VariableIndex::operator[]' data-ref="_ZNK5gtsam13VariableIndexixEm">[<a class="local col9 ref" href="#119frontal" title='frontal' data-ref="119frontal">frontal</a>]</a>;</td></tr>
<tr><th id="659">659</th><td>          <a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col0 ref" href="#120involved" title='involved' data-ref="120involved">involved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>(), <span class='inlayHint'>last:&nbsp;</span><a class="local col0 ref" href="#120involved" title='involved' data-ref="120involved">involved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>());</td></tr>
<tr><th id="660">660</th><td>        }</td></tr>
<tr><th id="661">661</th><td></td></tr>
<tr><th id="662">662</th><td>        <i>// Add removed keys</i></td></tr>
<tr><th id="663">663</th><td>        <a class="local col3 ref" href="#83leafKeysRemoved" title='leafKeysRemoved' data-ref="83leafKeysRemoved">leafKeysRemoved</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertETL0__S0_" title='std::set::insert' data-ref="_ZNSt3set6insertETL0__S0_">insert</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col4 ref" href="#114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>(),</td></tr>
<tr><th id="664">664</th><td>                               <span class='inlayHint'>last:&nbsp;</span><a class="local col4 ref" href="#114cliqueFrontalsToEliminate" title='cliqueFrontalsToEliminate' data-ref="114cliqueFrontalsToEliminate">cliqueFrontalsToEliminate</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv">end</a>());</td></tr>
<tr><th id="665">665</th><td>      }</td></tr>
<tr><th id="666">666</th><td>    }</td></tr>
<tr><th id="667">667</th><td>  }</td></tr>
<tr><th id="668">668</th><td></td></tr>
<tr><th id="669">669</th><td>  <i>// At this point we have updated the BayesTree, now update the remaining iSAM2</i></td></tr>
<tr><th id="670">670</th><td><i>  // data structures</i></td></tr>
<tr><th id="671">671</th><td><i></i></td></tr>
<tr><th id="672">672</th><td><i>  // Remove the factors to remove that will be summarized in marginal factors</i></td></tr>
<tr><th id="673">673</th><td>  <a class="type" href="NonlinearFactorGraph.h.html#gtsam::NonlinearFactorGraph" title='gtsam::NonlinearFactorGraph' data-ref="gtsam::NonlinearFactorGraph">NonlinearFactorGraph</a> <a class="ref fn fake" href="NonlinearFactorGraph.h.html#_ZN5gtsam20NonlinearFactorGraphC1Ev" title='gtsam::NonlinearFactorGraph::NonlinearFactorGraph' data-ref="_ZN5gtsam20NonlinearFactorGraphC1Ev"></a><dfn class="local col1 decl" id="121removedFactors" title='removedFactors' data-type='NonlinearFactorGraph' data-ref="121removedFactors">removedFactors</dfn>;</td></tr>
<tr><th id="674">674</th><td>  <b>for</b> (<em>const</em> <em>auto</em> <dfn class="local col2 decl" id="122index" title='index' data-type='unsigned long const' data-ref="122index">index</dfn> : <a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>) {</td></tr>
<tr><th id="675">675</th><td>    <a class="local col1 ref" href="#121removedFactors" title='removedFactors' data-ref="121removedFactors">removedFactors</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><span class='inlayHint'>factor:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col2 ref" href="#122index" title='index' data-ref="122index">index</a>]</a>);</td></tr>
<tr><th id="676">676</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph6removeEm" title='gtsam::FactorGraph::remove' data-ref="_ZN5gtsam11FactorGraph6removeEm">remove</a>(<span class='inlayHint'>i:&nbsp;</span><a class="local col2 ref" href="#122index" title='index' data-ref="122index">index</a>);</td></tr>
<tr><th id="677">677</th><td>    <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::cacheLinearizedFactors" title='gtsam::ISAM2Params::cacheLinearizedFactors' data-ref="gtsam::ISAM2Params::cacheLinearizedFactors">cacheLinearizedFactors</a>) {</td></tr>
<tr><th id="678">678</th><td>      <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph6removeEm" title='gtsam::FactorGraph::remove' data-ref="_ZN5gtsam11FactorGraph6removeEm">remove</a>(<span class='inlayHint'>i:&nbsp;</span><a class="local col2 ref" href="#122index" title='index' data-ref="122index">index</a>);</td></tr>
<tr><th id="679">679</th><td>    }</td></tr>
<tr><th id="680">680</th><td>  }</td></tr>
<tr><th id="681">681</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>.<a class="ref fn" href="../inference/VariableIndex-inl.h.html#_ZN5gtsam13VariableIndex6removeET_S1_RKT0_" title='gtsam::VariableIndex::remove' data-ref="_ZN5gtsam13VariableIndex6removeET_S1_RKT0_">remove</a>(<span class='inlayHint'>firstFactor:&nbsp;</span><a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(),</td></tr>
<tr><th id="682">682</th><td>                        <span class='inlayHint'>lastFactor:&nbsp;</span><a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>(), <span class='inlayHint'>factors:&nbsp;</span><a class="local col1 ref" href="#121removedFactors" title='removedFactors' data-ref="121removedFactors">removedFactors</a>);</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>  <i>// Gather factors to add - the new marginal factors</i></td></tr>
<tr><th id="685">685</th><td>  <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a> <dfn class="local col3 decl" id="123factorsToAdd" title='factorsToAdd' data-type='GaussianFactorGraph' data-ref="123factorsToAdd">factorsToAdd</dfn><a class="ref fn" href="../linear/GaussianFactorGraph.h.html#_ZN5gtsam19GaussianFactorGraphC1Ev" title='gtsam::GaussianFactorGraph::GaussianFactorGraph' data-ref="_ZN5gtsam19GaussianFactorGraphC1Ev">{</a>};</td></tr>
<tr><th id="686">686</th><td>  <a class="type" href="NonlinearFactorGraph.h.html#gtsam::NonlinearFactorGraph" title='gtsam::NonlinearFactorGraph' data-ref="gtsam::NonlinearFactorGraph">NonlinearFactorGraph</a> <dfn class="local col4 decl" id="124nonlinearFactorsToAdd" title='nonlinearFactorsToAdd' data-type='NonlinearFactorGraph' data-ref="124nonlinearFactorsToAdd">nonlinearFactorsToAdd</dfn><a class="ref fn" href="NonlinearFactorGraph.h.html#_ZN5gtsam20NonlinearFactorGraphC1Ev" title='gtsam::NonlinearFactorGraph::NonlinearFactorGraph' data-ref="_ZN5gtsam20NonlinearFactorGraphC1Ev">{</a>};</td></tr>
<tr><th id="687">687</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col5 decl" id="125key_factors" title='key_factors' data-type='std::pair&lt;const unsigned long, std::vector&lt;std::shared_ptr&lt;gtsam::GaussianFactor&gt;&gt;&gt; const &amp;' data-ref="125key_factors">key_factors</dfn> : <a class="local col2 ref" href="#82marginalFactors" title='marginalFactors' data-ref="82marginalFactors">marginalFactors</a>) {</td></tr>
<tr><th id="688">688</th><td>    <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col6 decl" id="126factor" title='factor' data-type='std::shared_ptr&lt;gtsam::GaussianFactor&gt; const &amp;' data-ref="126factor">factor</dfn> : <a class="local col5 ref" href="#125key_factors" title='key_factors' data-ref="125key_factors">key_factors</a>.<a class="ref field" href="../../../include/c++/13/bits/stl_pair.h.html#std::pair::second" title='std::pair&lt;const unsigned long, std::vector&lt;std::shared_ptr&lt;gtsam::GaussianFactor&gt;&gt;&gt;::second' data-ref="std::pair::second">second</a>) {</td></tr>
<tr><th id="689">689</th><td>      <b>if</b> (<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrcvbEv" title='std::__shared_ptr::operator bool' data-ref="_ZNKSt12__shared_ptrcvbEv"></a><a class="local col6 ref" href="#126factor" title='factor' data-ref="126factor">factor</a>) {</td></tr>
<tr><th id="690">690</th><td>        <a class="local col3 ref" href="#123factorsToAdd" title='factorsToAdd' data-ref="123factorsToAdd">factorsToAdd</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E" title='gtsam::FactorGraph::push_back' data-ref="_ZN5gtsam11FactorGraph9push_backESt10shared_ptrITL0__E">push_back</a>(<a class="ref fn fake" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E" title='std::shared_ptr::shared_ptr&lt;_Tp&gt;' data-ref="_ZNSt10shared_ptrC1ERKSt10shared_ptrIT_E"></a><a class="local col6 ref" href="#126factor" title='factor' data-ref="126factor">factor</a>);</td></tr>
<tr><th id="691">691</th><td>        <a class="local col4 ref" href="#124nonlinearFactorsToAdd" title='nonlinearFactorsToAdd' data-ref="124nonlinearFactorsToAdd">nonlinearFactorsToAdd</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph14emplace_sharedEDpOTL0_0_" title='gtsam::FactorGraph::emplace_shared' data-ref="_ZN5gtsam11FactorGraph14emplace_sharedEDpOTL0_0_">emplace_shared</a>&lt;<a class="type" href="LinearContainerFactor.h.html#gtsam::LinearContainerFactor" title='gtsam::LinearContainerFactor' data-ref="gtsam::LinearContainerFactor">LinearContainerFactor</a>&gt;(<span class='inlayHint'>args:&nbsp;</span><a class="local col6 ref" href="#126factor" title='factor' data-ref="126factor">factor</a>);</td></tr>
<tr><th id="692">692</th><td>        <b>for</b> (<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col7 decl" id="127factorKey" title='factorKey' data-type='Key' data-ref="127factorKey">factorKey</dfn> : <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessdeEv" title='std::__shared_ptr_access::operator*' data-ref="_ZNKSt19__shared_ptr_accessdeEv">*</a><a class="local col6 ref" href="#126factor" title='factor' data-ref="126factor">factor</a>) {</td></tr>
<tr><th id="693">693</th><td>          <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::fixedVariables_" title='gtsam::ISAM2::fixedVariables_' data-ref="gtsam::ISAM2::fixedVariables_">fixedVariables_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set6insertERKT_" title='std::set::insert' data-ref="_ZNSt3set6insertERKT_">insert</a>(<span class='inlayHint'>x:&nbsp;</span><a class="local col7 ref" href="#127factorKey" title='factorKey' data-ref="127factorKey">factorKey</a>);</td></tr>
<tr><th id="694">694</th><td>        }</td></tr>
<tr><th id="695">695</th><td>      }</td></tr>
<tr><th id="696">696</th><td>    }</td></tr>
<tr><th id="697">697</th><td>  }</td></tr>
<tr><th id="698">698</th><td>  <i>// Add the nonlinear factors and keep track of the new factor indices</i></td></tr>
<tr><th id="699">699</th><td>  <em>auto</em> <dfn class="local col8 decl" id="128newFactorIndices" title='newFactorIndices' data-type='FactorIndices' data-ref="128newFactorIndices">newFactorIndices</dfn> = <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph-inst.h.html#_ZN5gtsam11FactorGraph11add_factorsERKTL0__b" title='gtsam::FactorGraph::add_factors' data-ref="_ZN5gtsam11FactorGraph11add_factorsERKTL0__b">add_factors</a>(<span class='inlayHint'>factors:&nbsp;</span><a class="local col4 ref" href="#124nonlinearFactorsToAdd" title='nonlinearFactorsToAdd' data-ref="124nonlinearFactorsToAdd">nonlinearFactorsToAdd</a>,</td></tr>
<tr><th id="700">700</th><td>                                                        <span class='inlayHint'>useEmptySlots:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::findUnusedFactorSlots" title='gtsam::ISAM2Params::findUnusedFactorSlots' data-ref="gtsam::ISAM2Params::findUnusedFactorSlots">findUnusedFactorSlots</a>);</td></tr>
<tr><th id="701">701</th><td>  <i>// Add cached linear factors.</i></td></tr>
<tr><th id="702">702</th><td>  <b>if</b> (<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::cacheLinearizedFactors" title='gtsam::ISAM2Params::cacheLinearizedFactors' data-ref="gtsam::ISAM2Params::cacheLinearizedFactors">cacheLinearizedFactors</a>){</td></tr>
<tr><th id="703">703</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a>.<a class="virtual ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraph6resizeEm" title='gtsam::FactorGraph::resize' data-ref="_ZN5gtsam11FactorGraph6resizeEm">resize</a>(<span class='inlayHint'>size:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZNK5gtsam11FactorGraph4sizeEv" title='gtsam::FactorGraph::size' data-ref="_ZNK5gtsam11FactorGraph4sizeEv">size</a>());</td></tr>
<tr><th id="704">704</th><td>    <b>for</b> (<span class="namespace">std::</span><a class="typedef" href="../../../include/x86_64-linux-gnu/c++/13/bits/c++config.h.html#std::size_t" title='std::size_t' data-type='unsigned long' data-ref="std::size_t">size_t</a> <dfn class="local col9 decl" id="129i" title='i' data-type='std::size_t' data-ref="129i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#129i" title='i' data-ref="129i">i</a> &lt; <a class="local col4 ref" href="#124nonlinearFactorsToAdd" title='nonlinearFactorsToAdd' data-ref="124nonlinearFactorsToAdd">nonlinearFactorsToAdd</a>.<a class="ref fn" href="../inference/FactorGraph.h.html#_ZNK5gtsam11FactorGraph4sizeEv" title='gtsam::FactorGraph::size' data-ref="_ZNK5gtsam11FactorGraph4sizeEv">size</a>(); ++<a class="local col9 ref" href="#129i" title='i' data-ref="129i">i</a>){</td></tr>
<tr><th id="705">705</th><td>      <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::linearFactors_" title='gtsam::ISAM2::linearFactors_' data-ref="gtsam::ISAM2::linearFactors_">linearFactors_</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col8 ref" href="#128newFactorIndices" title='newFactorIndices' data-ref="128newFactorIndices">newFactorIndices</a><a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col9 ref" href="#129i" title='i' data-ref="129i">i</a>]</a>]</a> <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr.h.html#_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSERKSt10shared_ptrIT_E">=</a> <a class="local col3 ref" href="#123factorsToAdd" title='factorsToAdd' data-ref="123factorsToAdd">factorsToAdd</a><a class="ref fn" href="../inference/FactorGraph.h.html#_ZN5gtsam11FactorGraphixEm" title='gtsam::FactorGraph::operator[]' data-ref="_ZN5gtsam11FactorGraphixEm">[<a class="local col9 ref" href="#129i" title='i' data-ref="129i">i</a>]</a>;</td></tr>
<tr><th id="706">706</th><td>    }</td></tr>
<tr><th id="707">707</th><td>  }</td></tr>
<tr><th id="708">708</th><td>  <i>// Augment the variable index</i></td></tr>
<tr><th id="709">709</th><td>  <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::variableIndex_" title='gtsam::ISAM2::variableIndex_' data-ref="gtsam::ISAM2::variableIndex_">variableIndex_</a>.<a class="ref fn" href="../inference/VariableIndex.h.html#_ZN5gtsam13VariableIndex7augmentERKT_RKSt6vectorImSaImEE" title='gtsam::VariableIndex::augment' data-ref="_ZN5gtsam13VariableIndex7augmentERKT_RKSt6vectorImSaImEE">augment</a>(<span class='inlayHint'>factor:&nbsp;</span><a class="local col3 ref" href="#123factorsToAdd" title='factorsToAdd' data-ref="123factorsToAdd">factorsToAdd</a>, <a class="local col8 ref" href="#128newFactorIndices" title='newFactorIndices' data-ref="128newFactorIndices">newFactorIndices</a>);</td></tr>
<tr><th id="710">710</th><td></td></tr>
<tr><th id="711">711</th><td>  <i>// Remove the marginalized variables</i></td></tr>
<tr><th id="712">712</th><td>  <a class="member fn" href="#_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE" title='gtsam::ISAM2::removeVariables' data-ref="_ZN5gtsam5ISAM215removeVariablesERKNS_7FastSetImEE">removeVariables</a>(<span class='inlayHint'>unusedKeys:&nbsp;</span><a class="typedef" href="../inference/Key.h.html#gtsam::KeySet" title='gtsam::KeySet' data-type='FastSet&lt;Key&gt;' data-ref="gtsam::KeySet">KeySet</a><a class="ref fn" href="../base/FastSet.h.html#63" title='gtsam::FastSet&lt;unsigned long&gt;::set' data-ref="_ZN5gtsam7FastSetImECI1St3setImSt4lessImESaImEEISt23_Rb_tree_const_iteratorImEEET_S8_">(</a><a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(), <a class="local col1 ref" href="#81leafKeys" title='leafKeys' data-ref="81leafKeys">leafKeys</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>()));</td></tr>
<tr><th id="713">713</th><td></td></tr>
<tr><th id="714">714</th><td>  <b>if</b> (<a class="local col0 ref" href="#80deletedFactorsIndices" title='deletedFactorsIndices' data-ref="80deletedFactorsIndices">deletedFactorsIndices</a>) {</td></tr>
<tr><th id="715">715</th><td>    <a class="local col0 ref" href="#80deletedFactorsIndices" title='deletedFactorsIndices' data-ref="80deletedFactorsIndices">deletedFactorsIndices</a>-&gt;<a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vector6assignETL0__S0_" title='std::vector::assign' data-ref="_ZNSt6vector6assignETL0__S0_">assign</a>(<span class='inlayHint'>first:&nbsp;</span><a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5beginEv" title='std::set::begin' data-ref="_ZNKSt3set5beginEv">begin</a>(),</td></tr>
<tr><th id="716">716</th><td>                                  <span class='inlayHint'>last:&nbsp;</span><a class="local col4 ref" href="#84factorIndicesToRemove" title='factorIndicesToRemove' data-ref="84factorIndicesToRemove">factorIndicesToRemove</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set3endEv" title='std::set::end' data-ref="_ZNKSt3set3endEv">end</a>());</td></tr>
<tr><th id="717">717</th><td>  }</td></tr>
<tr><th id="718">718</th><td>  <b>if</b> (<a class="local col9 ref" href="#79marginalFactorsIndices" title='marginalFactorsIndices' data-ref="79marginalFactorsIndices">marginalFactorsIndices</a>){</td></tr>
<tr><th id="719">719</th><td>    *<a class="local col9 ref" href="#79marginalFactorsIndices" title='marginalFactorsIndices' data-ref="79marginalFactorsIndices">marginalFactorsIndices</a> <a class="ref fn" href="../../../include/c++/13/bits/stl_vector.h.html#_ZNSt6vectoraSEOSt6vectorIT_T0_E" title='std::vector::operator=' data-ref="_ZNSt6vectoraSEOSt6vectorIT_T0_E">=</a> <span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col8 ref" href="#128newFactorIndices" title='newFactorIndices' data-ref="128newFactorIndices">newFactorIndices</a></span>);</td></tr>
<tr><th id="720">720</th><td>  }</td></tr>
<tr><th id="721">721</th><td>}</td></tr>
<tr><th id="722">722</th><td></td></tr>
<tr><th id="723">723</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="724">724</th><td><i>// Marked const but actually changes mutable delta</i></td></tr>
<tr><th id="725">725</th><td><em>void</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM211updateDeltaEb" title='gtsam::ISAM2::updateDelta' data-ref="_ZNK5gtsam5ISAM211updateDeltaEb">updateDelta</dfn>(<em>bool</em> <dfn class="local col0 decl" id="130forceFullSolve" title='forceFullSolve' data-type='bool' data-ref="130forceFullSolve">forceFullSolve</dfn>) <em>const</em> {</td></tr>
<tr><th id="726">726</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t updateDelta_id_tic = ::gtsam::internal::getTicTocID(&quot;updateDelta&quot;); ::gtsam::internal::AutoTicToc updateDelta_obj(updateDelta_id_tic, &quot;updateDelta&quot;)" data-ref="_M/gttic">gttic</a>(updateDelta);</td></tr>
<tr><th id="727">727</th><td>  <b>if</b> (<span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt17holds_alternativeRKSt7variantIJDpT0_EE" title='std::holds_alternative' data-ref="_ZSt17holds_alternativeRKSt7variantIJDpT0_EE">holds_alternative</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2GaussNewtonParams" title='gtsam::ISAM2GaussNewtonParams' data-ref="gtsam::ISAM2GaussNewtonParams">ISAM2GaussNewtonParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>)) {</td></tr>
<tr><th id="728">728</th><td>    <i>// If using Gauss-Newton, update with wildfireThreshold</i></td></tr>
<tr><th id="729">729</th><td>    <em>const</em> <a class="type" href="ISAM2Params.h.html#gtsam::ISAM2GaussNewtonParams" title='gtsam::ISAM2GaussNewtonParams' data-ref="gtsam::ISAM2GaussNewtonParams">ISAM2GaussNewtonParams</a>&amp; <dfn class="local col1 decl" id="131gaussNewtonParams" title='gaussNewtonParams' data-type='const ISAM2GaussNewtonParams &amp;' data-ref="131gaussNewtonParams">gaussNewtonParams</dfn> =</td></tr>
<tr><th id="730">730</th><td>        <span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt3getRKSt7variantIJDpT0_EE" title='std::get' data-ref="_ZSt3getRKSt7variantIJDpT0_EE">get</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2GaussNewtonParams" title='gtsam::ISAM2GaussNewtonParams' data-ref="gtsam::ISAM2GaussNewtonParams">ISAM2GaussNewtonParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>);</td></tr>
<tr><th id="731">731</th><td>    <em>const</em> <em>double</em> <dfn class="local col2 decl" id="132effectiveWildfireThreshold" title='effectiveWildfireThreshold' data-type='const double' data-ref="132effectiveWildfireThreshold">effectiveWildfireThreshold</dfn> =</td></tr>
<tr><th id="732">732</th><td>        <a class="local col0 ref" href="#130forceFullSolve" title='forceFullSolve' data-ref="130forceFullSolve">forceFullSolve</a> ? <var>0.0</var> : <a class="local col1 ref" href="#131gaussNewtonParams" title='gaussNewtonParams' data-ref="131gaussNewtonParams">gaussNewtonParams</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2GaussNewtonParams::wildfireThreshold" title='gtsam::ISAM2GaussNewtonParams::wildfireThreshold' data-ref="gtsam::ISAM2GaussNewtonParams::wildfireThreshold">wildfireThreshold</a>;</td></tr>
<tr><th id="733">733</th><td>    <a class="macro" href="../base/timing.h.html#325" title="static const size_t Wildfire_update_id_tic = ::gtsam::internal::getTicTocID(&quot;Wildfire_update&quot;); ::gtsam::internal::AutoTicToc Wildfire_update_obj(Wildfire_update_id_tic, &quot;Wildfire_update&quot;)" data-ref="_M/gttic">gttic</a>(Wildfire_update);</td></tr>
<tr><th id="734">734</th><td>    <a class="type" href="ISAM2-impl.h.html#gtsam::DeltaImpl" title='gtsam::DeltaImpl' data-ref="gtsam::DeltaImpl">DeltaImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam9DeltaImpl22UpdateGaussNewtonDeltaERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEdPNS_12VectorValuesE" title='gtsam::DeltaImpl::UpdateGaussNewtonDelta' data-ref="_ZN5gtsam9DeltaImpl22UpdateGaussNewtonDeltaERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEdPNS_12VectorValuesE">UpdateGaussNewtonDelta</a>(<span class='inlayHint'>roots:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='r' data-ref="gtsam::BayesTree::roots_">roots_</a>, <span class='inlayHint'>replacedKeys:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>,</td></tr>
<tr><th id="735">735</th><td>                                      <span class='inlayHint'>wildfireThreshold:&nbsp;</span><a class="local col2 ref" href="#132effectiveWildfireThreshold" title='effectiveWildfireThreshold' data-ref="132effectiveWildfireThreshold">effectiveWildfireThreshold</a>, <span class='inlayHint'>delta:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>);</td></tr>
<tr><th id="736">736</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5clearEv" title='std::set::clear' data-ref="_ZNSt3set5clearEv">clear</a>();</td></tr>
<tr><th id="737">737</th><td>    <a class="macro" href="../base/timing.h.html#326" title="Wildfire_update_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Wildfire_update);</td></tr>
<tr><th id="738">738</th><td></td></tr>
<tr><th id="739">739</th><td>  } <b>else</b> <b>if</b> (<span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt17holds_alternativeRKSt7variantIJDpT0_EE" title='std::holds_alternative' data-ref="_ZSt17holds_alternativeRKSt7variantIJDpT0_EE">holds_alternative</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>)) {</td></tr>
<tr><th id="740">740</th><td>    <i>// If using Dogleg, do a Dogleg step</i></td></tr>
<tr><th id="741">741</th><td>    <em>const</em> <a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&amp; <dfn class="local col3 decl" id="133doglegParams" title='doglegParams' data-type='const ISAM2DoglegParams &amp;' data-ref="133doglegParams">doglegParams</dfn> =</td></tr>
<tr><th id="742">742</th><td>        <span class="namespace">std::</span><a class="ref fn" href="../../../include/c++/13/variant.html#_ZSt3getRKSt7variantIJDpT0_EE" title='std::get' data-ref="_ZSt3getRKSt7variantIJDpT0_EE">get</a>&lt;<a class="type" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams" title='gtsam::ISAM2DoglegParams' data-ref="gtsam::ISAM2DoglegParams">ISAM2DoglegParams</a>&gt;(<span class='inlayHint'>v:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2Params::optimizationParams" title='gtsam::ISAM2Params::optimizationParams' data-ref="gtsam::ISAM2Params::optimizationParams">optimizationParams</a>);</td></tr>
<tr><th id="743">743</th><td>    <em>const</em> <em>double</em> <dfn class="local col4 decl" id="134effectiveWildfireThreshold" title='effectiveWildfireThreshold' data-type='const double' data-ref="134effectiveWildfireThreshold">effectiveWildfireThreshold</dfn> =</td></tr>
<tr><th id="744">744</th><td>        <a class="local col0 ref" href="#130forceFullSolve" title='forceFullSolve' data-ref="130forceFullSolve">forceFullSolve</a> ? <var>0.0</var> : <a class="local col3 ref" href="#133doglegParams" title='doglegParams' data-ref="133doglegParams">doglegParams</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams::wildfireThreshold" title='gtsam::ISAM2DoglegParams::wildfireThreshold' data-ref="gtsam::ISAM2DoglegParams::wildfireThreshold">wildfireThreshold</a>;</td></tr>
<tr><th id="745">745</th><td></td></tr>
<tr><th id="746">746</th><td>    <i>// Do one Dogleg iteration</i></td></tr>
<tr><th id="747">747</th><td>    <a class="macro" href="../base/timing.h.html#325" title="static const size_t Dogleg_Iterate_id_tic = ::gtsam::internal::getTicTocID(&quot;Dogleg_Iterate&quot;); ::gtsam::internal::AutoTicToc Dogleg_Iterate_obj(Dogleg_Iterate_id_tic, &quot;Dogleg_Iterate&quot;)" data-ref="_M/gttic">gttic</a>(Dogleg_Iterate);</td></tr>
<tr><th id="748">748</th><td></td></tr>
<tr><th id="749">749</th><td>    <i>// Compute Newton's method step</i></td></tr>
<tr><th id="750">750</th><td>    <a class="macro" href="../base/timing.h.html#325" title="static const size_t Wildfire_update_id_tic = ::gtsam::internal::getTicTocID(&quot;Wildfire_update&quot;); ::gtsam::internal::AutoTicToc Wildfire_update_obj(Wildfire_update_id_tic, &quot;Wildfire_update&quot;)" data-ref="_M/gttic">gttic</a>(Wildfire_update);</td></tr>
<tr><th id="751">751</th><td>    <a class="type" href="ISAM2-impl.h.html#gtsam::DeltaImpl" title='gtsam::DeltaImpl' data-ref="gtsam::DeltaImpl">DeltaImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam9DeltaImpl22UpdateGaussNewtonDeltaERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEdPNS_12VectorValuesE" title='gtsam::DeltaImpl::UpdateGaussNewtonDelta' data-ref="_ZN5gtsam9DeltaImpl22UpdateGaussNewtonDeltaERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEEdPNS_12VectorValuesE">UpdateGaussNewtonDelta</a>(</td></tr>
<tr><th id="752">752</th><td>        <span class='inlayHint'>roots:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='r' data-ref="gtsam::BayesTree::roots_">roots_</a>, <span class='inlayHint'>replacedKeys:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>, <span class='inlayHint'>wildfireThreshold:&nbsp;</span><a class="local col4 ref" href="#134effectiveWildfireThreshold" title='effectiveWildfireThreshold' data-ref="134effectiveWildfireThreshold">effectiveWildfireThreshold</a>, <span class='inlayHint'>delta:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaNewton_" title='gtsam::ISAM2::deltaNewton_' data-ref="gtsam::ISAM2::deltaNewton_">deltaNewton_</a>);</td></tr>
<tr><th id="753">753</th><td>    <a class="macro" href="../base/timing.h.html#326" title="Wildfire_update_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Wildfire_update);</td></tr>
<tr><th id="754">754</th><td></td></tr>
<tr><th id="755">755</th><td>    <i>// Compute steepest descent step</i></td></tr>
<tr><th id="756">756</th><td>    <em>const</em> <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a> <dfn class="local col5 decl" id="135gradAtZero" title='gradAtZero' data-type='const VectorValues' data-ref="135gradAtZero">gradAtZero</dfn> = <b>this</b>-&gt;<a class="member fn" href="#_ZNK5gtsam5ISAM214gradientAtZeroEv" title='gtsam::ISAM2::gradientAtZero' data-ref="_ZNK5gtsam5ISAM214gradientAtZeroEv">gradientAtZero</a>();  <i>// Compute gradient</i></td></tr>
<tr><th id="757">757</th><td>    <a class="type" href="ISAM2-impl.h.html#gtsam::DeltaImpl" title='gtsam::DeltaImpl' data-ref="gtsam::DeltaImpl">DeltaImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam9DeltaImpl12UpdateRgProdERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEERKNS_12VectorValuesEPSD_" title='gtsam::DeltaImpl::UpdateRgProd' data-ref="_ZN5gtsam9DeltaImpl12UpdateRgProdERKSt6vectorISt10shared_ptrINS_11ISAM2CliqueEESaIS4_EERKNS_7FastSetImEERKNS_12VectorValuesEPSD_">UpdateRgProd</a>(<span class='inlayHint'>roots:&nbsp;</span><a class="tu member field" href="../inference/BayesTree.h.html#gtsam::BayesTree::roots_" title='gtsam::BayesTree&lt;gtsam::ISAM2Clique&gt;::roots_' data-use='r' data-ref="gtsam::BayesTree::roots_">roots_</a>, <span class='inlayHint'>replacedKeys:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>, <a class="local col5 ref" href="#135gradAtZero" title='gradAtZero' data-ref="135gradAtZero">gradAtZero</a>,</td></tr>
<tr><th id="758">758</th><td>                            <span class='inlayHint'>RgProd:&nbsp;</span>&amp;<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::RgProd_" title='gtsam::ISAM2::RgProd_' data-ref="gtsam::ISAM2::RgProd_">RgProd_</a>);  <i>// Update RgProd</i></td></tr>
<tr><th id="759">759</th><td>    <em>const</em> <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a> <dfn class="local col6 decl" id="136dx_u" title='dx_u' data-type='const VectorValues' data-ref="136dx_u">dx_u</dfn> = <a class="type" href="ISAM2-impl.h.html#gtsam::DeltaImpl" title='gtsam::DeltaImpl' data-ref="gtsam::DeltaImpl">DeltaImpl</a>::<a class="ref fn" href="ISAM2-impl.h.html#_ZN5gtsam9DeltaImpl21ComputeGradientSearchERKNS_12VectorValuesES3_" title='gtsam::DeltaImpl::ComputeGradientSearch' data-ref="_ZN5gtsam9DeltaImpl21ComputeGradientSearchERKNS_12VectorValuesES3_">ComputeGradientSearch</a>(</td></tr>
<tr><th id="760">760</th><td>        <a class="local col5 ref" href="#135gradAtZero" title='gradAtZero' data-ref="135gradAtZero">gradAtZero</a>, <span class='inlayHint'>RgProd:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::RgProd_" title='gtsam::ISAM2::RgProd_' data-ref="gtsam::ISAM2::RgProd_">RgProd_</a>);  <i>// Compute gradient search point</i></td></tr>
<tr><th id="761">761</th><td></td></tr>
<tr><th id="762">762</th><td>    <i>// Clear replaced keys mask because now we've updated deltaNewton_ and</i></td></tr>
<tr><th id="763">763</th><td><i>    // RgProd_</i></td></tr>
<tr><th id="764">764</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNSt3set5clearEv" title='std::set::clear' data-ref="_ZNSt3set5clearEv">clear</a>();</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>    <i>// Compute dogleg point</i></td></tr>
<tr><th id="767">767</th><td>    <a class="type" href="DoglegOptimizerImpl.h.html#gtsam::DoglegOptimizerImpl" title='gtsam::DoglegOptimizerImpl' data-ref="gtsam::DoglegOptimizerImpl">DoglegOptimizerImpl</a>::<a class="type" href="DoglegOptimizerImpl.h.html#gtsam::DoglegOptimizerImpl::IterationResult" title='gtsam::DoglegOptimizerImpl::IterationResult' data-ref="gtsam::DoglegOptimizerImpl::IterationResult">IterationResult</a> <dfn class="local col7 decl" id="137doglegResult" title='doglegResult' data-type='DoglegOptimizerImpl::IterationResult' data-ref="137doglegResult">doglegResult</dfn>(</td></tr>
<tr><th id="768">768</th><td>        <a class="type" href="DoglegOptimizerImpl.h.html#gtsam::DoglegOptimizerImpl" title='gtsam::DoglegOptimizerImpl' data-ref="gtsam::DoglegOptimizerImpl">DoglegOptimizerImpl</a>::<a class="ref fn" href="DoglegOptimizerImpl.h.html#_ZN5gtsam19DoglegOptimizerImpl7IterateEdNS0_25TrustRegionAdaptationModeERKNS_12VectorValuesES4_RKT_RKT0_RKT1_db" title='gtsam::DoglegOptimizerImpl::Iterate' data-ref="_ZN5gtsam19DoglegOptimizerImpl7IterateEdNS0_25TrustRegionAdaptationModeERKNS_12VectorValuesES4_RKT_RKT0_RKT1_db">Iterate</a>(</td></tr>
<tr><th id="769">769</th><td>            <span class='inlayHint'>delta:&nbsp;</span><a class="ref fn" href="../../../include/c++/13/optional.html#_ZNRSt8optionaldeEv" title='std::optional::operator*' data-ref="_ZNRSt8optionaldeEv">*</a><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::doglegDelta_" title='gtsam::ISAM2::doglegDelta_' data-ref="gtsam::ISAM2::doglegDelta_">doglegDelta_</a>, <span class='inlayHint'>mode:&nbsp;</span><a class="local col3 ref" href="#133doglegParams" title='doglegParams' data-ref="133doglegParams">doglegParams</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams::adaptationMode" title='gtsam::ISAM2DoglegParams::adaptationMode' data-ref="gtsam::ISAM2DoglegParams::adaptationMode">adaptationMode</a>, <a class="local col6 ref" href="#136dx_u" title='dx_u' data-ref="136dx_u">dx_u</a>, <span class='inlayHint'>dx_n:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaNewton_" title='gtsam::ISAM2::deltaNewton_' data-ref="gtsam::ISAM2::deltaNewton_">deltaNewton_</a>,</td></tr>
<tr><th id="770">770</th><td>            <span class='inlayHint'>Rd:&nbsp;</span>*<b>this</b>, <span class='inlayHint'>f:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>, <span class='inlayHint'>x0:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>, <span class='inlayHint'>f_error:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::nonlinearFactors_" title='gtsam::ISAM2::nonlinearFactors_' data-ref="gtsam::ISAM2::nonlinearFactors_">nonlinearFactors_</a>.<a class="ref fn" href="NonlinearFactorGraph.h.html#_ZNK5gtsam20NonlinearFactorGraph5errorERKNS_6ValuesE" title='gtsam::NonlinearFactorGraph::error' data-ref="_ZNK5gtsam20NonlinearFactorGraph5errorERKNS_6ValuesE">error</a>(<span class='inlayHint'>values:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>),</td></tr>
<tr><th id="771">771</th><td>            <span class='inlayHint'>verbose:&nbsp;</span><a class="local col3 ref" href="#133doglegParams" title='doglegParams' data-ref="133doglegParams">doglegParams</a>.<a class="ref field" href="ISAM2Params.h.html#gtsam::ISAM2DoglegParams::verbose" title='gtsam::ISAM2DoglegParams::verbose' data-ref="gtsam::ISAM2DoglegParams::verbose">verbose</a>));</td></tr>
<tr><th id="772">772</th><td>    <a class="macro" href="../base/timing.h.html#326" title="Dogleg_Iterate_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Dogleg_Iterate);</td></tr>
<tr><th id="773">773</th><td></td></tr>
<tr><th id="774">774</th><td>    <a class="macro" href="../base/timing.h.html#325" title="static const size_t Copy_dx_d_id_tic = ::gtsam::internal::getTicTocID(&quot;Copy_dx_d&quot;); ::gtsam::internal::AutoTicToc Copy_dx_d_obj(Copy_dx_d_id_tic, &quot;Copy_dx_d&quot;)" data-ref="_M/gttic">gttic</a>(Copy_dx_d);</td></tr>
<tr><th id="775">775</th><td>    <i>// Update Delta and linear step</i></td></tr>
<tr><th id="776">776</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::doglegDelta_" title='gtsam::ISAM2::doglegDelta_' data-ref="gtsam::ISAM2::doglegDelta_">doglegDelta_</a> <a class="ref fn" href="../../../include/c++/13/optional.html#707" title='std::optional&lt;double&gt;::operator=' data-ref="_ZNSt8optionalIdEaSEOS0_">=</a> <a class="ref fn fake" href="../../../include/c++/13/optional.html#_ZNSt8optionalC1EOTL0__" title='std::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt8optionalC1EOTL0__"></a><a class="local col7 ref" href="#137doglegResult" title='doglegResult' data-ref="137doglegResult">doglegResult</a>.<a class="ref field" href="DoglegOptimizerImpl.h.html#gtsam::DoglegOptimizerImpl::IterationResult::delta" title='gtsam::DoglegOptimizerImpl::IterationResult::delta' data-ref="gtsam::DoglegOptimizerImpl::IterationResult::delta">delta</a>;</td></tr>
<tr><th id="777">777</th><td>    <i>// Copy the VectorValues containing with the linear solution</i></td></tr>
<tr><th id="778">778</th><td>    <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a> <a class="ref fn" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValuesaSERKS0_" title='gtsam::VectorValues::operator=' data-ref="_ZN5gtsam12VectorValuesaSERKS0_">=</a> <a class="local col7 ref" href="#137doglegResult" title='doglegResult' data-ref="137doglegResult">doglegResult</a>.<a class="ref field" href="DoglegOptimizerImpl.h.html#gtsam::DoglegOptimizerImpl::IterationResult::dx_d" title='gtsam::DoglegOptimizerImpl::IterationResult::dx_d' data-ref="gtsam::DoglegOptimizerImpl::IterationResult::dx_d">dx_d</a>;</td></tr>
<tr><th id="779">779</th><td>    <a class="macro" href="../base/timing.h.html#326" title="Copy_dx_d_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Copy_dx_d);</td></tr>
<tr><th id="780">780</th><td>  } <b>else</b> {</td></tr>
<tr><th id="781">781</th><td>    <b>throw</b> <span class="namespace">std::</span><a class="type" href="../../../include/c++/13/stdexcept.html#std::runtime_error" title='std::runtime_error' data-ref="std::runtime_error">runtime_error</a><a class="ref fn" href="../../../include/c++/13/stdexcept.html#_ZNSt13runtime_errorC1EPKc" title='std::runtime_error::runtime_error' data-ref="_ZNSt13runtime_errorC1EPKc">(</a><q>"iSAM2: unknown ISAM2Params type"</q>);</td></tr>
<tr><th id="782">782</th><td>  }</td></tr>
<tr><th id="783">783</th><td>}</td></tr>
<tr><th id="784">784</th><td></td></tr>
<tr><th id="785">785</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="786">786</th><td><a class="type" href="Values.h.html#gtsam::Values" title='gtsam::Values' data-ref="gtsam::Values">Values</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM217calculateEstimateEv" title='gtsam::ISAM2::calculateEstimate' data-ref="_ZNK5gtsam5ISAM217calculateEstimateEv">calculateEstimate</dfn>() <em>const</em> {</td></tr>
<tr><th id="787">787</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t ISAM2_calculateEstimate_id_tic = ::gtsam::internal::getTicTocID(&quot;ISAM2_calculateEstimate&quot;); ::gtsam::internal::AutoTicToc ISAM2_calculateEstimate_obj(ISAM2_calculateEstimate_id_tic, &quot;ISAM2_calculateEstimate&quot;)" data-ref="_M/gttic">gttic</a>(ISAM2_calculateEstimate);</td></tr>
<tr><th id="788">788</th><td>  <em>const</em> <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a>&amp; <dfn class="local col8 decl" id="138delta" title='delta' data-type='const VectorValues &amp;' data-ref="138delta">delta</dfn>(<a class="member fn" href="#_ZNK5gtsam5ISAM28getDeltaEv" title='gtsam::ISAM2::getDelta' data-ref="_ZNK5gtsam5ISAM28getDeltaEv">getDelta</a>());</td></tr>
<tr><th id="789">789</th><td>  <a class="macro" href="../base/timing.h.html#325" title="static const size_t Expmap_id_tic = ::gtsam::internal::getTicTocID(&quot;Expmap&quot;); ::gtsam::internal::AutoTicToc Expmap_obj(Expmap_id_tic, &quot;Expmap&quot;)" data-ref="_M/gttic">gttic</a>(Expmap);</td></tr>
<tr><th id="790">790</th><td>  <b>return</b> <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values7retractERKNS_12VectorValuesE" title='gtsam::Values::retract' data-ref="_ZNK5gtsam6Values7retractERKNS_12VectorValuesE">retract</a>(<a class="local col8 ref" href="#138delta" title='delta' data-ref="138delta">delta</a>);</td></tr>
<tr><th id="791">791</th><td>  <a class="macro" href="../base/timing.h.html#326" title="Expmap_obj.stop()" data-ref="_M/gttoc">gttoc</a>(Expmap);</td></tr>
<tr><th id="792">792</th><td>}</td></tr>
<tr><th id="793">793</th><td></td></tr>
<tr><th id="794">794</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="795">795</th><td><em>const</em> <a class="type" href="../base/Value.h.html#gtsam::Value" title='gtsam::Value' data-ref="gtsam::Value">Value</a>&amp; <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM217calculateEstimateEm" title='gtsam::ISAM2::calculateEstimate' data-ref="_ZNK5gtsam5ISAM217calculateEstimateEm">calculateEstimate</dfn>(<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col9 decl" id="139key" title='key' data-type='Key' data-ref="139key">key</dfn>) <em>const</em> {</td></tr>
<tr><th id="796">796</th><td>  <em>const</em> <a class="typedef" href="../base/Vector.h.html#gtsam::Vector" title='gtsam::Vector' data-type='Eigen::VectorXd' data-ref="gtsam::Vector">Vector</a>&amp; <dfn class="local col0 decl" id="140delta" title='delta' data-type='const Vector &amp;' data-ref="140delta">delta</dfn> = <a class="member fn" href="#_ZNK5gtsam5ISAM28getDeltaEv" title='gtsam::ISAM2::getDelta' data-ref="_ZNK5gtsam5ISAM28getDeltaEv">getDelta</a>()<a class="ref fn" href="../linear/VectorValues.h.html#_ZNK5gtsam12VectorValuesixEm" title='gtsam::VectorValues::operator[]' data-ref="_ZNK5gtsam12VectorValuesixEm">[<a class="local col9 ref" href="#139key" title='key' data-ref="139key">key</a>]</a>;</td></tr>
<tr><th id="797">797</th><td>  <b>return</b> *<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values2atEm" title='gtsam::Values::at' data-ref="_ZNK5gtsam6Values2atEm">at</a>(<span class='inlayHint'>j:&nbsp;</span><a class="local col9 ref" href="#139key" title='key' data-ref="139key">key</a>).<a class="virtual ref fn" href="../base/Value.h.html#_ZNK5gtsam5Value8retract_ERKN5Eigen6MatrixIdLin1ELi1ELi0ELin1ELi1EEE" title='gtsam::Value::retract_' data-ref="_ZNK5gtsam5Value8retract_ERKN5Eigen6MatrixIdLin1ELi1ELi0ELin1ELi1EEE">retract_</a>(<a class="local col0 ref" href="#140delta" title='delta' data-ref="140delta">delta</a>);</td></tr>
<tr><th id="798">798</th><td>}</td></tr>
<tr><th id="799">799</th><td></td></tr>
<tr><th id="800">800</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="801">801</th><td><a class="type" href="Values.h.html#gtsam::Values" title='gtsam::Values' data-ref="gtsam::Values">Values</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM221calculateBestEstimateEv" title='gtsam::ISAM2::calculateBestEstimate' data-ref="_ZNK5gtsam5ISAM221calculateBestEstimateEv">calculateBestEstimate</dfn>() <em>const</em> {</td></tr>
<tr><th id="802">802</th><td>  <a class="member fn" href="#_ZNK5gtsam5ISAM211updateDeltaEb" title='gtsam::ISAM2::updateDelta' data-ref="_ZNK5gtsam5ISAM211updateDeltaEb">updateDelta</a>(<span class='inlayHint'>forceFullSolve:&nbsp;</span><b>true</b>);  <i>// Force full solve when updating delta_</i></td></tr>
<tr><th id="803">803</th><td>  <b>return</b> <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::theta_" title='gtsam::ISAM2::theta_' data-ref="gtsam::ISAM2::theta_">theta_</a>.<a class="ref fn" href="Values.h.html#_ZNK5gtsam6Values7retractERKNS_12VectorValuesE" title='gtsam::Values::retract' data-ref="_ZNK5gtsam6Values7retractERKNS_12VectorValuesE">retract</a>(<span class='inlayHint'>delta:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>);</td></tr>
<tr><th id="804">804</th><td>}</td></tr>
<tr><th id="805">805</th><td></td></tr>
<tr><th id="806">806</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="807">807</th><td><a class="typedef" href="../base/Matrix.h.html#gtsam::Matrix" title='gtsam::Matrix' data-type='Eigen::MatrixXd' data-ref="gtsam::Matrix">Matrix</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM218marginalCovarianceEm" title='gtsam::ISAM2::marginalCovariance' data-ref="_ZNK5gtsam5ISAM218marginalCovarianceEm">marginalCovariance</dfn>(<a class="typedef" href="../base/types.h.html#gtsam::Key" title='gtsam::Key' data-type='std::uint64_t' data-ref="gtsam::Key">Key</a> <dfn class="local col1 decl" id="141key" title='key' data-type='Key' data-ref="141key">key</dfn>) <em>const</em> {</td></tr>
<tr><th id="808">808</th><td>  <b>return</b> <a class="ref fn fake" href="../3rdparty/Eigen/Eigen/src/Core/Matrix.h.html#_ZN5Eigen6MatrixC1ERKNS_9EigenBaseITL0__EE" title='Eigen::Matrix::Matrix&lt;_Scalar, _Rows, _Cols, _Options, _MaxRows, _MaxCols&gt;' data-ref="_ZN5Eigen6MatrixC1ERKNS_9EigenBaseITL0__EE"></a><a class="tu member fn" href="../inference/BayesTree-inst.h.html#_ZNK5gtsam9BayesTree14marginalFactorEmRKNT_15FactorGraphType9EliminateE" title='gtsam::BayesTree::marginalFactor' data-use='c' data-ref="_ZNK5gtsam9BayesTree14marginalFactorEmRKNT_15FactorGraphType9EliminateE">marginalFactor</a>(<span class='inlayHint'>j:&nbsp;</span><a class="local col1 ref" href="#141key" title='key' data-ref="141key">key</a>, <span class='inlayHint'>function:&nbsp;</span><a class="member field" href="ISAM2.h.html#gtsam::ISAM2::params_" title='gtsam::ISAM2::params_' data-ref="gtsam::ISAM2::params_">params_</a>.<a class="ref fn" href="ISAM2Params.h.html#_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv" title='gtsam::ISAM2Params::getEliminationFunction' data-ref="_ZNK5gtsam11ISAM2Params22getEliminationFunctionEv">getEliminationFunction</a>())</td></tr>
<tr><th id="809">809</th><td>      <a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="virtual ref fn" href="../linear/JacobianFactor.h.html#_ZNK5gtsam14JacobianFactor11informationEv" title='gtsam::JacobianFactor::information' data-ref="_ZNK5gtsam14JacobianFactor11informationEv">information</a>()</td></tr>
<tr><th id="810">810</th><td>      .<a class="ref fn" href="../3rdparty/Eigen/Eigen/src/LU/InverseImpl.h.html#_ZNK5Eigen10MatrixBase7inverseEv" title='Eigen::MatrixBase::inverse' data-ref="_ZNK5Eigen10MatrixBase7inverseEv">inverse</a>();</td></tr>
<tr><th id="811">811</th><td>}</td></tr>
<tr><th id="812">812</th><td></td></tr>
<tr><th id="813">813</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="814">814</th><td><em>const</em> <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a>&amp; <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM28getDeltaEv" title='gtsam::ISAM2::getDelta' data-ref="_ZNK5gtsam5ISAM28getDeltaEv">getDelta</dfn>() <em>const</em> {</td></tr>
<tr><th id="815">815</th><td>  <b>if</b> (!<a class="member field" href="ISAM2.h.html#gtsam::ISAM2::deltaReplacedMask_" title='gtsam::ISAM2::deltaReplacedMask_' data-ref="gtsam::ISAM2::deltaReplacedMask_">deltaReplacedMask_</a>.<a class="ref fn" href="../../../include/c++/13/bits/stl_set.h.html#_ZNKSt3set5emptyEv" title='std::set::empty' data-ref="_ZNKSt3set5emptyEv">empty</a>()) <a class="member fn" href="#_ZNK5gtsam5ISAM211updateDeltaEb" title='gtsam::ISAM2::updateDelta' data-ref="_ZNK5gtsam5ISAM211updateDeltaEb">updateDelta</a>();</td></tr>
<tr><th id="816">816</th><td>  <b>return</b> <a class="member field" href="ISAM2.h.html#gtsam::ISAM2::delta_" title='gtsam::ISAM2::delta_' data-ref="gtsam::ISAM2::delta_">delta_</a>;</td></tr>
<tr><th id="817">817</th><td>}</td></tr>
<tr><th id="818">818</th><td></td></tr>
<tr><th id="819">819</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="820">820</th><td><em>double</em> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM25errorERKNS_12VectorValuesE" title='gtsam::ISAM2::error' data-ref="_ZNK5gtsam5ISAM25errorERKNS_12VectorValuesE">error</dfn>(<em>const</em> <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a>&amp; <dfn class="local col2 decl" id="142x" title='x' data-type='const VectorValues &amp;' data-ref="142x">x</dfn>) <em>const</em> {</td></tr>
<tr><th id="821">821</th><td>  <b>return</b> <a class="type" href="../linear/GaussianFactorGraph.h.html#gtsam::GaussianFactorGraph" title='gtsam::GaussianFactorGraph' data-ref="gtsam::GaussianFactorGraph">GaussianFactorGraph</a><a class="ref fn" href="../linear/GaussianFactorGraph.h.html#_ZN5gtsam19GaussianFactorGraphC1ERKT_" title='gtsam::GaussianFactorGraph::GaussianFactorGraph' data-ref="_ZN5gtsam19GaussianFactorGraphC1ERKT_">(</a>*<b>this</b>).<a class="ref fn" href="../linear/GaussianFactorGraph.h.html#_ZNK5gtsam19GaussianFactorGraph5errorERKNS_12VectorValuesE" title='gtsam::GaussianFactorGraph::error' data-ref="_ZNK5gtsam19GaussianFactorGraph5errorERKNS_12VectorValuesE">error</a>(<a class="local col2 ref" href="#142x" title='x' data-ref="142x">x</a>);</td></tr>
<tr><th id="822">822</th><td>}</td></tr>
<tr><th id="823">823</th><td></td></tr>
<tr><th id="824">824</th><td><i>/* ************************************************************************* */</i></td></tr>
<tr><th id="825">825</th><td><a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a> <a class="type" href="ISAM2.h.html#gtsam::ISAM2" title='gtsam::ISAM2' data-ref="gtsam::ISAM2">ISAM2</a>::<dfn class="decl def fn" id="_ZNK5gtsam5ISAM214gradientAtZeroEv" title='gtsam::ISAM2::gradientAtZero' data-ref="_ZNK5gtsam5ISAM214gradientAtZeroEv">gradientAtZero</dfn>() <em>const</em> {</td></tr>
<tr><th id="826">826</th><td>  <i>// Create result</i></td></tr>
<tr><th id="827">827</th><td>  <a class="type" href="../linear/VectorValues.h.html#gtsam::VectorValues" title='gtsam::VectorValues' data-ref="gtsam::VectorValues">VectorValues</a> <a class="ref fn fake" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValuesC1Ev" title='gtsam::VectorValues::VectorValues' data-ref="_ZN5gtsam12VectorValuesC1Ev"></a><dfn class="local col3 decl" id="143g" title='g' data-type='VectorValues' data-ref="143g">g</dfn>;</td></tr>
<tr><th id="828">828</th><td></td></tr>
<tr><th id="829">829</th><td>  <i>// Sum up contributions for each clique</i></td></tr>
<tr><th id="830">830</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col4 decl" id="144root" title='root' data-type='std::shared_ptr&lt;gtsam::ISAM2Clique&gt; const &amp;' data-ref="144root">root</dfn> : <b>this</b>-&gt;<a class="tu member fn" href="../inference/BayesTree.h.html#_ZNK5gtsam9BayesTree5rootsEv" title='gtsam::BayesTree::roots' data-use='c' data-ref="_ZNK5gtsam9BayesTree5rootsEv">roots</a>()) <a class="local col4 ref" href="#144root" title='root' data-ref="144root">root</a><a class="ref fn" href="../../../include/c++/13/bits/shared_ptr_base.h.html#_ZNKSt19__shared_ptr_accessptEv" title='std::__shared_ptr_access::operator-&gt;' data-ref="_ZNKSt19__shared_ptr_accessptEv">-&gt;</a><a class="ref fn" href="ISAM2Clique.h.html#_ZNK5gtsam11ISAM2Clique17addGradientAtZeroEPNS_12VectorValuesE" title='gtsam::ISAM2Clique::addGradientAtZero' data-ref="_ZNK5gtsam11ISAM2Clique17addGradientAtZeroEPNS_12VectorValuesE">addGradientAtZero</a>(<span class='inlayHint'>g:&nbsp;</span>&amp;<a class="local col3 ref" href="#143g" title='g' data-ref="143g">g</a>);</td></tr>
<tr><th id="831">831</th><td></td></tr>
<tr><th id="832">832</th><td>  <b>return</b> <a class="ref fn fake" href="../linear/VectorValues.h.html#_ZN5gtsam12VectorValuesC1ERKS0_" title='gtsam::VectorValues::VectorValues' data-ref="_ZN5gtsam12VectorValuesC1ERKS0_"></a><a class="local col3 ref" href="#143g" title='g' data-ref="143g">g</a>;</td></tr>
<tr><th id="833">833</th><td>}</td></tr>
<tr><th id="834">834</th><td></td></tr>
<tr><th id="835">835</th><td>}  <i>// namespace gtsam</i></td></tr>
<tr><th id="836">836</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2025-Nov-28</em> from project codebrowser revision <em>4.2.0-ros-3988-g645c5741e</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
