<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>optflowgf.cpp source code [opencv/modules/video/src/optflowgf.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'opencv/modules/video/src/optflowgf.cpp'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>opencv</a>/<a href='../..'>modules</a>/<a href='..'>video</a>/<a href='./'>src</a>/<a href='optflowgf.cpp.html'>optflowgf.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*M///////////////////////////////////////////////////////////////////////////////////////</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>//  IMPORTANT: READ BEFORE DOWNLOADING, COPYING, INSTALLING OR USING.</i></td></tr>
<tr><th id="4">4</th><td><i>//</i></td></tr>
<tr><th id="5">5</th><td><i>//  By downloading, copying, installing or using the software you agree to this license.</i></td></tr>
<tr><th id="6">6</th><td><i>//  If you do not agree to this license, do not download, install,</i></td></tr>
<tr><th id="7">7</th><td><i>//  copy or use the software.</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>//</i></td></tr>
<tr><th id="10">10</th><td><i>//                           License Agreement</i></td></tr>
<tr><th id="11">11</th><td><i>//                For Open Source Computer Vision Library</i></td></tr>
<tr><th id="12">12</th><td><i>//</i></td></tr>
<tr><th id="13">13</th><td><i>// Copyright (C) 2000-2008, Intel Corporation, all rights reserved.</i></td></tr>
<tr><th id="14">14</th><td><i>// Copyright (C) 2009, Willow Garage Inc., all rights reserved.</i></td></tr>
<tr><th id="15">15</th><td><i>// Third party copyrights are property of their respective owners.</i></td></tr>
<tr><th id="16">16</th><td><i>//</i></td></tr>
<tr><th id="17">17</th><td><i>// Redistribution and use in source and binary forms, with or without modification,</i></td></tr>
<tr><th id="18">18</th><td><i>// are permitted provided that the following conditions are met:</i></td></tr>
<tr><th id="19">19</th><td><i>//</i></td></tr>
<tr><th id="20">20</th><td><i>//   * Redistribution's of source code must retain the above copyright notice,</i></td></tr>
<tr><th id="21">21</th><td><i>//     this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="22">22</th><td><i>//</i></td></tr>
<tr><th id="23">23</th><td><i>//   * Redistribution's in binary form must reproduce the above copyright notice,</i></td></tr>
<tr><th id="24">24</th><td><i>//     this list of conditions and the following disclaimer in the documentation</i></td></tr>
<tr><th id="25">25</th><td><i>//     and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="26">26</th><td><i>//</i></td></tr>
<tr><th id="27">27</th><td><i>//   * The name of the copyright holders may not be used to endorse or promote products</i></td></tr>
<tr><th id="28">28</th><td><i>//     derived from this software without specific prior written permission.</i></td></tr>
<tr><th id="29">29</th><td><i>//</i></td></tr>
<tr><th id="30">30</th><td><i>// This software is provided by the copyright holders and contributors "as is" and</i></td></tr>
<tr><th id="31">31</th><td><i>// any express or implied warranties, including, but not limited to, the implied</i></td></tr>
<tr><th id="32">32</th><td><i>// warranties of merchantability and fitness for a particular purpose are disclaimed.</i></td></tr>
<tr><th id="33">33</th><td><i>// In no event shall the Intel Corporation or contributors be liable for any direct,</i></td></tr>
<tr><th id="34">34</th><td><i>// indirect, incidental, special, exemplary, or consequential damages</i></td></tr>
<tr><th id="35">35</th><td><i>// (including, but not limited to, procurement of substitute goods or services;</i></td></tr>
<tr><th id="36">36</th><td><i>// loss of use, data, or profits; or business interruption) however caused</i></td></tr>
<tr><th id="37">37</th><td><i>// and on any theory of liability, whether in contract, strict liability,</i></td></tr>
<tr><th id="38">38</th><td><i>// or tort (including negligence or otherwise) arising in any way out of</i></td></tr>
<tr><th id="39">39</th><td><i>// the use of this software, even if advised of the possibility of such damage.</i></td></tr>
<tr><th id="40">40</th><td><i>//</i></td></tr>
<tr><th id="41">41</th><td><i>//M*/</i></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="precomp.hpp.html">"precomp.hpp"</a></u></td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><i>//</i></td></tr>
<tr><th id="46">46</th><td><i>// 2D dense optical flow algorithm from the following paper:</i></td></tr>
<tr><th id="47">47</th><td><i>// Gunnar Farneback. "Two-Frame Motion Estimation Based on Polynomial Expansion".</i></td></tr>
<tr><th id="48">48</th><td><i>// Proceedings of the 13th Scandinavian Conference on Image Analysis, Gothenburg, Sweden</i></td></tr>
<tr><th id="49">49</th><td><i>//</i></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><b>namespace</b> <span class="namespace">cv</span></td></tr>
<tr><th id="52">52</th><td>{</td></tr>
<tr><th id="53">53</th><td></td></tr>
<tr><th id="54">54</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="55">55</th><td><dfn class="tu decl def" id="_ZN2cvL16FarnebackPolyExpERKNS_3MatERS0_id" title='cv::FarnebackPolyExp' data-type='void cv::FarnebackPolyExp(const cv::Mat &amp; src, cv::Mat &amp; dst, int n, double sigma)' data-ref="_ZN2cvL16FarnebackPolyExpERKNS_3MatERS0_id">FarnebackPolyExp</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col1 decl" id="1src" title='src' data-type='const cv::Mat &amp;' data-ref="1src">src</dfn>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col2 decl" id="2dst" title='dst' data-type='cv::Mat &amp;' data-ref="2dst">dst</dfn>, <em>int</em> <dfn class="local col3 decl" id="3n" title='n' data-type='int' data-ref="3n">n</dfn>, <em>double</em> <dfn class="local col4 decl" id="4sigma" title='sigma' data-type='double' data-ref="4sigma">sigma</dfn> )</td></tr>
<tr><th id="56">56</th><td>{</td></tr>
<tr><th id="57">57</th><td>    <em>int</em> <dfn class="local col5 decl" id="5k" title='k' data-type='int' data-ref="5k">k</dfn>, <dfn class="local col6 decl" id="6x" title='x' data-type='int' data-ref="6x">x</dfn>, <dfn class="local col7 decl" id="7y" title='y' data-type='int' data-ref="7y">y</dfn>;</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( src.type() == CV_32FC1 );</td></tr>
<tr><th id="60">60</th><td>    <em>int</em> <dfn class="local col8 decl" id="8width" title='width' data-type='int' data-ref="8width">width</dfn> = <a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>;</td></tr>
<tr><th id="61">61</th><td>    <em>int</em> <dfn class="local col9 decl" id="9height" title='height' data-type='int' data-ref="9height">height</dfn> = <a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>;</td></tr>
<tr><th id="62">62</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::AutoBuffer" title='cv::AutoBuffer' data-ref="cv::AutoBuffer">AutoBuffer</a>&lt;<em>float</em>&gt; <dfn class="local col0 decl" id="10kbuf" title='kbuf' data-type='AutoBuffer&lt;float&gt;' data-ref="10kbuf">kbuf</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a><a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>6</var> + <var>3</var>), <dfn class="local col1 decl" id="11_row" title='_row' data-type='AutoBuffer&lt;float&gt;' data-ref="11_row">_row</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a>(<a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a> + <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>2</var>)*<var>3</var>);</td></tr>
<tr><th id="63">63</th><td>    <em>float</em>* <dfn class="local col2 decl" id="12g" title='g' data-type='float *' data-ref="12g">g</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col0 ref" href="#10kbuf" title='kbuf' data-ref="10kbuf">kbuf</a> + <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>;</td></tr>
<tr><th id="64">64</th><td>    <em>float</em>* <dfn class="local col3 decl" id="13xg" title='xg' data-type='float *' data-ref="13xg">xg</dfn> = <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a> + <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>2</var> + <var>1</var>;</td></tr>
<tr><th id="65">65</th><td>    <em>float</em>* <dfn class="local col4 decl" id="14xxg" title='xxg' data-type='float *' data-ref="14xxg">xxg</dfn> = <a class="local col3 ref" href="#13xg" title='xg' data-ref="13xg">xg</a> + <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>2</var> + <var>1</var>;</td></tr>
<tr><th id="66">66</th><td>    <em>float</em> *<dfn class="local col5 decl" id="15row" title='row' data-type='float *' data-ref="15row">row</dfn> = (<em>float</em>*)<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col1 ref" href="#11_row" title='_row' data-ref="11_row">_row</a> + <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>3</var>;</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td>    <b>if</b>( <a class="local col4 ref" href="#4sigma" title='sigma' data-ref="4sigma">sigma</a> &lt; <span class="macro" title="1.19209290e-7F" data-ref="_M/FLT_EPSILON">FLT_EPSILON</span> )</td></tr>
<tr><th id="69">69</th><td>        <a class="local col4 ref" href="#4sigma" title='sigma' data-ref="4sigma">sigma</a> = <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>0.3</var>;</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td>    <em>double</em> <dfn class="local col6 decl" id="16s" title='s' data-type='double' data-ref="16s">s</dfn> = <var>0.</var>;</td></tr>
<tr><th id="72">72</th><td>    <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = -<a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="73">73</th><td>    {</td></tr>
<tr><th id="74">74</th><td>        <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = (<em>float</em>)<span class="namespace">std::</span><a class="ref" href="../../../../include/x86_64-linux-gnu/bits/mathcalls.h.html#100" title='exp' data-ref="exp">exp</a>(-<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>/(<var>2</var>*<a class="local col4 ref" href="#4sigma" title='sigma' data-ref="4sigma">sigma</a>*<a class="local col4 ref" href="#4sigma" title='sigma' data-ref="4sigma">sigma</a>));</td></tr>
<tr><th id="75">75</th><td>        <a class="local col6 ref" href="#16s" title='s' data-ref="16s">s</a> += <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>];</td></tr>
<tr><th id="76">76</th><td>    }</td></tr>
<tr><th id="77">77</th><td></td></tr>
<tr><th id="78">78</th><td>    <a class="local col6 ref" href="#16s" title='s' data-ref="16s">s</a> = <var>1.</var>/<a class="local col6 ref" href="#16s" title='s' data-ref="16s">s</a>;</td></tr>
<tr><th id="79">79</th><td>    <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = -<a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="80">80</th><td>    {</td></tr>
<tr><th id="81">81</th><td>        <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = (<em>float</em>)(<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]*<a class="local col6 ref" href="#16s" title='s' data-ref="16s">s</a>);</td></tr>
<tr><th id="82">82</th><td>        <a class="local col3 ref" href="#13xg" title='xg' data-ref="13xg">xg</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = (<em>float</em>)(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]);</td></tr>
<tr><th id="83">83</th><td>        <a class="local col4 ref" href="#14xxg" title='xxg' data-ref="14xxg">xxg</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = (<em>float</em>)(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]);</td></tr>
<tr><th id="84">84</th><td>    }</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat_" title='cv::Mat_' data-ref="cv::Mat_">Mat_</a>&lt;<em>double</em>&gt; <dfn class="local col7 decl" id="17G" title='G' data-type='Mat_&lt;double&gt;' data-ref="17G">G</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv7MatExprcvNS_4Mat_IT_EEEv" title='cv::MatExpr::operator Mat_&lt;type-parameter-0-0&gt;' data-ref="_ZNK2cv7MatExprcvNS_4Mat_IT_EEEv"></a><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat_" title='cv::Mat_' data-ref="cv::Mat_">Mat_</a>&lt;<em>double</em>&gt;::<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_5zerosEii" title='cv::Mat_::zeros' data-ref="_ZN2cv4Mat_5zerosEii">zeros</a>(<var>6</var>, <var>6</var>);</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td>    <b>for</b>( <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a> = -<a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>++ )</td></tr>
<tr><th id="89">89</th><td>        <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = -<a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="90">90</th><td>        {</td></tr>
<tr><th id="91">91</th><td>            <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>0</var>,<var>0</var>)</a> += <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>]*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>];</td></tr>
<tr><th id="92">92</th><td>            <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>1</var>,<var>1</var>)</a> += <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>]*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>;</td></tr>
<tr><th id="93">93</th><td>            <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>3</var>,<var>3</var>)</a> += <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>]*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>;</td></tr>
<tr><th id="94">94</th><td>            <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>5</var>,<var>5</var>)</a> += <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>]*<a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>*<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>;</td></tr>
<tr><th id="95">95</th><td>        }</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>    <i>//G[0][0] = 1.;</i></td></tr>
<tr><th id="98">98</th><td>    <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>2</var>,<var>2</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>0</var>,<var>3</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>0</var>,<var>4</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>3</var>,<var>0</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>4</var>,<var>0</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>1</var>,<var>1</var>)</a>;</td></tr>
<tr><th id="99">99</th><td>    <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>4</var>,<var>4</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>3</var>,<var>3</var>)</a>;</td></tr>
<tr><th id="100">100</th><td>    <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>3</var>,<var>4</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>4</var>,<var>3</var>)</a> = <a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>5</var>,<var>5</var>)</a>;</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>    <i>// invG:</i></td></tr>
<tr><th id="103">103</th><td><i>    // [ x        e  e    ]</i></td></tr>
<tr><th id="104">104</th><td><i>    // [    y             ]</i></td></tr>
<tr><th id="105">105</th><td><i>    // [       y          ]</i></td></tr>
<tr><th id="106">106</th><td><i>    // [ e        z       ]</i></td></tr>
<tr><th id="107">107</th><td><i>    // [ e           z    ]</i></td></tr>
<tr><th id="108">108</th><td><i>    // [                u ]</i></td></tr>
<tr><th id="109">109</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat_" title='cv::Mat_' data-ref="cv::Mat_">Mat_</a>&lt;<em>double</em>&gt; <dfn class="local col8 decl" id="18invG" title='invG' data-type='Mat_&lt;double&gt;' data-ref="18invG">invG</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv7MatExprcvNS_4Mat_IT_EEEv" title='cv::MatExpr::operator Mat_&lt;type-parameter-0-0&gt;' data-ref="_ZNK2cv7MatExprcvNS_4Mat_IT_EEEv"></a><a class="local col7 ref" href="#17G" title='G' data-ref="17G">G</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3invEi" title='cv::Mat::inv' data-ref="_ZNK2cv3Mat3invEi">inv</a>(<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::::DECOMP_CHOLESKY" title='cv::::DECOMP_CHOLESKY' data-ref="cv::::DECOMP_CHOLESKY">DECOMP_CHOLESKY</a>);</td></tr>
<tr><th id="110">110</th><td>    <em>double</em> <dfn class="local col9 decl" id="19ig11" title='ig11' data-type='double' data-ref="19ig11">ig11</dfn> = <a class="local col8 ref" href="#18invG" title='invG' data-ref="18invG">invG</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>1</var>,<var>1</var>)</a>, <dfn class="local col0 decl" id="20ig03" title='ig03' data-type='double' data-ref="20ig03">ig03</dfn> = <a class="local col8 ref" href="#18invG" title='invG' data-ref="18invG">invG</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>0</var>,<var>3</var>)</a>, <dfn class="local col1 decl" id="21ig33" title='ig33' data-type='double' data-ref="21ig33">ig33</dfn> = <a class="local col8 ref" href="#18invG" title='invG' data-ref="18invG">invG</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>3</var>,<var>3</var>)</a>, <dfn class="local col2 decl" id="22ig55" title='ig55' data-type='double' data-ref="22ig55">ig55</dfn> = <a class="local col8 ref" href="#18invG" title='invG' data-ref="18invG">invG</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv4Mat_clEii" title='cv::Mat_::operator()' data-ref="_ZN2cv4Mat_clEii">(<var>5</var>,<var>5</var>)</a>;</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td>    <a class="local col2 ref" href="#2dst" title='dst' data-ref="2dst">dst</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>( <a class="local col9 ref" href="#9height" title='height' data-ref="9height">height</a>, <a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#654" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + ((((5))-1) &lt;&lt; 3))" data-ref="_M/CV_32FC">CV_32FC</a>(<var>5</var>));</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>    <b>for</b>( <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a> = <var>0</var>; <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a> &lt; <a class="local col9 ref" href="#9height" title='height' data-ref="9height">height</a>; <a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>++ )</td></tr>
<tr><th id="115">115</th><td>    {</td></tr>
<tr><th id="116">116</th><td>        <em>float</em> <dfn class="local col3 decl" id="23g0" title='g0' data-type='float' data-ref="23g0">g0</dfn> = <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<var>0</var>], <dfn class="local col4 decl" id="24g1" title='g1' data-type='float' data-ref="24g1">g1</dfn>, <dfn class="local col5 decl" id="25g2" title='g2' data-type='float' data-ref="25g2">g2</dfn>;</td></tr>
<tr><th id="117">117</th><td>        <em>float</em> *<dfn class="local col6 decl" id="26srow0" title='srow0' data-type='float *' data-ref="26srow0">srow0</dfn> = (<em>float</em>*)(<a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>), *<dfn class="local col7 decl" id="27srow1" title='srow1' data-type='float *' data-ref="27srow1">srow1</dfn> = <var>0</var>;</td></tr>
<tr><th id="118">118</th><td>        <em>float</em> *<dfn class="local col8 decl" id="28drow" title='drow' data-type='float *' data-ref="28drow">drow</dfn> = (<em>float</em>*)(<a class="local col2 ref" href="#2dst" title='dst' data-ref="2dst">dst</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col2 ref" href="#2dst" title='dst' data-ref="2dst">dst</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>);</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td>        <i>// vertical part of convolution</i></td></tr>
<tr><th id="121">121</th><td>        <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = <var>0</var>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt; <a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="122">122</th><td>        {</td></tr>
<tr><th id="123">123</th><td>            <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>] = <a class="local col6 ref" href="#26srow0" title='srow0' data-ref="26srow0">srow0</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>;</td></tr>
<tr><th id="124">124</th><td>            <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>1</var>] = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>2</var>] = <var>0.f</var>;</td></tr>
<tr><th id="125">125</th><td>        }</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>        <b>for</b>( <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a> = <var>1</var>; <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>++ )</td></tr>
<tr><th id="128">128</th><td>        {</td></tr>
<tr><th id="129">129</th><td>            <a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a> = <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>]; <a class="local col4 ref" href="#24g1" title='g1' data-ref="24g1">g1</a> = <a class="local col3 ref" href="#13xg" title='xg' data-ref="13xg">xg</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>]; <a class="local col5 ref" href="#25g2" title='g2' data-ref="25g2">g2</a> = <a class="local col4 ref" href="#14xxg" title='xxg' data-ref="14xxg">xxg</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>];</td></tr>
<tr><th id="130">130</th><td>            <a class="local col6 ref" href="#26srow0" title='srow0' data-ref="26srow0">srow0</a> = (<em>float</em>*)(<a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>(<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>,<var>0</var>));</td></tr>
<tr><th id="131">131</th><td>            <a class="local col7 ref" href="#27srow1" title='srow1' data-ref="27srow1">srow1</a> = (<em>float</em>*)(<a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col1 ref" href="#1src" title='src' data-ref="1src">src</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3minRKT_S1_" title='std::min' data-ref="_ZSt3minRKT_S1_">min</a>(<a class="local col7 ref" href="#7y" title='y' data-ref="7y">y</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>,<a class="local col9 ref" href="#9height" title='height' data-ref="9height">height</a>-<var>1</var>));</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>            <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = <var>0</var>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt; <a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="134">134</th><td>            {</td></tr>
<tr><th id="135">135</th><td>                <em>float</em> <dfn class="local col9 decl" id="29p" title='p' data-type='float' data-ref="29p">p</dfn> = <a class="local col6 ref" href="#26srow0" title='srow0' data-ref="26srow0">srow0</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] + <a class="local col7 ref" href="#27srow1" title='srow1' data-ref="27srow1">srow1</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>];</td></tr>
<tr><th id="136">136</th><td>                <em>float</em> <dfn class="local col0 decl" id="30t0" title='t0' data-type='float' data-ref="30t0">t0</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>] + <a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>*<a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>;</td></tr>
<tr><th id="137">137</th><td>                <em>float</em> <dfn class="local col1 decl" id="31t1" title='t1' data-type='float' data-ref="31t1">t1</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>1</var>] + <a class="local col4 ref" href="#24g1" title='g1' data-ref="24g1">g1</a>*(<a class="local col7 ref" href="#27srow1" title='srow1' data-ref="27srow1">srow1</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] - <a class="local col6 ref" href="#26srow0" title='srow0' data-ref="26srow0">srow0</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>]);</td></tr>
<tr><th id="138">138</th><td>                <em>float</em> <dfn class="local col2 decl" id="32t2" title='t2' data-type='float' data-ref="32t2">t2</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>2</var>] + <a class="local col5 ref" href="#25g2" title='g2' data-ref="25g2">g2</a>*<a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>;</td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td>                <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>] = <a class="local col0 ref" href="#30t0" title='t0' data-ref="30t0">t0</a>;</td></tr>
<tr><th id="141">141</th><td>                <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>1</var>] = <a class="local col1 ref" href="#31t1" title='t1' data-ref="31t1">t1</a>;</td></tr>
<tr><th id="142">142</th><td>                <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>2</var>] = <a class="local col2 ref" href="#32t2" title='t2' data-ref="32t2">t2</a>;</td></tr>
<tr><th id="143">143</th><td>            }</td></tr>
<tr><th id="144">144</th><td>        }</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>        <i>// horizontal part of convolution</i></td></tr>
<tr><th id="147">147</th><td>        <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = <var>0</var>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt; <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>3</var>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="148">148</th><td>        {</td></tr>
<tr><th id="149">149</th><td>            <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[-<var>1</var>-<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<var>2</var>-<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>];</td></tr>
<tr><th id="150">150</th><td>            <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>*<var>3</var>+<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>] = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>*<var>3</var>+<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<var>3</var>];</td></tr>
<tr><th id="151">151</th><td>        }</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>        <b>for</b>( <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> = <var>0</var>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a> &lt; <a class="local col8 ref" href="#8width" title='width' data-ref="8width">width</a>; <a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>++ )</td></tr>
<tr><th id="154">154</th><td>        {</td></tr>
<tr><th id="155">155</th><td>            <a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a> = <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<var>0</var>];</td></tr>
<tr><th id="156">156</th><td>            <i>// r1 ~ 1, r2 ~ x, r3 ~ y, r4 ~ x^2, r5 ~ y^2, r6 ~ xy</i></td></tr>
<tr><th id="157">157</th><td>            <em>double</em> <dfn class="local col3 decl" id="33b1" title='b1' data-type='double' data-ref="33b1">b1</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>]*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>, <dfn class="local col4 decl" id="34b2" title='b2' data-type='double' data-ref="34b2">b2</dfn> = <var>0</var>, <dfn class="local col5 decl" id="35b3" title='b3' data-type='double' data-ref="35b3">b3</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>1</var>]*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>,</td></tr>
<tr><th id="158">158</th><td>                <dfn class="local col6 decl" id="36b4" title='b4' data-type='double' data-ref="36b4">b4</dfn> = <var>0</var>, <dfn class="local col7 decl" id="37b5" title='b5' data-type='double' data-ref="37b5">b5</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>3</var>+<var>2</var>]*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>, <dfn class="local col8 decl" id="38b6" title='b6' data-type='double' data-ref="38b6">b6</dfn> = <var>0</var>;</td></tr>
<tr><th id="159">159</th><td></td></tr>
<tr><th id="160">160</th><td>            <b>for</b>( <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a> = <var>1</var>; <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a> &lt;= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>; <a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>++ )</td></tr>
<tr><th id="161">161</th><td>            {</td></tr>
<tr><th id="162">162</th><td>                <em>double</em> <dfn class="local col9 decl" id="39tg" title='tg' data-type='double' data-ref="39tg">tg</dfn> = <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>] + <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>];</td></tr>
<tr><th id="163">163</th><td>                <a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a> = <a class="local col2 ref" href="#12g" title='g' data-ref="12g">g</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>];</td></tr>
<tr><th id="164">164</th><td>                <a class="local col3 ref" href="#33b1" title='b1' data-ref="33b1">b1</a> += <a class="local col9 ref" href="#39tg" title='tg' data-ref="39tg">tg</a>*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>;</td></tr>
<tr><th id="165">165</th><td>                <a class="local col6 ref" href="#36b4" title='b4' data-ref="36b4">b4</a> += <a class="local col9 ref" href="#39tg" title='tg' data-ref="39tg">tg</a>*<a class="local col4 ref" href="#14xxg" title='xxg' data-ref="14xxg">xxg</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>];</td></tr>
<tr><th id="166">166</th><td>                <a class="local col4 ref" href="#34b2" title='b2' data-ref="34b2">b2</a> += (<a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>] - <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>])*<a class="local col3 ref" href="#13xg" title='xg' data-ref="13xg">xg</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>];</td></tr>
<tr><th id="167">167</th><td>                <a class="local col5 ref" href="#35b3" title='b3' data-ref="35b3">b3</a> += (<a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>1</var>] + <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>1</var>])*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>;</td></tr>
<tr><th id="168">168</th><td>                <a class="local col8 ref" href="#38b6" title='b6' data-ref="38b6">b6</a> += (<a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>1</var>] - <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>1</var>])*<a class="local col3 ref" href="#13xg" title='xg' data-ref="13xg">xg</a>[<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>];</td></tr>
<tr><th id="169">169</th><td>                <a class="local col7 ref" href="#37b5" title='b5' data-ref="37b5">b5</a> += (<a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>+<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>2</var>] + <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a>[(<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>-<a class="local col5 ref" href="#5k" title='k' data-ref="5k">k</a>)*<var>3</var>+<var>2</var>])*<a class="local col3 ref" href="#23g0" title='g0' data-ref="23g0">g0</a>;</td></tr>
<tr><th id="170">170</th><td>            }</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>            <i>// do not store r1</i></td></tr>
<tr><th id="173">173</th><td>            <a class="local col8 ref" href="#28drow" title='drow' data-ref="28drow">drow</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>5</var>+<var>1</var>] = (<em>float</em>)(<a class="local col4 ref" href="#34b2" title='b2' data-ref="34b2">b2</a>*<a class="local col9 ref" href="#19ig11" title='ig11' data-ref="19ig11">ig11</a>);</td></tr>
<tr><th id="174">174</th><td>            <a class="local col8 ref" href="#28drow" title='drow' data-ref="28drow">drow</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>5</var>] = (<em>float</em>)(<a class="local col5 ref" href="#35b3" title='b3' data-ref="35b3">b3</a>*<a class="local col9 ref" href="#19ig11" title='ig11' data-ref="19ig11">ig11</a>);</td></tr>
<tr><th id="175">175</th><td>            <a class="local col8 ref" href="#28drow" title='drow' data-ref="28drow">drow</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>5</var>+<var>3</var>] = (<em>float</em>)(<a class="local col3 ref" href="#33b1" title='b1' data-ref="33b1">b1</a>*<a class="local col0 ref" href="#20ig03" title='ig03' data-ref="20ig03">ig03</a> + <a class="local col6 ref" href="#36b4" title='b4' data-ref="36b4">b4</a>*<a class="local col1 ref" href="#21ig33" title='ig33' data-ref="21ig33">ig33</a>);</td></tr>
<tr><th id="176">176</th><td>            <a class="local col8 ref" href="#28drow" title='drow' data-ref="28drow">drow</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>5</var>+<var>2</var>] = (<em>float</em>)(<a class="local col3 ref" href="#33b1" title='b1' data-ref="33b1">b1</a>*<a class="local col0 ref" href="#20ig03" title='ig03' data-ref="20ig03">ig03</a> + <a class="local col7 ref" href="#37b5" title='b5' data-ref="37b5">b5</a>*<a class="local col1 ref" href="#21ig33" title='ig33' data-ref="21ig33">ig33</a>);</td></tr>
<tr><th id="177">177</th><td>            <a class="local col8 ref" href="#28drow" title='drow' data-ref="28drow">drow</a>[<a class="local col6 ref" href="#6x" title='x' data-ref="6x">x</a>*<var>5</var>+<var>4</var>] = (<em>float</em>)(<a class="local col8 ref" href="#38b6" title='b6' data-ref="38b6">b6</a>*<a class="local col2 ref" href="#22ig55" title='ig55' data-ref="22ig55">ig55</a>);</td></tr>
<tr><th id="178">178</th><td>        }</td></tr>
<tr><th id="179">179</th><td>    }</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td>    <a class="local col5 ref" href="#15row" title='row' data-ref="15row">row</a> -= <a class="local col3 ref" href="#3n" title='n' data-ref="3n">n</a>*<var>3</var>;</td></tr>
<tr><th id="182">182</th><td>}</td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td></td></tr>
<tr><th id="185">185</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">/*static void</i></td></tr>
<tr><th id="186">186</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">FarnebackPolyExpPyr( const Mat&amp; src0, Vector&lt;Mat&gt;&amp; pyr, int maxlevel, int n, double sigma )</i></td></tr>
<tr><th id="187">187</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">{</i></td></tr>
<tr><th id="188">188</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">    Vector&lt;Mat&gt; imgpyr;</i></td></tr>
<tr><th id="189">189</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">    buildPyramid( src0, imgpyr, maxlevel );</i></td></tr>
<tr><th id="190">190</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii"></i></td></tr>
<tr><th id="191">191</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">    for( int i = 0; i &lt;= maxlevel; i++ )</i></td></tr>
<tr><th id="192">192</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">        FarnebackPolyExp( imgpyr[i], pyr[i], n, sigma );</i></td></tr>
<tr><th id="193">193</th><td><i  data-doc="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">}*/</i></td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="197">197</th><td><dfn class="tu decl def" id="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii" title='cv::FarnebackUpdateMatrices' data-type='void cv::FarnebackUpdateMatrices(const cv::Mat &amp; _R0, const cv::Mat &amp; _R1, const cv::Mat &amp; _flow, cv::Mat &amp; matM, int _y0, int _y1)' data-ref="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">FarnebackUpdateMatrices</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col0 decl" id="40_R0" title='_R0' data-type='const cv::Mat &amp;' data-ref="40_R0">_R0</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col1 decl" id="41_R1" title='_R1' data-type='const cv::Mat &amp;' data-ref="41_R1">_R1</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col2 decl" id="42_flow" title='_flow' data-type='const cv::Mat &amp;' data-ref="42_flow">_flow</dfn>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col3 decl" id="43matM" title='matM' data-type='cv::Mat &amp;' data-ref="43matM">matM</dfn>, <em>int</em> <dfn class="local col4 decl" id="44_y0" title='_y0' data-type='int' data-ref="44_y0">_y0</dfn>, <em>int</em> <dfn class="local col5 decl" id="45_y1" title='_y1' data-type='int' data-ref="45_y1">_y1</dfn> )</td></tr>
<tr><th id="198">198</th><td>{</td></tr>
<tr><th id="199">199</th><td>    <em>const</em> <em>int</em> <dfn class="local col6 decl" id="46BORDER" title='BORDER' data-type='const int' data-ref="46BORDER">BORDER</dfn> = <var>5</var>;</td></tr>
<tr><th id="200">200</th><td>    <em>static</em> <em>const</em> <em>float</em> <dfn class="local col7 decl" id="47border" title='border' data-type='const float [5]' data-ref="47border">border</dfn>[<a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a>] = {<var>0.14f</var>, <var>0.14f</var>, <var>0.4472f</var>, <var>0.4472f</var>, <var>0.4472f</var>};</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td>    <em>int</em> <dfn class="local col8 decl" id="48x" title='x' data-type='int' data-ref="48x">x</dfn>, <dfn class="local col9 decl" id="49y" title='y' data-type='int' data-ref="49y">y</dfn>, <dfn class="local col0 decl" id="50width" title='width' data-type='int' data-ref="50width">width</dfn> = <a class="local col2 ref" href="#42_flow" title='_flow' data-ref="42_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>, <dfn class="local col1 decl" id="51height" title='height' data-type='int' data-ref="51height">height</dfn> = <a class="local col2 ref" href="#42_flow" title='_flow' data-ref="42_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>;</td></tr>
<tr><th id="203">203</th><td>    <em>const</em> <em>float</em>* <dfn class="local col2 decl" id="52R1" title='R1' data-type='const float *' data-ref="52R1">R1</dfn> = (<em>float</em>*)<a class="local col1 ref" href="#41_R1" title='_R1' data-ref="41_R1">_R1</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a>;</td></tr>
<tr><th id="204">204</th><td>    <a class="typedef" href="../../../../include/x86_64-linux-gnu/c++/4.8/bits/c++config.h.html#std::size_t" title='std::size_t' data-type='unsigned long' data-ref="std::size_t">size_t</a> <dfn class="local col3 decl" id="53step1" title='step1' data-type='size_t' data-ref="53step1">step1</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col1 ref" href="#41_R1" title='_R1' data-ref="41_R1">_R1</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>/<b>sizeof</b>(<a class="local col2 ref" href="#52R1" title='R1' data-ref="52R1">R1</a>[<var>0</var>]);</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>    <a class="local col3 ref" href="#43matM" title='matM' data-ref="43matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>(<a class="local col1 ref" href="#51height" title='height' data-ref="51height">height</a>, <a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#654" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + ((((5))-1) &lt;&lt; 3))" data-ref="_M/CV_32FC">CV_32FC</a>(<var>5</var>));</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td>    <b>for</b>( <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> = <a class="local col4 ref" href="#44_y0" title='_y0' data-ref="44_y0">_y0</a>; <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> &lt; <a class="local col5 ref" href="#45_y1" title='_y1' data-ref="45_y1">_y1</a>; <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a>++ )</td></tr>
<tr><th id="209">209</th><td>    {</td></tr>
<tr><th id="210">210</th><td>        <em>const</em> <em>float</em>* <dfn class="local col4 decl" id="54flow" title='flow' data-type='const float *' data-ref="54flow">flow</dfn> = (<em>float</em>*)(<a class="local col2 ref" href="#42_flow" title='_flow' data-ref="42_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a>*<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col2 ref" href="#42_flow" title='_flow' data-ref="42_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>);</td></tr>
<tr><th id="211">211</th><td>        <em>const</em> <em>float</em>* <dfn class="local col5 decl" id="55R0" title='R0' data-type='const float *' data-ref="55R0">R0</dfn> = (<em>float</em>*)(<a class="local col0 ref" href="#40_R0" title='_R0' data-ref="40_R0">_R0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a>*<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col0 ref" href="#40_R0" title='_R0' data-ref="40_R0">_R0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>);</td></tr>
<tr><th id="212">212</th><td>        <em>float</em>* <dfn class="local col6 decl" id="56M" title='M' data-type='float *' data-ref="56M">M</dfn> = (<em>float</em>*)(<a class="local col3 ref" href="#43matM" title='matM' data-ref="43matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a>*<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col3 ref" href="#43matM" title='matM' data-ref="43matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>);</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>        <b>for</b>( <a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> = <var>0</var>; <a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> &lt; <a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a>; <a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>++ )</td></tr>
<tr><th id="215">215</th><td>        {</td></tr>
<tr><th id="216">216</th><td>            <em>float</em> <dfn class="local col7 decl" id="57dx" title='dx' data-type='float' data-ref="57dx">dx</dfn> = <a class="local col4 ref" href="#54flow" title='flow' data-ref="54flow">flow</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>2</var>], <dfn class="local col8 decl" id="58dy" title='dy' data-type='float' data-ref="58dy">dy</dfn> = <a class="local col4 ref" href="#54flow" title='flow' data-ref="54flow">flow</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>2</var>+<var>1</var>];</td></tr>
<tr><th id="217">217</th><td>            <em>float</em> <dfn class="local col9 decl" id="59fx" title='fx' data-type='float' data-ref="59fx">fx</dfn> = <a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> + <a class="local col7 ref" href="#57dx" title='dx' data-ref="57dx">dx</a>, <dfn class="local col0 decl" id="60fy" title='fy' data-type='float' data-ref="60fy">fy</dfn> = <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> + <a class="local col8 ref" href="#58dy" title='dy' data-ref="58dy">dy</a>;</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><u>#<span data-ppcond="219">if</span> 1</u></td></tr>
<tr><th id="220">220</th><td>            <em>int</em> <dfn class="local col1 decl" id="61x1" title='x1' data-type='int' data-ref="61x1">x1</dfn> = <a class="ref" href="../../core/include/opencv2/core/types_c.h.html#_Z7cvFloord" title='cvFloor' data-ref="_Z7cvFloord">cvFloor</a>(<a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a>), <dfn class="local col2 decl" id="62y1" title='y1' data-type='int' data-ref="62y1">y1</dfn> = <a class="ref" href="../../core/include/opencv2/core/types_c.h.html#_Z7cvFloord" title='cvFloor' data-ref="_Z7cvFloord">cvFloor</a>(<a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a>);</td></tr>
<tr><th id="221">221</th><td>            <em>const</em> <em>float</em>* <dfn class="local col3 decl" id="63ptr" title='ptr' data-type='const float *' data-ref="63ptr">ptr</dfn> = <a class="local col2 ref" href="#52R1" title='R1' data-ref="52R1">R1</a> + <a class="local col2 ref" href="#62y1" title='y1' data-ref="62y1">y1</a>*<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a> + <a class="local col1 ref" href="#61x1" title='x1' data-ref="61x1">x1</a>*<var>5</var>;</td></tr>
<tr><th id="222">222</th><td>            <em>float</em> <dfn class="local col4 decl" id="64r2" title='r2' data-type='float' data-ref="64r2">r2</dfn>, <dfn class="local col5 decl" id="65r3" title='r3' data-type='float' data-ref="65r3">r3</dfn>, <dfn class="local col6 decl" id="66r4" title='r4' data-type='float' data-ref="66r4">r4</dfn>, <dfn class="local col7 decl" id="67r5" title='r5' data-type='float' data-ref="67r5">r5</dfn>, <dfn class="local col8 decl" id="68r6" title='r6' data-type='float' data-ref="68r6">r6</dfn>;</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>            <a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a> -= <a class="local col1 ref" href="#61x1" title='x1' data-ref="61x1">x1</a>; <a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a> -= <a class="local col2 ref" href="#62y1" title='y1' data-ref="62y1">y1</a>;</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>            <b>if</b>( (<em>unsigned</em>)<a class="local col1 ref" href="#61x1" title='x1' data-ref="61x1">x1</a> &lt; (<em>unsigned</em>)(<a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a>-<var>1</var>) &amp;&amp;</td></tr>
<tr><th id="227">227</th><td>                (<em>unsigned</em>)<a class="local col2 ref" href="#62y1" title='y1' data-ref="62y1">y1</a> &lt; (<em>unsigned</em>)(<a class="local col1 ref" href="#51height" title='height' data-ref="51height">height</a>-<var>1</var>) )</td></tr>
<tr><th id="228">228</th><td>            {</td></tr>
<tr><th id="229">229</th><td>                <em>float</em> <dfn class="local col9 decl" id="69a00" title='a00' data-type='float' data-ref="69a00">a00</dfn> = (<var>1.f</var>-<a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a>)*(<var>1.f</var>-<a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a>), <dfn class="local col0 decl" id="70a01" title='a01' data-type='float' data-ref="70a01">a01</dfn> = <a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a>*(<var>1.f</var>-<a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a>),</td></tr>
<tr><th id="230">230</th><td>                      <dfn class="local col1 decl" id="71a10" title='a10' data-type='float' data-ref="71a10">a10</dfn> = (<var>1.f</var>-<a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a>)*<a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a>, <dfn class="local col2 decl" id="72a11" title='a11' data-type='float' data-ref="72a11">a11</dfn> = <a class="local col9 ref" href="#59fx" title='fx' data-ref="59fx">fx</a>*<a class="local col0 ref" href="#60fy" title='fy' data-ref="60fy">fy</a>;</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td>                <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> = <a class="local col9 ref" href="#69a00" title='a00' data-ref="69a00">a00</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>0</var>] + <a class="local col0 ref" href="#70a01" title='a01' data-ref="70a01">a01</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>5</var>] + <a class="local col1 ref" href="#71a10" title='a10' data-ref="71a10">a10</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>] + <a class="local col2 ref" href="#72a11" title='a11' data-ref="72a11">a11</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>5</var>];</td></tr>
<tr><th id="233">233</th><td>                <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a> = <a class="local col9 ref" href="#69a00" title='a00' data-ref="69a00">a00</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>1</var>] + <a class="local col0 ref" href="#70a01" title='a01' data-ref="70a01">a01</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>6</var>] + <a class="local col1 ref" href="#71a10" title='a10' data-ref="71a10">a10</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>1</var>] + <a class="local col2 ref" href="#72a11" title='a11' data-ref="72a11">a11</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>6</var>];</td></tr>
<tr><th id="234">234</th><td>                <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> = <a class="local col9 ref" href="#69a00" title='a00' data-ref="69a00">a00</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>2</var>] + <a class="local col0 ref" href="#70a01" title='a01' data-ref="70a01">a01</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>7</var>] + <a class="local col1 ref" href="#71a10" title='a10' data-ref="71a10">a10</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>2</var>] + <a class="local col2 ref" href="#72a11" title='a11' data-ref="72a11">a11</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>7</var>];</td></tr>
<tr><th id="235">235</th><td>                <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a> = <a class="local col9 ref" href="#69a00" title='a00' data-ref="69a00">a00</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>3</var>] + <a class="local col0 ref" href="#70a01" title='a01' data-ref="70a01">a01</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>8</var>] + <a class="local col1 ref" href="#71a10" title='a10' data-ref="71a10">a10</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>3</var>] + <a class="local col2 ref" href="#72a11" title='a11' data-ref="72a11">a11</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>8</var>];</td></tr>
<tr><th id="236">236</th><td>                <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a> = <a class="local col9 ref" href="#69a00" title='a00' data-ref="69a00">a00</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>4</var>] + <a class="local col0 ref" href="#70a01" title='a01' data-ref="70a01">a01</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<var>9</var>] + <a class="local col1 ref" href="#71a10" title='a10' data-ref="71a10">a10</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>4</var>] + <a class="local col2 ref" href="#72a11" title='a11' data-ref="72a11">a11</a>*<a class="local col3 ref" href="#63ptr" title='ptr' data-ref="63ptr">ptr</a>[<a class="local col3 ref" href="#53step1" title='step1' data-ref="53step1">step1</a>+<var>9</var>];</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td>                <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> = (<a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>2</var>] + <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a>)*<var>0.5f</var>;</td></tr>
<tr><th id="239">239</th><td>                <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a> = (<a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>3</var>] + <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a>)*<var>0.5f</var>;</td></tr>
<tr><th id="240">240</th><td>                <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a> = (<a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>4</var>] + <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>)*<var>0.25f</var>;</td></tr>
<tr><th id="241">241</th><td>            }</td></tr>
<tr><th id="242">242</th><td><u>#<span data-ppcond="219">else</span></u></td></tr>
<tr><th id="243">243</th><td>            <em>int</em> x1 = cvRound(fx), y1 = cvRound(fy);</td></tr>
<tr><th id="244">244</th><td>            <em>const</em> <em>float</em>* ptr = R1 + y1*step1 + x1*<var>5</var>;</td></tr>
<tr><th id="245">245</th><td>            <em>float</em> r2, r3, r4, r5, r6;</td></tr>
<tr><th id="246">246</th><td></td></tr>
<tr><th id="247">247</th><td>            <b>if</b>( (<em>unsigned</em>)x1 &lt; (<em>unsigned</em>)width &amp;&amp;</td></tr>
<tr><th id="248">248</th><td>                (<em>unsigned</em>)y1 &lt; (<em>unsigned</em>)height )</td></tr>
<tr><th id="249">249</th><td>            {</td></tr>
<tr><th id="250">250</th><td>                r2 = ptr[<var>0</var>];</td></tr>
<tr><th id="251">251</th><td>                r3 = ptr[<var>1</var>];</td></tr>
<tr><th id="252">252</th><td>                r4 = (R0[x*<var>5</var>+<var>2</var>] + ptr[<var>2</var>])*<var>0.5f</var>;</td></tr>
<tr><th id="253">253</th><td>                r5 = (R0[x*<var>5</var>+<var>3</var>] + ptr[<var>3</var>])*<var>0.5f</var>;</td></tr>
<tr><th id="254">254</th><td>                r6 = (R0[x*<var>5</var>+<var>4</var>] + ptr[<var>4</var>])*<var>0.25f</var>;</td></tr>
<tr><th id="255">255</th><td>            }</td></tr>
<tr><th id="256">256</th><td><u>#<span data-ppcond="219">endif</span></u></td></tr>
<tr><th id="257">257</th><td>            <b>else</b></td></tr>
<tr><th id="258">258</th><td>            {</td></tr>
<tr><th id="259">259</th><td>                <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> = <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a> = <var>0.f</var>;</td></tr>
<tr><th id="260">260</th><td>                <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> = <a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>2</var>];</td></tr>
<tr><th id="261">261</th><td>                <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a> = <a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>3</var>];</td></tr>
<tr><th id="262">262</th><td>                <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a> = <a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>4</var>]*<var>0.5f</var>;</td></tr>
<tr><th id="263">263</th><td>            }</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>            <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> = (<a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>] - <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a>)*<var>0.5f</var>;</td></tr>
<tr><th id="266">266</th><td>            <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a> = (<a class="local col5 ref" href="#55R0" title='R0' data-ref="55R0">R0</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>1</var>] - <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a>)*<var>0.5f</var>;</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>            <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> += <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a>*<a class="local col8 ref" href="#58dy" title='dy' data-ref="58dy">dy</a> + <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col7 ref" href="#57dx" title='dx' data-ref="57dx">dx</a>;</td></tr>
<tr><th id="269">269</th><td>            <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a> += <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col8 ref" href="#58dy" title='dy' data-ref="58dy">dy</a> + <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a>*<a class="local col7 ref" href="#57dx" title='dx' data-ref="57dx">dx</a>;</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>            <b>if</b>( (<em>unsigned</em>)(<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a>) &gt;= (<em>unsigned</em>)(<a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a>*<var>2</var>) ||</td></tr>
<tr><th id="272">272</th><td>                (<em>unsigned</em>)(<a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a>) &gt;= (<em>unsigned</em>)(<a class="local col1 ref" href="#51height" title='height' data-ref="51height">height</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a>*<var>2</var>))</td></tr>
<tr><th id="273">273</th><td>            {</td></tr>
<tr><th id="274">274</th><td>                <em>float</em> <dfn class="local col3 decl" id="73scale" title='scale' data-type='float' data-ref="73scale">scale</dfn> = (<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> &lt; <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a> ? <a class="local col7 ref" href="#47border" title='border' data-ref="47border">border</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>] : <var>1.f</var>)*</td></tr>
<tr><th id="275">275</th><td>                    (<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> &gt;= <a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a> ? <a class="local col7 ref" href="#47border" title='border' data-ref="47border">border</a>[<a class="local col0 ref" href="#50width" title='width' data-ref="50width">width</a> - <a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a> - <var>1</var>] : <var>1.f</var>)*</td></tr>
<tr><th id="276">276</th><td>                    (<a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> &lt; <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a> ? <a class="local col7 ref" href="#47border" title='border' data-ref="47border">border</a>[<a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a>] : <var>1.f</var>)*</td></tr>
<tr><th id="277">277</th><td>                    (<a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> &gt;= <a class="local col1 ref" href="#51height" title='height' data-ref="51height">height</a> - <a class="local col6 ref" href="#46BORDER" title='BORDER' data-ref="46BORDER">BORDER</a> ? <a class="local col7 ref" href="#47border" title='border' data-ref="47border">border</a>[<a class="local col1 ref" href="#51height" title='height' data-ref="51height">height</a> - <a class="local col9 ref" href="#49y" title='y' data-ref="49y">y</a> - <var>1</var>] : <var>1.f</var>);</td></tr>
<tr><th id="278">278</th><td></td></tr>
<tr><th id="279">279</th><td>                <a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> *= <a class="local col3 ref" href="#73scale" title='scale' data-ref="73scale">scale</a>; <a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a> *= <a class="local col3 ref" href="#73scale" title='scale' data-ref="73scale">scale</a>; <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> *= <a class="local col3 ref" href="#73scale" title='scale' data-ref="73scale">scale</a>;</td></tr>
<tr><th id="280">280</th><td>                <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a> *= <a class="local col3 ref" href="#73scale" title='scale' data-ref="73scale">scale</a>; <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a> *= <a class="local col3 ref" href="#73scale" title='scale' data-ref="73scale">scale</a>;</td></tr>
<tr><th id="281">281</th><td>            }</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>            <a class="local col6 ref" href="#56M" title='M' data-ref="56M">M</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>]   = <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a>*<a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> + <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>; <i>// G(1,1)</i></td></tr>
<tr><th id="284">284</th><td>            <a class="local col6 ref" href="#56M" title='M' data-ref="56M">M</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>1</var>] = (<a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a> + <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a>)*<a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>;  <i>// G(1,2)=G(2,1)</i></td></tr>
<tr><th id="285">285</th><td>            <a class="local col6 ref" href="#56M" title='M' data-ref="56M">M</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>2</var>] = <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a>*<a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a> + <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>; <i>// G(2,2)</i></td></tr>
<tr><th id="286">286</th><td>            <a class="local col6 ref" href="#56M" title='M' data-ref="56M">M</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>3</var>] = <a class="local col6 ref" href="#66r4" title='r4' data-ref="66r4">r4</a>*<a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> + <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a>; <i>// h(1)</i></td></tr>
<tr><th id="287">287</th><td>            <a class="local col6 ref" href="#56M" title='M' data-ref="56M">M</a>[<a class="local col8 ref" href="#48x" title='x' data-ref="48x">x</a>*<var>5</var>+<var>4</var>] = <a class="local col8 ref" href="#68r6" title='r6' data-ref="68r6">r6</a>*<a class="local col4 ref" href="#64r2" title='r2' data-ref="64r2">r2</a> + <a class="local col7 ref" href="#67r5" title='r5' data-ref="67r5">r5</a>*<a class="local col5 ref" href="#65r3" title='r3' data-ref="65r3">r3</a>; <i>// h(2)</i></td></tr>
<tr><th id="288">288</th><td>        }</td></tr>
<tr><th id="289">289</th><td>    }</td></tr>
<tr><th id="290">290</th><td>}</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="294">294</th><td><dfn class="tu decl def" id="_ZN2cvL24FarnebackUpdateFlow_BlurERKNS_3MatES2_RS0_S3_ib" title='cv::FarnebackUpdateFlow_Blur' data-type='void cv::FarnebackUpdateFlow_Blur(const cv::Mat &amp; _R0, const cv::Mat &amp; _R1, cv::Mat &amp; _flow, cv::Mat &amp; matM, int block_size, bool update_matrices)' data-ref="_ZN2cvL24FarnebackUpdateFlow_BlurERKNS_3MatES2_RS0_S3_ib">FarnebackUpdateFlow_Blur</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col4 decl" id="74_R0" title='_R0' data-type='const cv::Mat &amp;' data-ref="74_R0">_R0</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col5 decl" id="75_R1" title='_R1' data-type='const cv::Mat &amp;' data-ref="75_R1">_R1</dfn>,</td></tr>
<tr><th id="295">295</th><td>                          <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col6 decl" id="76_flow" title='_flow' data-type='cv::Mat &amp;' data-ref="76_flow">_flow</dfn>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col7 decl" id="77matM" title='matM' data-type='cv::Mat &amp;' data-ref="77matM">matM</dfn>, <em>int</em> <dfn class="local col8 decl" id="78block_size" title='block_size' data-type='int' data-ref="78block_size">block_size</dfn>,</td></tr>
<tr><th id="296">296</th><td>                          <em>bool</em> <dfn class="local col9 decl" id="79update_matrices" title='update_matrices' data-type='bool' data-ref="79update_matrices">update_matrices</dfn> )</td></tr>
<tr><th id="297">297</th><td>{</td></tr>
<tr><th id="298">298</th><td>    <em>int</em> <dfn class="local col0 decl" id="80x" title='x' data-type='int' data-ref="80x">x</dfn>, <dfn class="local col1 decl" id="81y" title='y' data-type='int' data-ref="81y">y</dfn>, <dfn class="local col2 decl" id="82width" title='width' data-type='int' data-ref="82width">width</dfn> = <a class="local col6 ref" href="#76_flow" title='_flow' data-ref="76_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>, <dfn class="local col3 decl" id="83height" title='height' data-type='int' data-ref="83height">height</dfn> = <a class="local col6 ref" href="#76_flow" title='_flow' data-ref="76_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>;</td></tr>
<tr><th id="299">299</th><td>    <em>int</em> <dfn class="local col4 decl" id="84m" title='m' data-type='int' data-ref="84m">m</dfn> = <a class="local col8 ref" href="#78block_size" title='block_size' data-ref="78block_size">block_size</a>/<var>2</var>;</td></tr>
<tr><th id="300">300</th><td>    <em>int</em> <dfn class="local col5 decl" id="85y0" title='y0' data-type='int' data-ref="85y0">y0</dfn> = <var>0</var>, <dfn class="local col6 decl" id="86y1" title='y1' data-type='int' data-ref="86y1">y1</dfn>;</td></tr>
<tr><th id="301">301</th><td>    <em>int</em> <dfn class="local col7 decl" id="87min_update_stripe" title='min_update_stripe' data-type='int' data-ref="87min_update_stripe">min_update_stripe</dfn> = <span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>((<var>1</var> &lt;&lt; <var>10</var>)/<a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>, <a class="local col8 ref" href="#78block_size" title='block_size' data-ref="78block_size">block_size</a>);</td></tr>
<tr><th id="302">302</th><td>    <em>double</em> <dfn class="local col8 decl" id="88scale" title='scale' data-type='double' data-ref="88scale">scale</dfn> = <var>1.</var>/(<a class="local col8 ref" href="#78block_size" title='block_size' data-ref="78block_size">block_size</a>*<a class="local col8 ref" href="#78block_size" title='block_size' data-ref="78block_size">block_size</a>);</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::AutoBuffer" title='cv::AutoBuffer' data-ref="cv::AutoBuffer">AutoBuffer</a>&lt;<em>double</em>&gt; <dfn class="local col9 decl" id="89_vsum" title='_vsum' data-type='AutoBuffer&lt;double&gt;' data-ref="89_vsum">_vsum</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a>(<a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>*<var>2</var>+<var>2</var>)*<var>5</var>);</td></tr>
<tr><th id="305">305</th><td>    <em>double</em>* <dfn class="local col0 decl" id="90vsum" title='vsum' data-type='double *' data-ref="90vsum">vsum</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col9 ref" href="#89_vsum" title='_vsum' data-ref="89_vsum">_vsum</a> + (<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>1</var>)*<var>5</var>;</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td>    <i>// init vsum</i></td></tr>
<tr><th id="308">308</th><td>    <em>const</em> <em>float</em>* <dfn class="local col1 decl" id="91srow0" title='srow0' data-type='const float *' data-ref="91srow0">srow0</dfn> = (<em>const</em> <em>float</em>*)<a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a>;</td></tr>
<tr><th id="309">309</th><td>    <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>0</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; <a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>*<var>5</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="310">310</th><td>        <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] = <a class="local col1 ref" href="#91srow0" title='srow0' data-ref="91srow0">srow0</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td>    <b>for</b>( <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> = <var>1</var>; <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> &lt; <a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>; <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>++ )</td></tr>
<tr><th id="313">313</th><td>    {</td></tr>
<tr><th id="314">314</th><td>        <a class="local col1 ref" href="#91srow0" title='srow0' data-ref="91srow0">srow0</a> = (<em>float</em>*)(<a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3minRKT_S1_" title='std::min' data-ref="_ZSt3minRKT_S1_">min</a>(<a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>,<a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a>-<var>1</var>));</td></tr>
<tr><th id="315">315</th><td>        <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>0</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; <a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>*<var>5</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="316">316</th><td>            <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] += <a class="local col1 ref" href="#91srow0" title='srow0' data-ref="91srow0">srow0</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>];</td></tr>
<tr><th id="317">317</th><td>    }</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>    <i>// compute blur(G)*flow=blur(h)</i></td></tr>
<tr><th id="320">320</th><td>    <b>for</b>( <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> = <var>0</var>; <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> &lt; <a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a>; <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>++ )</td></tr>
<tr><th id="321">321</th><td>    {</td></tr>
<tr><th id="322">322</th><td>        <em>double</em> <dfn class="local col2 decl" id="92g11" title='g11' data-type='double' data-ref="92g11">g11</dfn>, <dfn class="local col3 decl" id="93g12" title='g12' data-type='double' data-ref="93g12">g12</dfn>, <dfn class="local col4 decl" id="94g22" title='g22' data-type='double' data-ref="94g22">g22</dfn>, <dfn class="local col5 decl" id="95h1" title='h1' data-type='double' data-ref="95h1">h1</dfn>, <dfn class="local col6 decl" id="96h2" title='h2' data-type='double' data-ref="96h2">h2</dfn>;</td></tr>
<tr><th id="323">323</th><td>        <em>float</em>* <dfn class="local col7 decl" id="97flow" title='flow' data-type='float *' data-ref="97flow">flow</dfn> = (<em>float</em>*)(<a class="local col6 ref" href="#76_flow" title='_flow' data-ref="76_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col6 ref" href="#76_flow" title='_flow' data-ref="76_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>);</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td>        <a class="local col1 ref" href="#91srow0" title='srow0' data-ref="91srow0">srow0</a> = (<em>const</em> <em>float</em>*)(<a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>(<a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>-<var>1</var>,<var>0</var>));</td></tr>
<tr><th id="326">326</th><td>        <em>const</em> <em>float</em>* <dfn class="local col8 decl" id="98srow1" title='srow1' data-type='const float *' data-ref="98srow1">srow1</dfn> = (<em>const</em> <em>float</em>*)(<a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3minRKT_S1_" title='std::min' data-ref="_ZSt3minRKT_S1_">min</a>(<a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>,<a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a>-<var>1</var>));</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>        <i>// vertical blur</i></td></tr>
<tr><th id="329">329</th><td>        <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>0</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; <a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>*<var>5</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="330">330</th><td>            <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] += <a class="local col8 ref" href="#98srow1" title='srow1' data-ref="98srow1">srow1</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] - <a class="local col1 ref" href="#91srow0" title='srow0' data-ref="91srow0">srow0</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>];</td></tr>
<tr><th id="331">331</th><td></td></tr>
<tr><th id="332">332</th><td>        <i>// update borders</i></td></tr>
<tr><th id="333">333</th><td>        <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>0</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; (<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>1</var>)*<var>5</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="334">334</th><td>        {</td></tr>
<tr><th id="335">335</th><td>            <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[-<var>1</var>-<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>4</var>-<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>];</td></tr>
<tr><th id="336">336</th><td>            <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>*<var>5</var>+<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>] = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>*<var>5</var>+<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<var>5</var>];</td></tr>
<tr><th id="337">337</th><td>        }</td></tr>
<tr><th id="338">338</th><td></td></tr>
<tr><th id="339">339</th><td>        <i>// init g** and h*</i></td></tr>
<tr><th id="340">340</th><td>        <a class="local col2 ref" href="#92g11" title='g11' data-ref="92g11">g11</a> = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>0</var>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="341">341</th><td>        <a class="local col3 ref" href="#93g12" title='g12' data-ref="93g12">g12</a> = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>1</var>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="342">342</th><td>        <a class="local col4 ref" href="#94g22" title='g22' data-ref="94g22">g22</a> = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>2</var>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="343">343</th><td>        <a class="local col5 ref" href="#95h1" title='h1' data-ref="95h1">h1</a> = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>3</var>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="344">344</th><td>        <a class="local col6 ref" href="#96h2" title='h2' data-ref="96h2">h2</a> = <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<var>4</var>]*(<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>+<var>2</var>);</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td>        <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>1</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; <a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="347">347</th><td>        {</td></tr>
<tr><th id="348">348</th><td>            <a class="local col2 ref" href="#92g11" title='g11' data-ref="92g11">g11</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>5</var>];</td></tr>
<tr><th id="349">349</th><td>            <a class="local col3 ref" href="#93g12" title='g12' data-ref="93g12">g12</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>5</var>+<var>1</var>];</td></tr>
<tr><th id="350">350</th><td>            <a class="local col4 ref" href="#94g22" title='g22' data-ref="94g22">g22</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>5</var>+<var>2</var>];</td></tr>
<tr><th id="351">351</th><td>            <a class="local col5 ref" href="#95h1" title='h1' data-ref="95h1">h1</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>5</var>+<var>3</var>];</td></tr>
<tr><th id="352">352</th><td>            <a class="local col6 ref" href="#96h2" title='h2' data-ref="96h2">h2</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>5</var>+<var>4</var>];</td></tr>
<tr><th id="353">353</th><td>        }</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>        <i>// horizontal blur</i></td></tr>
<tr><th id="356">356</th><td>        <b>for</b>( <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> = <var>0</var>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a> &lt; <a class="local col2 ref" href="#82width" title='width' data-ref="82width">width</a>; <a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>++ )</td></tr>
<tr><th id="357">357</th><td>        {</td></tr>
<tr><th id="358">358</th><td>            <a class="local col2 ref" href="#92g11" title='g11' data-ref="92g11">g11</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var>] - <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> - <var>5</var>];</td></tr>
<tr><th id="359">359</th><td>            <a class="local col3 ref" href="#93g12" title='g12' data-ref="93g12">g12</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> + <var>1</var>] - <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> - <var>4</var>];</td></tr>
<tr><th id="360">360</th><td>            <a class="local col4 ref" href="#94g22" title='g22' data-ref="94g22">g22</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> + <var>2</var>] - <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> - <var>3</var>];</td></tr>
<tr><th id="361">361</th><td>            <a class="local col5 ref" href="#95h1" title='h1' data-ref="95h1">h1</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> + <var>3</var>] - <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> - <var>2</var>];</td></tr>
<tr><th id="362">362</th><td>            <a class="local col6 ref" href="#96h2" title='h2' data-ref="96h2">h2</a> += <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>+<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> + <var>4</var>] - <a class="local col0 ref" href="#90vsum" title='vsum' data-ref="90vsum">vsum</a>[(<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>-<a class="local col4 ref" href="#84m" title='m' data-ref="84m">m</a>)*<var>5</var> - <var>1</var>];</td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td>            <em>double</em> <dfn class="local col9 decl" id="99g11_" title='g11_' data-type='double' data-ref="99g11_">g11_</dfn> = <a class="local col2 ref" href="#92g11" title='g11' data-ref="92g11">g11</a>*<a class="local col8 ref" href="#88scale" title='scale' data-ref="88scale">scale</a>;</td></tr>
<tr><th id="365">365</th><td>            <em>double</em> <dfn class="local col0 decl" id="100g12_" title='g12_' data-type='double' data-ref="100g12_">g12_</dfn> = <a class="local col3 ref" href="#93g12" title='g12' data-ref="93g12">g12</a>*<a class="local col8 ref" href="#88scale" title='scale' data-ref="88scale">scale</a>;</td></tr>
<tr><th id="366">366</th><td>            <em>double</em> <dfn class="local col1 decl" id="101g22_" title='g22_' data-type='double' data-ref="101g22_">g22_</dfn> = <a class="local col4 ref" href="#94g22" title='g22' data-ref="94g22">g22</a>*<a class="local col8 ref" href="#88scale" title='scale' data-ref="88scale">scale</a>;</td></tr>
<tr><th id="367">367</th><td>            <em>double</em> <dfn class="local col2 decl" id="102h1_" title='h1_' data-type='double' data-ref="102h1_">h1_</dfn> = <a class="local col5 ref" href="#95h1" title='h1' data-ref="95h1">h1</a>*<a class="local col8 ref" href="#88scale" title='scale' data-ref="88scale">scale</a>;</td></tr>
<tr><th id="368">368</th><td>            <em>double</em> <dfn class="local col3 decl" id="103h2_" title='h2_' data-type='double' data-ref="103h2_">h2_</dfn> = <a class="local col6 ref" href="#96h2" title='h2' data-ref="96h2">h2</a>*<a class="local col8 ref" href="#88scale" title='scale' data-ref="88scale">scale</a>;</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td>            <em>double</em> <dfn class="local col4 decl" id="104idet" title='idet' data-type='double' data-ref="104idet">idet</dfn> = <var>1.</var>/(<a class="local col9 ref" href="#99g11_" title='g11_' data-ref="99g11_">g11_</a>*<a class="local col1 ref" href="#101g22_" title='g22_' data-ref="101g22_">g22_</a> - <a class="local col0 ref" href="#100g12_" title='g12_' data-ref="100g12_">g12_</a>*<a class="local col0 ref" href="#100g12_" title='g12_' data-ref="100g12_">g12_</a>+<var>1e-3</var>);</td></tr>
<tr><th id="371">371</th><td></td></tr>
<tr><th id="372">372</th><td>            <a class="local col7 ref" href="#97flow" title='flow' data-ref="97flow">flow</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>2</var>] = (<em>float</em>)((<a class="local col9 ref" href="#99g11_" title='g11_' data-ref="99g11_">g11_</a>*<a class="local col3 ref" href="#103h2_" title='h2_' data-ref="103h2_">h2_</a>-<a class="local col0 ref" href="#100g12_" title='g12_' data-ref="100g12_">g12_</a>*<a class="local col2 ref" href="#102h1_" title='h1_' data-ref="102h1_">h1_</a>)*<a class="local col4 ref" href="#104idet" title='idet' data-ref="104idet">idet</a>);</td></tr>
<tr><th id="373">373</th><td>            <a class="local col7 ref" href="#97flow" title='flow' data-ref="97flow">flow</a>[<a class="local col0 ref" href="#80x" title='x' data-ref="80x">x</a>*<var>2</var>+<var>1</var>] = (<em>float</em>)((<a class="local col1 ref" href="#101g22_" title='g22_' data-ref="101g22_">g22_</a>*<a class="local col2 ref" href="#102h1_" title='h1_' data-ref="102h1_">h1_</a>-<a class="local col0 ref" href="#100g12_" title='g12_' data-ref="100g12_">g12_</a>*<a class="local col3 ref" href="#103h2_" title='h2_' data-ref="103h2_">h2_</a>)*<a class="local col4 ref" href="#104idet" title='idet' data-ref="104idet">idet</a>);</td></tr>
<tr><th id="374">374</th><td>        }</td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td>        <a class="local col6 ref" href="#86y1" title='y1' data-ref="86y1">y1</a> = <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> == <a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a> - <var>1</var> ? <a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a> : <a class="local col1 ref" href="#81y" title='y' data-ref="81y">y</a> - <a class="local col8 ref" href="#78block_size" title='block_size' data-ref="78block_size">block_size</a>;</td></tr>
<tr><th id="377">377</th><td>        <b>if</b>( <a class="local col9 ref" href="#79update_matrices" title='update_matrices' data-ref="79update_matrices">update_matrices</a> &amp;&amp; (<a class="local col6 ref" href="#86y1" title='y1' data-ref="86y1">y1</a> == <a class="local col3 ref" href="#83height" title='height' data-ref="83height">height</a> || <a class="local col6 ref" href="#86y1" title='y1' data-ref="86y1">y1</a> &gt;= <a class="local col5 ref" href="#85y0" title='y0' data-ref="85y0">y0</a> + <a class="local col7 ref" href="#87min_update_stripe" title='min_update_stripe' data-ref="87min_update_stripe">min_update_stripe</a>) )</td></tr>
<tr><th id="378">378</th><td>        {</td></tr>
<tr><th id="379">379</th><td>            <a class="tu ref" href="#_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii" title='cv::FarnebackUpdateMatrices' data-use='c' data-ref="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">FarnebackUpdateMatrices</a>( <a class="local col4 ref" href="#74_R0" title='_R0' data-ref="74_R0">_R0</a>, <a class="local col5 ref" href="#75_R1" title='_R1' data-ref="75_R1">_R1</a>, <a class="local col6 ref" href="#76_flow" title='_flow' data-ref="76_flow">_flow</a>, <span class='refarg'><a class="local col7 ref" href="#77matM" title='matM' data-ref="77matM">matM</a></span>, <a class="local col5 ref" href="#85y0" title='y0' data-ref="85y0">y0</a>, <a class="local col6 ref" href="#86y1" title='y1' data-ref="86y1">y1</a> );</td></tr>
<tr><th id="380">380</th><td>            <a class="local col5 ref" href="#85y0" title='y0' data-ref="85y0">y0</a> = <a class="local col6 ref" href="#86y1" title='y1' data-ref="86y1">y1</a>;</td></tr>
<tr><th id="381">381</th><td>        }</td></tr>
<tr><th id="382">382</th><td>    }</td></tr>
<tr><th id="383">383</th><td>}</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="387">387</th><td><dfn class="tu decl def" id="_ZN2cvL32FarnebackUpdateFlow_GaussianBlurERKNS_3MatES2_RS0_S3_ib" title='cv::FarnebackUpdateFlow_GaussianBlur' data-type='void cv::FarnebackUpdateFlow_GaussianBlur(const cv::Mat &amp; _R0, const cv::Mat &amp; _R1, cv::Mat &amp; _flow, cv::Mat &amp; matM, int block_size, bool update_matrices)' data-ref="_ZN2cvL32FarnebackUpdateFlow_GaussianBlurERKNS_3MatES2_RS0_S3_ib">FarnebackUpdateFlow_GaussianBlur</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col5 decl" id="105_R0" title='_R0' data-type='const cv::Mat &amp;' data-ref="105_R0">_R0</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col6 decl" id="106_R1" title='_R1' data-type='const cv::Mat &amp;' data-ref="106_R1">_R1</dfn>,</td></tr>
<tr><th id="388">388</th><td>                                  <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col7 decl" id="107_flow" title='_flow' data-type='cv::Mat &amp;' data-ref="107_flow">_flow</dfn>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col8 decl" id="108matM" title='matM' data-type='cv::Mat &amp;' data-ref="108matM">matM</dfn>, <em>int</em> <dfn class="local col9 decl" id="109block_size" title='block_size' data-type='int' data-ref="109block_size">block_size</dfn>,</td></tr>
<tr><th id="389">389</th><td>                                  <em>bool</em> <dfn class="local col0 decl" id="110update_matrices" title='update_matrices' data-type='bool' data-ref="110update_matrices">update_matrices</dfn> )</td></tr>
<tr><th id="390">390</th><td>{</td></tr>
<tr><th id="391">391</th><td>    <em>int</em> <dfn class="local col1 decl" id="111x" title='x' data-type='int' data-ref="111x">x</dfn>, <dfn class="local col2 decl" id="112y" title='y' data-type='int' data-ref="112y">y</dfn>, <dfn class="local col3 decl" id="113i" title='i' data-type='int' data-ref="113i">i</dfn>, <dfn class="local col4 decl" id="114width" title='width' data-type='int' data-ref="114width">width</dfn> = <a class="local col7 ref" href="#107_flow" title='_flow' data-ref="107_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>, <dfn class="local col5 decl" id="115height" title='height' data-type='int' data-ref="115height">height</dfn> = <a class="local col7 ref" href="#107_flow" title='_flow' data-ref="107_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>;</td></tr>
<tr><th id="392">392</th><td>    <em>int</em> <dfn class="local col6 decl" id="116m" title='m' data-type='int' data-ref="116m">m</dfn> = <a class="local col9 ref" href="#109block_size" title='block_size' data-ref="109block_size">block_size</a>/<var>2</var>;</td></tr>
<tr><th id="393">393</th><td>    <em>int</em> <dfn class="local col7 decl" id="117y0" title='y0' data-type='int' data-ref="117y0">y0</dfn> = <var>0</var>, <dfn class="local col8 decl" id="118y1" title='y1' data-type='int' data-ref="118y1">y1</dfn>;</td></tr>
<tr><th id="394">394</th><td>    <em>int</em> <dfn class="local col9 decl" id="119min_update_stripe" title='min_update_stripe' data-type='int' data-ref="119min_update_stripe">min_update_stripe</dfn> = <span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>((<var>1</var> &lt;&lt; <var>10</var>)/<a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>, <a class="local col9 ref" href="#109block_size" title='block_size' data-ref="109block_size">block_size</a>);</td></tr>
<tr><th id="395">395</th><td>    <em>double</em> <dfn class="local col0 decl" id="120sigma" title='sigma' data-type='double' data-ref="120sigma">sigma</dfn> = <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>*<var>0.3</var>, <dfn class="local col1 decl" id="121s" title='s' data-type='double' data-ref="121s">s</dfn> = <var>1</var>;</td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::AutoBuffer" title='cv::AutoBuffer' data-ref="cv::AutoBuffer">AutoBuffer</a>&lt;<em>float</em>&gt; <dfn class="local col2 decl" id="122_vsum" title='_vsum' data-type='AutoBuffer&lt;float&gt;' data-ref="122_vsum">_vsum</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a>(<a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>+<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>*<var>2</var>+<var>2</var>)*<var>5</var> + <var>16</var>), <dfn class="local col3 decl" id="123_hsum" title='_hsum' data-type='AutoBuffer&lt;float&gt;' data-ref="123_hsum">_hsum</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a><a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var> + <var>16</var>);</td></tr>
<tr><th id="398">398</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::AutoBuffer" title='cv::AutoBuffer' data-ref="cv::AutoBuffer">AutoBuffer</a>&lt;<em>float</em>, <var>4096</var>&gt; <dfn class="local col4 decl" id="124_kernel" title='_kernel' data-type='AutoBuffer&lt;float, 4096&gt;' data-ref="124_kernel">_kernel</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a>(<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<var>1</var>)*<var>5</var> + <var>16</var>);</td></tr>
<tr><th id="399">399</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::AutoBuffer" title='cv::AutoBuffer' data-ref="cv::AutoBuffer">AutoBuffer</a>&lt;<em>float</em>*, <var>1024</var>&gt; <dfn class="local col5 decl" id="125_srow" title='_srow' data-type='AutoBuffer&lt;float *, 1024&gt;' data-ref="125_srow">_srow</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBufferC1Em" title='cv::AutoBuffer::AutoBuffer&lt;_Tp, fixed_size&gt;' data-ref="_ZN2cv10AutoBufferC1Em">(</a><a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>*<var>2</var>+<var>1</var>);</td></tr>
<tr><th id="400">400</th><td>    <em>float</em> *<dfn class="local col6 decl" id="126vsum" title='vsum' data-type='float *' data-ref="126vsum">vsum</dfn> = <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cvL8alignPtrEPT_i" title='cv::alignPtr' data-ref="_ZN2cvL8alignPtrEPT_i">alignPtr</a>((<em>float</em>*)<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col2 ref" href="#122_vsum" title='_vsum' data-ref="122_vsum">_vsum</a> + (<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<var>1</var>)*<var>5</var>, <var>16</var>), *<dfn class="local col7 decl" id="127hsum" title='hsum' data-type='float *' data-ref="127hsum">hsum</dfn> = <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cvL8alignPtrEPT_i" title='cv::alignPtr' data-ref="_ZN2cvL8alignPtrEPT_i">alignPtr</a>((<em>float</em>*)<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col3 ref" href="#123_hsum" title='_hsum' data-ref="123_hsum">_hsum</a>, <var>16</var>);</td></tr>
<tr><th id="401">401</th><td>    <em>float</em>* <dfn class="local col8 decl" id="128kernel" title='kernel' data-type='float *' data-ref="128kernel">kernel</dfn> = (<em>float</em>*)<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col4 ref" href="#124_kernel" title='_kernel' data-ref="124_kernel">_kernel</a>;</td></tr>
<tr><th id="402">402</th><td>    <em>const</em> <em>float</em>** <dfn class="local col9 decl" id="129srow" title='srow' data-type='const float **' data-ref="129srow">srow</dfn> = (<em>const</em> <em>float</em>**)&amp;<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10AutoBuffercvPT_Ev" title='cv::AutoBuffer::operator type-parameter-0-0 *' data-ref="_ZN2cv10AutoBuffercvPT_Ev"></a><a class="local col5 ref" href="#125_srow" title='_srow' data-ref="125_srow">_srow</a>[<var>0</var>];</td></tr>
<tr><th id="403">403</th><td>    <a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<var>0</var>] = (<em>float</em>)<a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a>;</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td>    <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="406">406</th><td>    {</td></tr>
<tr><th id="407">407</th><td>        <em>float</em> <dfn class="local col0 decl" id="130t" title='t' data-type='float' data-ref="130t">t</dfn> = (<em>float</em>)<span class="namespace">std::</span><a class="ref" href="../../../../include/x86_64-linux-gnu/bits/mathcalls.h.html#100" title='exp' data-ref="exp">exp</a>(-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>/(<var>2</var>*<a class="local col0 ref" href="#120sigma" title='sigma' data-ref="120sigma">sigma</a>*<a class="local col0 ref" href="#120sigma" title='sigma' data-ref="120sigma">sigma</a>) );</td></tr>
<tr><th id="408">408</th><td>        <a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>] = <a class="local col0 ref" href="#130t" title='t' data-ref="130t">t</a>;</td></tr>
<tr><th id="409">409</th><td>        <a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a> += <a class="local col0 ref" href="#130t" title='t' data-ref="130t">t</a>*<var>2</var>;</td></tr>
<tr><th id="410">410</th><td>    }</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td>    <a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a> = <var>1.</var>/<a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a>;</td></tr>
<tr><th id="413">413</th><td>    <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>0</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="414">414</th><td>        <a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>] = (<em>float</em>)(<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>]*<a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a>);</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td><u>#<span data-ppcond="416">if</span> <a class="macro" href="../../core/include/opencv2/core/internal.hpp.html#120" title="1" data-ref="_M/CV_SSE2">CV_SSE2</a></u></td></tr>
<tr><th id="417">417</th><td>    <em>float</em>* <dfn class="local col1 decl" id="131simd_kernel" title='simd_kernel' data-type='float *' data-ref="131simd_kernel">simd_kernel</dfn> = <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cvL8alignPtrEPT_i" title='cv::alignPtr' data-ref="_ZN2cvL8alignPtrEPT_i">alignPtr</a>(<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a> + <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<var>1</var>, <var>16</var>);</td></tr>
<tr><th id="418">418</th><td>    <em>volatile</em> <em>bool</em> <dfn class="local col2 decl" id="132useSIMD" title='useSIMD' data-type='volatile bool' data-ref="132useSIMD">useSIMD</dfn> = <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv20checkHardwareSupportEi" title='cv::checkHardwareSupport' data-ref="_ZN2cv20checkHardwareSupportEi">checkHardwareSupport</a>(<a class="macro" href="../../core/include/opencv2/core/core_c.h.html#1701" title="2" data-ref="_M/CV_CPU_SSE">CV_CPU_SSE</a>);</td></tr>
<tr><th id="419">419</th><td>    <b>if</b>( <a class="local col2 ref" href="#132useSIMD" title='useSIMD' data-ref="132useSIMD">useSIMD</a> )</td></tr>
<tr><th id="420">420</th><td>    {</td></tr>
<tr><th id="421">421</th><td>        <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>0</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="422">422</th><td>            <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>4</var>, <span class='ref' title='_mm_set1_ps' data-ref="_ZL11_mm_set1_psf">_mm_set1_ps</span>(<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>]));</td></tr>
<tr><th id="423">423</th><td>    }</td></tr>
<tr><th id="424">424</th><td><u>#<span data-ppcond="416">endif</span></u></td></tr>
<tr><th id="425">425</th><td></td></tr>
<tr><th id="426">426</th><td>    <i>// compute blur(G)*flow=blur(h)</i></td></tr>
<tr><th id="427">427</th><td>    <b>for</b>( <a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a> = <var>0</var>; <a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a> &lt; <a class="local col5 ref" href="#115height" title='height' data-ref="115height">height</a>; <a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a>++ )</td></tr>
<tr><th id="428">428</th><td>    {</td></tr>
<tr><th id="429">429</th><td>        <em>double</em> <dfn class="local col3 decl" id="133g11" title='g11' data-type='double' data-ref="133g11">g11</dfn>, <dfn class="local col4 decl" id="134g12" title='g12' data-type='double' data-ref="134g12">g12</dfn>, <dfn class="local col5 decl" id="135g22" title='g22' data-type='double' data-ref="135g22">g22</dfn>, <dfn class="local col6 decl" id="136h1" title='h1' data-type='double' data-ref="136h1">h1</dfn>, <dfn class="local col7 decl" id="137h2" title='h2' data-type='double' data-ref="137h2">h2</dfn>;</td></tr>
<tr><th id="430">430</th><td>        <em>float</em>* <dfn class="local col8 decl" id="138flow" title='flow' data-type='float *' data-ref="138flow">flow</dfn> = (<em>float</em>*)(<a class="local col7 ref" href="#107_flow" title='_flow' data-ref="107_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col7 ref" href="#107_flow" title='_flow' data-ref="107_flow">_flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a>);</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td>        <i>// vertical blur</i></td></tr>
<tr><th id="433">433</th><td>        <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>0</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="434">434</th><td>        {</td></tr>
<tr><th id="435">435</th><td>            <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>] = (<em>const</em> <em>float</em>*)(<a class="local col8 ref" href="#108matM" title='matM' data-ref="108matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col8 ref" href="#108matM" title='matM' data-ref="108matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>(<a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a>-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>,<var>0</var>));</td></tr>
<tr><th id="436">436</th><td>            <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>] = (<em>const</em> <em>float</em>*)(<a class="local col8 ref" href="#108matM" title='matM' data-ref="108matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> + <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MStepcvmEv" title='cv::Mat::MStep::operator unsigned long' data-ref="_ZNK2cv3Mat5MStepcvmEv"></a><a class="local col8 ref" href="#108matM" title='matM' data-ref="108matM">matM</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::step" title='cv::Mat::step' data-ref="cv::Mat::step">step</a>*<span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3minRKT_S1_" title='std::min' data-ref="_ZSt3minRKT_S1_">min</a>(<a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a>+<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>,<a class="local col5 ref" href="#115height" title='height' data-ref="115height">height</a>-<var>1</var>));</td></tr>
<tr><th id="437">437</th><td>        }</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>        <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> = <var>0</var>;</td></tr>
<tr><th id="440">440</th><td><u>#<span data-ppcond="440">if</span> <a class="macro" href="../../core/include/opencv2/core/internal.hpp.html#120" title="1" data-ref="_M/CV_SSE2">CV_SSE2</a></u></td></tr>
<tr><th id="441">441</th><td>        <b>if</b>( <a class="local col2 ref" href="#132useSIMD" title='useSIMD' data-ref="132useSIMD">useSIMD</a> )</td></tr>
<tr><th id="442">442</th><td>        {</td></tr>
<tr><th id="443">443</th><td>            <b>for</b>( ; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt;= <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var> - <var>16</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> += <var>16</var> )</td></tr>
<tr><th id="444">444</th><td>            {</td></tr>
<tr><th id="445">445</th><td>                <em>const</em> <em>float</em> *<dfn class="local col9 decl" id="139sptr0" title='sptr0' data-type='const float *' data-ref="139sptr0">sptr0</dfn> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>], *<dfn class="local col0 decl" id="140sptr1" title='sptr1' data-type='const float *' data-ref="140sptr1">sptr1</dfn>;</td></tr>
<tr><th id="446">446</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col1 decl" id="141g4" title='g4' data-type='__m128' data-ref="141g4">g4</dfn> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a>);</td></tr>
<tr><th id="447">447</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col2 decl" id="142s0" title='s0' data-type='__m128' data-ref="142s0">s0</dfn>, <dfn class="local col3 decl" id="143s1" title='s1' data-type='__m128' data-ref="143s1">s1</dfn>, <dfn class="local col4 decl" id="144s2" title='s2' data-type='__m128' data-ref="144s2">s2</dfn>, <dfn class="local col5 decl" id="145s3" title='s3' data-type='__m128' data-ref="145s3">s3</dfn>;</td></tr>
<tr><th id="448">448</th><td>                <a class="local col2 ref" href="#142s0" title='s0' data-ref="142s0">s0</a> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>), <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>);</td></tr>
<tr><th id="449">449</th><td>                <a class="local col3 ref" href="#143s1" title='s1' data-ref="143s1">s1</a> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>), <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>);</td></tr>
<tr><th id="450">450</th><td>                <a class="local col4 ref" href="#144s2" title='s2' data-ref="144s2">s2</a> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>8</var>), <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>);</td></tr>
<tr><th id="451">451</th><td>                <a class="local col5 ref" href="#145s3" title='s3' data-ref="145s3">s3</a> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>12</var>), <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>);</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td>                <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="454">454</th><td>                {</td></tr>
<tr><th id="455">455</th><td>                    <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col6 decl" id="146x0" title='x0' data-type='__m128' data-ref="146x0">x0</dfn>, <dfn class="local col7 decl" id="147x1" title='x1' data-type='__m128' data-ref="147x1">x1</dfn>;</td></tr>
<tr><th id="456">456</th><td>                    <a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>], <a class="local col0 ref" href="#140sptr1" title='sptr1' data-ref="140sptr1">sptr1</a> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>];</td></tr>
<tr><th id="457">457</th><td>                    <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>4</var>);</td></tr>
<tr><th id="458">458</th><td>                    <a class="local col6 ref" href="#146x0" title='x0' data-ref="146x0">x0</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>), <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col0 ref" href="#140sptr1" title='sptr1' data-ref="140sptr1">sptr1</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>));</td></tr>
<tr><th id="459">459</th><td>                    <a class="local col7 ref" href="#147x1" title='x1' data-ref="147x1">x1</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>), <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col0 ref" href="#140sptr1" title='sptr1' data-ref="140sptr1">sptr1</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>));</td></tr>
<tr><th id="460">460</th><td>                    <a class="local col2 ref" href="#142s0" title='s0' data-ref="142s0">s0</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col2 ref" href="#142s0" title='s0' data-ref="142s0">s0</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col6 ref" href="#146x0" title='x0' data-ref="146x0">x0</a>, <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>));</td></tr>
<tr><th id="461">461</th><td>                    <a class="local col3 ref" href="#143s1" title='s1' data-ref="143s1">s1</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col3 ref" href="#143s1" title='s1' data-ref="143s1">s1</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col7 ref" href="#147x1" title='x1' data-ref="147x1">x1</a>, <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>));</td></tr>
<tr><th id="462">462</th><td>                    <a class="local col6 ref" href="#146x0" title='x0' data-ref="146x0">x0</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>8</var>), <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col0 ref" href="#140sptr1" title='sptr1' data-ref="140sptr1">sptr1</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>8</var>));</td></tr>
<tr><th id="463">463</th><td>                    <a class="local col7 ref" href="#147x1" title='x1' data-ref="147x1">x1</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#139sptr0" title='sptr0' data-ref="139sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>12</var>), <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col0 ref" href="#140sptr1" title='sptr1' data-ref="140sptr1">sptr1</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>12</var>));</td></tr>
<tr><th id="464">464</th><td>                    <a class="local col4 ref" href="#144s2" title='s2' data-ref="144s2">s2</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col4 ref" href="#144s2" title='s2' data-ref="144s2">s2</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col6 ref" href="#146x0" title='x0' data-ref="146x0">x0</a>, <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>));</td></tr>
<tr><th id="465">465</th><td>                    <a class="local col5 ref" href="#145s3" title='s3' data-ref="145s3">s3</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col5 ref" href="#145s3" title='s3' data-ref="145s3">s3</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col7 ref" href="#147x1" title='x1' data-ref="147x1">x1</a>, <a class="local col1 ref" href="#141g4" title='g4' data-ref="141g4">g4</a>));</td></tr>
<tr><th id="466">466</th><td>                }</td></tr>
<tr><th id="467">467</th><td></td></tr>
<tr><th id="468">468</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>, <a class="local col2 ref" href="#142s0" title='s0' data-ref="142s0">s0</a>);</td></tr>
<tr><th id="469">469</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>, <a class="local col3 ref" href="#143s1" title='s1' data-ref="143s1">s1</a>);</td></tr>
<tr><th id="470">470</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>8</var>, <a class="local col4 ref" href="#144s2" title='s2' data-ref="144s2">s2</a>);</td></tr>
<tr><th id="471">471</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>12</var>, <a class="local col5 ref" href="#145s3" title='s3' data-ref="145s3">s3</a>);</td></tr>
<tr><th id="472">472</th><td>            }</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td>            <b>for</b>( ; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt;= <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var> - <var>4</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> += <var>4</var> )</td></tr>
<tr><th id="475">475</th><td>            {</td></tr>
<tr><th id="476">476</th><td>                <em>const</em> <em>float</em> *<dfn class="local col8 decl" id="148sptr0" title='sptr0' data-type='const float *' data-ref="148sptr0">sptr0</dfn> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>], *<dfn class="local col9 decl" id="149sptr1" title='sptr1' data-type='const float *' data-ref="149sptr1">sptr1</dfn>;</td></tr>
<tr><th id="477">477</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col0 decl" id="150g4" title='g4' data-type='__m128' data-ref="150g4">g4</dfn> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a>);</td></tr>
<tr><th id="478">478</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col1 decl" id="151s0" title='s0' data-type='__m128' data-ref="151s0">s0</dfn> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col8 ref" href="#148sptr0" title='sptr0' data-ref="148sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>), <a class="local col0 ref" href="#150g4" title='g4' data-ref="150g4">g4</a>);</td></tr>
<tr><th id="479">479</th><td></td></tr>
<tr><th id="480">480</th><td>                <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="481">481</th><td>                {</td></tr>
<tr><th id="482">482</th><td>                    <a class="local col8 ref" href="#148sptr0" title='sptr0' data-ref="148sptr0">sptr0</a> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>], <a class="local col9 ref" href="#149sptr1" title='sptr1' data-ref="149sptr1">sptr1</a> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>];</td></tr>
<tr><th id="483">483</th><td>                    <a class="local col0 ref" href="#150g4" title='g4' data-ref="150g4">g4</a> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>4</var>);</td></tr>
<tr><th id="484">484</th><td>                    <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col2 decl" id="152x0" title='x0' data-type='__m128' data-ref="152x0">x0</dfn> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col8 ref" href="#148sptr0" title='sptr0' data-ref="148sptr0">sptr0</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>), <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col9 ref" href="#149sptr1" title='sptr1' data-ref="149sptr1">sptr1</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>));</td></tr>
<tr><th id="485">485</th><td>                    <a class="local col1 ref" href="#151s0" title='s0' data-ref="151s0">s0</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col1 ref" href="#151s0" title='s0' data-ref="151s0">s0</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col2 ref" href="#152x0" title='x0' data-ref="152x0">x0</a>, <a class="local col0 ref" href="#150g4" title='g4' data-ref="150g4">g4</a>));</td></tr>
<tr><th id="486">486</th><td>                }</td></tr>
<tr><th id="487">487</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>, <a class="local col1 ref" href="#151s0" title='s0' data-ref="151s0">s0</a>);</td></tr>
<tr><th id="488">488</th><td>            }</td></tr>
<tr><th id="489">489</th><td>        }</td></tr>
<tr><th id="490">490</th><td><u>#<span data-ppcond="440">endif</span></u></td></tr>
<tr><th id="491">491</th><td>        <b>for</b>( ; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt; <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>++ )</td></tr>
<tr><th id="492">492</th><td>        {</td></tr>
<tr><th id="493">493</th><td>            <em>float</em> <dfn class="local col3 decl" id="153s0" title='s0' data-type='float' data-ref="153s0">s0</dfn> = <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>][<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>]*<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<var>0</var>];</td></tr>
<tr><th id="494">494</th><td>            <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="495">495</th><td>                <a class="local col3 ref" href="#153s0" title='s0' data-ref="153s0">s0</a> += (<a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>+<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>][<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>] + <a class="local col9 ref" href="#129srow" title='srow' data-ref="129srow">srow</a>[<a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>-<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>][<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>])*<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>];</td></tr>
<tr><th id="496">496</th><td>            <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>] = <a class="local col3 ref" href="#153s0" title='s0' data-ref="153s0">s0</a>;</td></tr>
<tr><th id="497">497</th><td>        }</td></tr>
<tr><th id="498">498</th><td></td></tr>
<tr><th id="499">499</th><td>        <i>// update borders</i></td></tr>
<tr><th id="500">500</th><td>        <b>for</b>( <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> = <var>0</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt; <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>*<var>5</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>++ )</td></tr>
<tr><th id="501">501</th><td>        {</td></tr>
<tr><th id="502">502</th><td>            <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[-<var>1</var>-<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>] = <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<var>4</var>-<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>];</td></tr>
<tr><th id="503">503</th><td>            <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var>+<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>] = <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var>+<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>-<var>5</var>];</td></tr>
<tr><th id="504">504</th><td>        }</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td>        <i>// horizontal blur</i></td></tr>
<tr><th id="507">507</th><td>        <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> = <var>0</var>;</td></tr>
<tr><th id="508">508</th><td><u>#<span data-ppcond="508">if</span> <a class="macro" href="../../core/include/opencv2/core/internal.hpp.html#120" title="1" data-ref="_M/CV_SSE2">CV_SSE2</a></u></td></tr>
<tr><th id="509">509</th><td>        <b>if</b>( <a class="local col2 ref" href="#132useSIMD" title='useSIMD' data-ref="132useSIMD">useSIMD</a> )</td></tr>
<tr><th id="510">510</th><td>        {</td></tr>
<tr><th id="511">511</th><td>            <b>for</b>( ; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt;= <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var> - <var>8</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> += <var>8</var> )</td></tr>
<tr><th id="512">512</th><td>            {</td></tr>
<tr><th id="513">513</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col4 decl" id="154g4" title='g4' data-type='__m128' data-ref="154g4">g4</dfn> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a>);</td></tr>
<tr><th id="514">514</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col5 decl" id="155s0" title='s0' data-type='__m128' data-ref="155s0">s0</dfn> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>), <a class="local col4 ref" href="#154g4" title='g4' data-ref="154g4">g4</a>);</td></tr>
<tr><th id="515">515</th><td>                <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col6 decl" id="156s1" title='s1' data-type='__m128' data-ref="156s1">s1</dfn> = <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>), <a class="local col4 ref" href="#154g4" title='g4' data-ref="154g4">g4</a>);</td></tr>
<tr><th id="516">516</th><td></td></tr>
<tr><th id="517">517</th><td>                <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="518">518</th><td>                {</td></tr>
<tr><th id="519">519</th><td>                    <a class="local col4 ref" href="#154g4" title='g4' data-ref="154g4">g4</a> = <span class='ref' title='_mm_load_ps' data-ref="_ZL11_mm_load_psPKf">_mm_load_ps</span>(<a class="local col1 ref" href="#131simd_kernel" title='simd_kernel' data-ref="131simd_kernel">simd_kernel</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>4</var>);</td></tr>
<tr><th id="520">520</th><td>                    <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col7 decl" id="157x0" title='x0' data-type='__m128' data-ref="157x0">x0</dfn> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> - <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var>),</td></tr>
<tr><th id="521">521</th><td>                                           <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var>));</td></tr>
<tr><th id="522">522</th><td>                    <span class='typedef' title='__m128' data-type='__attribute__((__vector_size__(4 * sizeof(float)))) float' data-ref="__m128">__m128</span> <dfn class="local col8 decl" id="158x1" title='x1' data-type='__m128' data-ref="158x1">x1</dfn> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> - <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var> + <var>4</var>),</td></tr>
<tr><th id="523">523</th><td>                                           <span class='ref' title='_mm_loadu_ps' data-ref="_ZL12_mm_loadu_psPKf">_mm_loadu_ps</span>(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var> + <var>4</var>));</td></tr>
<tr><th id="524">524</th><td>                    <a class="local col5 ref" href="#155s0" title='s0' data-ref="155s0">s0</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col5 ref" href="#155s0" title='s0' data-ref="155s0">s0</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col7 ref" href="#157x0" title='x0' data-ref="157x0">x0</a>, <a class="local col4 ref" href="#154g4" title='g4' data-ref="154g4">g4</a>));</td></tr>
<tr><th id="525">525</th><td>                    <a class="local col6 ref" href="#156s1" title='s1' data-ref="156s1">s1</a> = <span class='ref' title='_mm_add_ps' data-ref="_ZL10_mm_add_psDv4_fS_">_mm_add_ps</span>(<a class="local col6 ref" href="#156s1" title='s1' data-ref="156s1">s1</a>, <span class='ref' title='_mm_mul_ps' data-ref="_ZL10_mm_mul_psDv4_fS_">_mm_mul_ps</span>(<a class="local col8 ref" href="#158x1" title='x1' data-ref="158x1">x1</a>, <a class="local col4 ref" href="#154g4" title='g4' data-ref="154g4">g4</a>));</td></tr>
<tr><th id="526">526</th><td>                }</td></tr>
<tr><th id="527">527</th><td></td></tr>
<tr><th id="528">528</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>, <a class="local col5 ref" href="#155s0" title='s0' data-ref="155s0">s0</a>);</td></tr>
<tr><th id="529">529</th><td>                <span class='ref' title='_mm_store_ps' data-ref="_ZL12_mm_store_psPfDv4_f">_mm_store_ps</span>(<a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a> + <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <var>4</var>, <a class="local col6 ref" href="#156s1" title='s1' data-ref="156s1">s1</a>);</td></tr>
<tr><th id="530">530</th><td>            }</td></tr>
<tr><th id="531">531</th><td>        }</td></tr>
<tr><th id="532">532</th><td><u>#<span data-ppcond="508">endif</span></u></td></tr>
<tr><th id="533">533</th><td>        <b>for</b>( ; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt; <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>*<var>5</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>++ )</td></tr>
<tr><th id="534">534</th><td>        {</td></tr>
<tr><th id="535">535</th><td>            <em>float</em> <dfn class="local col9 decl" id="159sum" title='sum' data-type='float' data-ref="159sum">sum</dfn> = <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>]*<a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<var>0</var>];</td></tr>
<tr><th id="536">536</th><td>            <b>for</b>( <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> = <var>1</var>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a> &lt;= <a class="local col6 ref" href="#116m" title='m' data-ref="116m">m</a>; <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>++ )</td></tr>
<tr><th id="537">537</th><td>                <a class="local col9 ref" href="#159sum" title='sum' data-ref="159sum">sum</a> += <a class="local col8 ref" href="#128kernel" title='kernel' data-ref="128kernel">kernel</a>[<a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>]*(<a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> - <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var>] + <a class="local col6 ref" href="#126vsum" title='vsum' data-ref="126vsum">vsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> + <a class="local col3 ref" href="#113i" title='i' data-ref="113i">i</a>*<var>5</var>]);</td></tr>
<tr><th id="538">538</th><td>            <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>] = <a class="local col9 ref" href="#159sum" title='sum' data-ref="159sum">sum</a>;</td></tr>
<tr><th id="539">539</th><td>        }</td></tr>
<tr><th id="540">540</th><td></td></tr>
<tr><th id="541">541</th><td>        <b>for</b>( <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> = <var>0</var>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a> &lt; <a class="local col4 ref" href="#114width" title='width' data-ref="114width">width</a>; <a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>++ )</td></tr>
<tr><th id="542">542</th><td>        {</td></tr>
<tr><th id="543">543</th><td>            <a class="local col3 ref" href="#133g11" title='g11' data-ref="133g11">g11</a> = <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>5</var>];</td></tr>
<tr><th id="544">544</th><td>            <a class="local col4 ref" href="#134g12" title='g12' data-ref="134g12">g12</a> = <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>5</var>+<var>1</var>];</td></tr>
<tr><th id="545">545</th><td>            <a class="local col5 ref" href="#135g22" title='g22' data-ref="135g22">g22</a> = <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>5</var>+<var>2</var>];</td></tr>
<tr><th id="546">546</th><td>            <a class="local col6 ref" href="#136h1" title='h1' data-ref="136h1">h1</a> = <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>5</var>+<var>3</var>];</td></tr>
<tr><th id="547">547</th><td>            <a class="local col7 ref" href="#137h2" title='h2' data-ref="137h2">h2</a> = <a class="local col7 ref" href="#127hsum" title='hsum' data-ref="127hsum">hsum</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>5</var>+<var>4</var>];</td></tr>
<tr><th id="548">548</th><td></td></tr>
<tr><th id="549">549</th><td>            <em>double</em> <dfn class="local col0 decl" id="160idet" title='idet' data-type='double' data-ref="160idet">idet</dfn> = <var>1.</var>/(<a class="local col3 ref" href="#133g11" title='g11' data-ref="133g11">g11</a>*<a class="local col5 ref" href="#135g22" title='g22' data-ref="135g22">g22</a> - <a class="local col4 ref" href="#134g12" title='g12' data-ref="134g12">g12</a>*<a class="local col4 ref" href="#134g12" title='g12' data-ref="134g12">g12</a> + <var>1e-3</var>);</td></tr>
<tr><th id="550">550</th><td></td></tr>
<tr><th id="551">551</th><td>            <a class="local col8 ref" href="#138flow" title='flow' data-ref="138flow">flow</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>2</var>] = (<em>float</em>)((<a class="local col3 ref" href="#133g11" title='g11' data-ref="133g11">g11</a>*<a class="local col7 ref" href="#137h2" title='h2' data-ref="137h2">h2</a>-<a class="local col4 ref" href="#134g12" title='g12' data-ref="134g12">g12</a>*<a class="local col6 ref" href="#136h1" title='h1' data-ref="136h1">h1</a>)*<a class="local col0 ref" href="#160idet" title='idet' data-ref="160idet">idet</a>);</td></tr>
<tr><th id="552">552</th><td>            <a class="local col8 ref" href="#138flow" title='flow' data-ref="138flow">flow</a>[<a class="local col1 ref" href="#111x" title='x' data-ref="111x">x</a>*<var>2</var>+<var>1</var>] = (<em>float</em>)((<a class="local col5 ref" href="#135g22" title='g22' data-ref="135g22">g22</a>*<a class="local col6 ref" href="#136h1" title='h1' data-ref="136h1">h1</a>-<a class="local col4 ref" href="#134g12" title='g12' data-ref="134g12">g12</a>*<a class="local col7 ref" href="#137h2" title='h2' data-ref="137h2">h2</a>)*<a class="local col0 ref" href="#160idet" title='idet' data-ref="160idet">idet</a>);</td></tr>
<tr><th id="553">553</th><td>        }</td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td>        <a class="local col8 ref" href="#118y1" title='y1' data-ref="118y1">y1</a> = <a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a> == <a class="local col5 ref" href="#115height" title='height' data-ref="115height">height</a> - <var>1</var> ? <a class="local col5 ref" href="#115height" title='height' data-ref="115height">height</a> : <a class="local col2 ref" href="#112y" title='y' data-ref="112y">y</a> - <a class="local col9 ref" href="#109block_size" title='block_size' data-ref="109block_size">block_size</a>;</td></tr>
<tr><th id="556">556</th><td>        <b>if</b>( <a class="local col0 ref" href="#110update_matrices" title='update_matrices' data-ref="110update_matrices">update_matrices</a> &amp;&amp; (<a class="local col8 ref" href="#118y1" title='y1' data-ref="118y1">y1</a> == <a class="local col5 ref" href="#115height" title='height' data-ref="115height">height</a> || <a class="local col8 ref" href="#118y1" title='y1' data-ref="118y1">y1</a> &gt;= <a class="local col7 ref" href="#117y0" title='y0' data-ref="117y0">y0</a> + <a class="local col9 ref" href="#119min_update_stripe" title='min_update_stripe' data-ref="119min_update_stripe">min_update_stripe</a>) )</td></tr>
<tr><th id="557">557</th><td>        {</td></tr>
<tr><th id="558">558</th><td>            <a class="tu ref" href="#_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii" title='cv::FarnebackUpdateMatrices' data-use='c' data-ref="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">FarnebackUpdateMatrices</a>( <a class="local col5 ref" href="#105_R0" title='_R0' data-ref="105_R0">_R0</a>, <a class="local col6 ref" href="#106_R1" title='_R1' data-ref="106_R1">_R1</a>, <a class="local col7 ref" href="#107_flow" title='_flow' data-ref="107_flow">_flow</a>, <span class='refarg'><a class="local col8 ref" href="#108matM" title='matM' data-ref="108matM">matM</a></span>, <a class="local col7 ref" href="#117y0" title='y0' data-ref="117y0">y0</a>, <a class="local col8 ref" href="#118y1" title='y1' data-ref="118y1">y1</a> );</td></tr>
<tr><th id="559">559</th><td>            <a class="local col7 ref" href="#117y0" title='y0' data-ref="117y0">y0</a> = <a class="local col8 ref" href="#118y1" title='y1' data-ref="118y1">y1</a>;</td></tr>
<tr><th id="560">560</th><td>        }</td></tr>
<tr><th id="561">561</th><td>    }</td></tr>
<tr><th id="562">562</th><td>}</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>}</td></tr>
<tr><th id="565">565</th><td></td></tr>
<tr><th id="566">566</th><td><em>void</em> <span class="namespace">cv::</span><dfn class="decl def" id="_ZN2cv24calcOpticalFlowFarnebackERKNS_11_InputArrayES2_RKNS_12_OutputArrayEdiiiidi" title='cv::calcOpticalFlowFarneback' data-ref="_ZN2cv24calcOpticalFlowFarnebackERKNS_11_InputArrayES2_RKNS_12_OutputArrayEdiiiidi">calcOpticalFlowFarneback</dfn>( <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::InputArray" title='cv::InputArray' data-type='const cv::_InputArray &amp;' data-ref="cv::InputArray">InputArray</a> <dfn class="local col1 decl" id="161_prev0" title='_prev0' data-type='InputArray' data-ref="161_prev0">_prev0</dfn>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::InputArray" title='cv::InputArray' data-type='const cv::_InputArray &amp;' data-ref="cv::InputArray">InputArray</a> <dfn class="local col2 decl" id="162_next0" title='_next0' data-type='InputArray' data-ref="162_next0">_next0</dfn>,</td></tr>
<tr><th id="567">567</th><td>                               <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::OutputArray" title='cv::OutputArray' data-type='const cv::_OutputArray &amp;' data-ref="cv::OutputArray">OutputArray</a> <dfn class="local col3 decl" id="163_flow0" title='_flow0' data-type='OutputArray' data-ref="163_flow0">_flow0</dfn>, <em>double</em> <dfn class="local col4 decl" id="164pyr_scale" title='pyr_scale' data-type='double' data-ref="164pyr_scale">pyr_scale</dfn>, <em>int</em> <dfn class="local col5 decl" id="165levels" title='levels' data-type='int' data-ref="165levels">levels</dfn>, <em>int</em> <dfn class="local col6 decl" id="166winsize" title='winsize' data-type='int' data-ref="166winsize">winsize</dfn>,</td></tr>
<tr><th id="568">568</th><td>                               <em>int</em> <dfn class="local col7 decl" id="167iterations" title='iterations' data-type='int' data-ref="167iterations">iterations</dfn>, <em>int</em> <dfn class="local col8 decl" id="168poly_n" title='poly_n' data-type='int' data-ref="168poly_n">poly_n</dfn>, <em>double</em> <dfn class="local col9 decl" id="169poly_sigma" title='poly_sigma' data-type='double' data-ref="169poly_sigma">poly_sigma</dfn>, <em>int</em> <dfn class="local col0 decl" id="170flags" title='flags' data-type='int' data-ref="170flags">flags</dfn> )</td></tr>
<tr><th id="569">569</th><td>{</td></tr>
<tr><th id="570">570</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="171prev0" title='prev0' data-type='cv::Mat' data-ref="171prev0">prev0</dfn> = <a class="local col1 ref" href="#161_prev0" title='_prev0' data-ref="161_prev0">_prev0</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv11_InputArray6getMatEi" title='cv::_InputArray::getMat' data-ref="_ZNK2cv11_InputArray6getMatEi">getMat</a>(), <dfn class="local col2 decl" id="172next0" title='next0' data-type='cv::Mat' data-ref="172next0">next0</dfn> = <a class="local col2 ref" href="#162_next0" title='_next0' data-ref="162_next0">_next0</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv11_InputArray6getMatEi" title='cv::_InputArray::getMat' data-ref="_ZNK2cv11_InputArray6getMatEi">getMat</a>();</td></tr>
<tr><th id="571">571</th><td>    <em>const</em> <em>int</em> <dfn class="local col3 decl" id="173min_size" title='min_size' data-type='const int' data-ref="173min_size">min_size</dfn> = <var>32</var>;</td></tr>
<tr><th id="572">572</th><td>    <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="local col4 decl" id="174img" title='img' data-type='const cv::Mat *[2]' data-ref="174img">img</dfn>[<var>2</var>] = { &amp;<a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>, &amp;<a class="local col2 ref" href="#172next0" title='next0' data-ref="172next0">next0</a> };</td></tr>
<tr><th id="573">573</th><td></td></tr>
<tr><th id="574">574</th><td>    <em>int</em> <dfn class="local col5 decl" id="175i" title='i' data-type='int' data-ref="175i">i</dfn>, <dfn class="local col6 decl" id="176k" title='k' data-type='int' data-ref="176k">k</dfn>;</td></tr>
<tr><th id="575">575</th><td>    <em>double</em> <dfn class="local col7 decl" id="177scale" title='scale' data-type='double' data-ref="177scale">scale</dfn>;</td></tr>
<tr><th id="576">576</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col8 decl" id="178prevFlow" title='prevFlow' data-type='cv::Mat' data-ref="178prevFlow">prevFlow</dfn>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col9 decl" id="179flow" title='flow' data-type='cv::Mat' data-ref="179flow">flow</dfn>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col0 decl" id="180fimg" title='fimg' data-type='cv::Mat' data-ref="180fimg">fimg</dfn>;</td></tr>
<tr><th id="577">577</th><td></td></tr>
<tr><th id="578">578</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(prev0.size() == next0.size() &amp;&amp; prev0.channels() == next0.channels() &amp;&amp; prev0.channels() == 1 &amp;&amp; pyr_scale &lt; 1)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;prev0.size() == next0.size() &amp;&amp; prev0.channels() == next0.channels() &amp;&amp; prev0.channels() == 1 &amp;&amp; pyr_scale &lt; 1&quot;, __func__, &quot;/home/yzf/code/opencv/modules/video/src/optflowgf.cpp&quot;, 579) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::size" title='cv::Mat::size' data-ref="cv::Mat::size">size</a>() <a class="ref" href="../../core/include/opencv2/core/operations.hpp.html#_ZN2cveqERKNS_5Size_IT_EES4_" title='cv::operator==' data-ref="_ZN2cveqERKNS_5Size_IT_EES4_">==</a> <a class="local col2 ref" href="#172next0" title='next0' data-ref="172next0">next0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::size" title='cv::Mat::size' data-ref="cv::Mat::size">size</a>() &amp;&amp; <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat8channelsEv" title='cv::Mat::channels' data-ref="_ZNK2cv3Mat8channelsEv">channels</a>() == <a class="local col2 ref" href="#172next0" title='next0' data-ref="172next0">next0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat8channelsEv" title='cv::Mat::channels' data-ref="_ZNK2cv3Mat8channelsEv">channels</a>() &amp;&amp;</td></tr>
<tr><th id="579">579</th><td>        <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat8channelsEv" title='cv::Mat::channels' data-ref="_ZNK2cv3Mat8channelsEv">channels</a>() == <var>1</var> &amp;&amp; <a class="local col4 ref" href="#164pyr_scale" title='pyr_scale' data-ref="164pyr_scale">pyr_scale</a> &lt; <var>1</var> );</td></tr>
<tr><th id="580">580</th><td>    <a class="local col3 ref" href="#163_flow0" title='_flow0' data-ref="163_flow0">_flow0</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv12_OutputArray6createENS_5Size_IiEEiibi" title='cv::_OutputArray::create' data-ref="_ZNK2cv12_OutputArray6createENS_5Size_IiEEiibi">create</a>( <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::size" title='cv::Mat::size' data-ref="cv::Mat::size">size</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5MSizeclEv" title='cv::Mat::MSize::operator()' data-ref="_ZNK2cv3Mat5MSizeclEv">()</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#651" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((2)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC2">CV_32FC2</a> );</td></tr>
<tr><th id="581">581</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="181flow0" title='flow0' data-type='cv::Mat' data-ref="181flow0">flow0</dfn> = <a class="local col3 ref" href="#163_flow0" title='_flow0' data-ref="163_flow0">_flow0</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv11_InputArray6getMatEi" title='cv::_InputArray::getMat' data-ref="_ZNK2cv11_InputArray6getMatEi">getMat</a>();</td></tr>
<tr><th id="582">582</th><td></td></tr>
<tr><th id="583">583</th><td>    <b>for</b>( <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a> = <var>0</var>, <a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> = <var>1</var>; <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a> &lt; <a class="local col5 ref" href="#165levels" title='levels' data-ref="165levels">levels</a>; <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a>++ )</td></tr>
<tr><th id="584">584</th><td>    {</td></tr>
<tr><th id="585">585</th><td>        <a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> *= <a class="local col4 ref" href="#164pyr_scale" title='pyr_scale' data-ref="164pyr_scale">pyr_scale</a>;</td></tr>
<tr><th id="586">586</th><td>        <b>if</b>( <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>*<a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> &lt; <a class="local col3 ref" href="#173min_size" title='min_size' data-ref="173min_size">min_size</a> || <a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>*<a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> &lt; <a class="local col3 ref" href="#173min_size" title='min_size' data-ref="173min_size">min_size</a> )</td></tr>
<tr><th id="587">587</th><td>            <b>break</b>;</td></tr>
<tr><th id="588">588</th><td>    }</td></tr>
<tr><th id="589">589</th><td></td></tr>
<tr><th id="590">590</th><td>    <a class="local col5 ref" href="#165levels" title='levels' data-ref="165levels">levels</a> = <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a>;</td></tr>
<tr><th id="591">591</th><td></td></tr>
<tr><th id="592">592</th><td>    <b>for</b>( <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a> = <a class="local col5 ref" href="#165levels" title='levels' data-ref="165levels">levels</a>; <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a> &gt;= <var>0</var>; <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a>-- )</td></tr>
<tr><th id="593">593</th><td>    {</td></tr>
<tr><th id="594">594</th><td>        <b>for</b>( <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> = <var>0</var>, <a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> = <var>1</var>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> &lt; <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a>++ )</td></tr>
<tr><th id="595">595</th><td>            <a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a> *= <a class="local col4 ref" href="#164pyr_scale" title='pyr_scale' data-ref="164pyr_scale">pyr_scale</a>;</td></tr>
<tr><th id="596">596</th><td></td></tr>
<tr><th id="597">597</th><td>        <em>double</em> <dfn class="local col2 decl" id="182sigma" title='sigma' data-type='double' data-ref="182sigma">sigma</dfn> = (<var>1.</var>/<a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a>-<var>1</var>)*<var>0.5</var>;</td></tr>
<tr><th id="598">598</th><td>        <em>int</em> <dfn class="local col3 decl" id="183smooth_sz" title='smooth_sz' data-type='int' data-ref="183smooth_sz">smooth_sz</dfn> = <a class="ref" href="../../core/include/opencv2/core/types_c.h.html#_Z7cvRoundd" title='cvRound' data-ref="_Z7cvRoundd">cvRound</a>(<a class="local col2 ref" href="#182sigma" title='sigma' data-ref="182sigma">sigma</a>*<var>5</var>)|<var>1</var>;</td></tr>
<tr><th id="599">599</th><td>        <a class="local col3 ref" href="#183smooth_sz" title='smooth_sz' data-ref="183smooth_sz">smooth_sz</a> = <span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt3maxRKT_S1_" title='std::max' data-ref="_ZSt3maxRKT_S1_">max</a>(<a class="local col3 ref" href="#183smooth_sz" title='smooth_sz' data-ref="183smooth_sz">smooth_sz</a>, <var>3</var>);</td></tr>
<tr><th id="600">600</th><td></td></tr>
<tr><th id="601">601</th><td>        <em>int</em> <dfn class="local col4 decl" id="184width" title='width' data-type='int' data-ref="184width">width</dfn> = <a class="ref" href="../../core/include/opencv2/core/types_c.h.html#_Z7cvRoundd" title='cvRound' data-ref="_Z7cvRoundd">cvRound</a>(<a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a>*<a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a>);</td></tr>
<tr><th id="602">602</th><td>        <em>int</em> <dfn class="local col5 decl" id="185height" title='height' data-type='int' data-ref="185height">height</dfn> = <a class="ref" href="../../core/include/opencv2/core/types_c.h.html#_Z7cvRoundd" title='cvRound' data-ref="_Z7cvRoundd">cvRound</a>(<a class="local col1 ref" href="#171prev0" title='prev0' data-ref="171prev0">prev0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>*<a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a>);</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>        <b>if</b>( <a class="local col6 ref" href="#176k" title='k' data-ref="176k">k</a> &gt; <var>0</var> )</td></tr>
<tr><th id="605">605</th><td>            <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>( <a class="local col5 ref" href="#185height" title='height' data-ref="185height">height</a>, <a class="local col4 ref" href="#184width" title='width' data-ref="184width">width</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#651" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((2)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC2">CV_32FC2</a> );</td></tr>
<tr><th id="606">606</th><td>        <b>else</b></td></tr>
<tr><th id="607">607</th><td>            <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a> <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MataSERKS0_" title='cv::Mat::operator=' data-ref="_ZN2cv3MataSERKS0_">=</a> <a class="local col1 ref" href="#181flow0" title='flow0' data-ref="181flow0">flow0</a>;</td></tr>
<tr><th id="608">608</th><td></td></tr>
<tr><th id="609">609</th><td>        <b>if</b>( !<a class="local col8 ref" href="#178prevFlow" title='prevFlow' data-ref="178prevFlow">prevFlow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::data" title='cv::Mat::data' data-ref="cv::Mat::data">data</a> )</td></tr>
<tr><th id="610">610</th><td>        {</td></tr>
<tr><th id="611">611</th><td>            <b>if</b>( <a class="local col0 ref" href="#170flags" title='flags' data-ref="170flags">flags</a> &amp; <a class="enum" href="../include/opencv2/video/tracking.hpp.html#cv::::OPTFLOW_USE_INITIAL_FLOW" title='cv::::OPTFLOW_USE_INITIAL_FLOW' data-ref="cv::::OPTFLOW_USE_INITIAL_FLOW">OPTFLOW_USE_INITIAL_FLOW</a> )</td></tr>
<tr><th id="612">612</th><td>            {</td></tr>
<tr><th id="613">613</th><td>                <a class="ref" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi" title='cv::resize' data-ref="_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi">resize</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#181flow0" title='flow0' data-ref="181flow0">flow0</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Size" title='cv::Size' data-type='Size2i' data-ref="cv::Size">Size</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv5Size_C1ET_S1_" title='cv::Size_::Size_&lt;_Tp&gt;' data-ref="_ZN2cv5Size_C1ET_S1_">(</a><a class="local col4 ref" href="#184width" title='width' data-ref="184width">width</a>, <a class="local col5 ref" href="#185height" title='height' data-ref="185height">height</a>), <var>0</var>, <var>0</var>, <a class="enum" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#cv::::INTER_AREA" title='cv::::INTER_AREA' data-ref="cv::::INTER_AREA">INTER_AREA</a> );</td></tr>
<tr><th id="614">614</th><td>                <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a> <a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cvmLERKNS_3MatEd" title='cv::operator*=' data-ref="_ZN2cvmLERKNS_3MatEd">*=</a> <a class="local col7 ref" href="#177scale" title='scale' data-ref="177scale">scale</a>;</td></tr>
<tr><th id="615">615</th><td>            }</td></tr>
<tr><th id="616">616</th><td>            <b>else</b></td></tr>
<tr><th id="617">617</th><td>                <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a> <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MataSERKNS_7MatExprE" title='cv::Mat::operator=' data-ref="_ZN2cv3MataSERKNS_7MatExprE">=</a> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>::<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat5zerosEiii" title='cv::Mat::zeros' data-ref="_ZN2cv3Mat5zerosEiii">zeros</a>( <a class="local col5 ref" href="#185height" title='height' data-ref="185height">height</a>, <a class="local col4 ref" href="#184width" title='width' data-ref="184width">width</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#651" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((2)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC2">CV_32FC2</a> );</td></tr>
<tr><th id="618">618</th><td>        }</td></tr>
<tr><th id="619">619</th><td>        <b>else</b></td></tr>
<tr><th id="620">620</th><td>        {</td></tr>
<tr><th id="621">621</th><td>            <a class="ref" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi" title='cv::resize' data-ref="_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi">resize</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col8 ref" href="#178prevFlow" title='prevFlow' data-ref="178prevFlow">prevFlow</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Size" title='cv::Size' data-type='Size2i' data-ref="cv::Size">Size</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv5Size_C1ET_S1_" title='cv::Size_::Size_&lt;_Tp&gt;' data-ref="_ZN2cv5Size_C1ET_S1_">(</a><a class="local col4 ref" href="#184width" title='width' data-ref="184width">width</a>, <a class="local col5 ref" href="#185height" title='height' data-ref="185height">height</a>), <var>0</var>, <var>0</var>, <a class="enum" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#cv::::INTER_LINEAR" title='cv::::INTER_LINEAR' data-ref="cv::::INTER_LINEAR">INTER_LINEAR</a> );</td></tr>
<tr><th id="622">622</th><td>            <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a> <a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cvmLERKNS_3MatEd" title='cv::operator*=' data-ref="_ZN2cvmLERKNS_3MatEd">*=</a> <var>1.</var>/<a class="local col4 ref" href="#164pyr_scale" title='pyr_scale' data-ref="164pyr_scale">pyr_scale</a>;</td></tr>
<tr><th id="623">623</th><td>        }</td></tr>
<tr><th id="624">624</th><td></td></tr>
<tr><th id="625">625</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col6 decl" id="186R" title='R' data-type='cv::Mat [2]' data-ref="186R">R</dfn>[<var>2</var>], <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col7 decl" id="187I" title='I' data-type='cv::Mat' data-ref="187I">I</dfn>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col8 decl" id="188M" title='M' data-type='cv::Mat' data-ref="188M">M</dfn>;</td></tr>
<tr><th id="626">626</th><td>        <b>for</b>( <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> = <var>0</var>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> &lt; <var>2</var>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a>++ )</td></tr>
<tr><th id="627">627</th><td>        {</td></tr>
<tr><th id="628">628</th><td>            <a class="local col4 ref" href="#174img" title='img' data-ref="174img">img</a>[<a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a>]-&gt;<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col0 ref" href="#180fimg" title='fimg' data-ref="180fimg">fimg</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#610" title="5" data-ref="_M/CV_32F">CV_32F</a>);</td></tr>
<tr><th id="629">629</th><td>            <a class="ref" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#_ZN2cv12GaussianBlurERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi" title='cv::GaussianBlur' data-ref="_ZN2cv12GaussianBlurERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi">GaussianBlur</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col0 ref" href="#180fimg" title='fimg' data-ref="180fimg">fimg</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col0 ref" href="#180fimg" title='fimg' data-ref="180fimg">fimg</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Size" title='cv::Size' data-type='Size2i' data-ref="cv::Size">Size</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv5Size_C1ET_S1_" title='cv::Size_::Size_&lt;_Tp&gt;' data-ref="_ZN2cv5Size_C1ET_S1_">(</a><a class="local col3 ref" href="#183smooth_sz" title='smooth_sz' data-ref="183smooth_sz">smooth_sz</a>, <a class="local col3 ref" href="#183smooth_sz" title='smooth_sz' data-ref="183smooth_sz">smooth_sz</a>), <a class="local col2 ref" href="#182sigma" title='sigma' data-ref="182sigma">sigma</a>, <a class="local col2 ref" href="#182sigma" title='sigma' data-ref="182sigma">sigma</a>);</td></tr>
<tr><th id="630">630</th><td>            <a class="ref" href="../../imgproc/include/opencv2/imgproc/imgproc.hpp.html#_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi" title='cv::resize' data-ref="_ZN2cv6resizeERKNS_11_InputArrayERKNS_12_OutputArrayENS_5Size_IiEEddi">resize</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col0 ref" href="#180fimg" title='fimg' data-ref="180fimg">fimg</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col7 ref" href="#187I" title='I' data-ref="187I">I</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Size" title='cv::Size' data-type='Size2i' data-ref="cv::Size">Size</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv5Size_C1ET_S1_" title='cv::Size_::Size_&lt;_Tp&gt;' data-ref="_ZN2cv5Size_C1ET_S1_">(</a><a class="local col4 ref" href="#184width" title='width' data-ref="184width">width</a>, <a class="local col5 ref" href="#185height" title='height' data-ref="185height">height</a>), <a class="enum" href="../../imgproc/include/opencv2/imgproc/types_c.h.html#::CV_INTER_LINEAR" title='::CV_INTER_LINEAR' data-ref="::CV_INTER_LINEAR">CV_INTER_LINEAR</a> );</td></tr>
<tr><th id="631">631</th><td>            <a class="tu ref" href="#_ZN2cvL16FarnebackPolyExpERKNS_3MatERS0_id" title='cv::FarnebackPolyExp' data-use='c' data-ref="_ZN2cvL16FarnebackPolyExpERKNS_3MatERS0_id">FarnebackPolyExp</a>( <a class="local col7 ref" href="#187I" title='I' data-ref="187I">I</a>, <span class='refarg'><a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a>]</span>, <a class="local col8 ref" href="#168poly_n" title='poly_n' data-ref="168poly_n">poly_n</a>, <a class="local col9 ref" href="#169poly_sigma" title='poly_sigma' data-ref="169poly_sigma">poly_sigma</a> );</td></tr>
<tr><th id="632">632</th><td>        }</td></tr>
<tr><th id="633">633</th><td></td></tr>
<tr><th id="634">634</th><td>        <a class="tu ref" href="#_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii" title='cv::FarnebackUpdateMatrices' data-use='c' data-ref="_ZN2cvL23FarnebackUpdateMatricesERKNS_3MatES2_S2_RS0_ii">FarnebackUpdateMatrices</a>( <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>0</var>], <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>1</var>], <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>, <span class='refarg'><a class="local col8 ref" href="#188M" title='M' data-ref="188M">M</a></span>, <var>0</var>, <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> );</td></tr>
<tr><th id="635">635</th><td></td></tr>
<tr><th id="636">636</th><td>        <b>for</b>( <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> = <var>0</var>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> &lt; <a class="local col7 ref" href="#167iterations" title='iterations' data-ref="167iterations">iterations</a>; <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a>++ )</td></tr>
<tr><th id="637">637</th><td>        {</td></tr>
<tr><th id="638">638</th><td>            <b>if</b>( <a class="local col0 ref" href="#170flags" title='flags' data-ref="170flags">flags</a> &amp; <a class="enum" href="../include/opencv2/video/tracking.hpp.html#cv::::OPTFLOW_FARNEBACK_GAUSSIAN" title='cv::::OPTFLOW_FARNEBACK_GAUSSIAN' data-ref="cv::::OPTFLOW_FARNEBACK_GAUSSIAN">OPTFLOW_FARNEBACK_GAUSSIAN</a> )</td></tr>
<tr><th id="639">639</th><td>                <a class="tu ref" href="#_ZN2cvL32FarnebackUpdateFlow_GaussianBlurERKNS_3MatES2_RS0_S3_ib" title='cv::FarnebackUpdateFlow_GaussianBlur' data-use='c' data-ref="_ZN2cvL32FarnebackUpdateFlow_GaussianBlurERKNS_3MatES2_RS0_S3_ib">FarnebackUpdateFlow_GaussianBlur</a>( <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>0</var>], <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>1</var>], <span class='refarg'><a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a></span>, <span class='refarg'><a class="local col8 ref" href="#188M" title='M' data-ref="188M">M</a></span>, <a class="local col6 ref" href="#166winsize" title='winsize' data-ref="166winsize">winsize</a>, <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> &lt; <a class="local col7 ref" href="#167iterations" title='iterations' data-ref="167iterations">iterations</a> - <var>1</var> );</td></tr>
<tr><th id="640">640</th><td>            <b>else</b></td></tr>
<tr><th id="641">641</th><td>                <a class="tu ref" href="#_ZN2cvL24FarnebackUpdateFlow_BlurERKNS_3MatES2_RS0_S3_ib" title='cv::FarnebackUpdateFlow_Blur' data-use='c' data-ref="_ZN2cvL24FarnebackUpdateFlow_BlurERKNS_3MatES2_RS0_S3_ib">FarnebackUpdateFlow_Blur</a>( <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>0</var>], <a class="local col6 ref" href="#186R" title='R' data-ref="186R">R</a>[<var>1</var>], <span class='refarg'><a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a></span>, <span class='refarg'><a class="local col8 ref" href="#188M" title='M' data-ref="188M">M</a></span>, <a class="local col6 ref" href="#166winsize" title='winsize' data-ref="166winsize">winsize</a>, <a class="local col5 ref" href="#175i" title='i' data-ref="175i">i</a> &lt; <a class="local col7 ref" href="#167iterations" title='iterations' data-ref="167iterations">iterations</a> - <var>1</var> );</td></tr>
<tr><th id="642">642</th><td>        }</td></tr>
<tr><th id="643">643</th><td></td></tr>
<tr><th id="644">644</th><td>        <a class="local col8 ref" href="#178prevFlow" title='prevFlow' data-ref="178prevFlow">prevFlow</a> <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MataSERKS0_" title='cv::Mat::operator=' data-ref="_ZN2cv3MataSERKS0_">=</a> <a class="local col9 ref" href="#179flow" title='flow' data-ref="179flow">flow</a>;</td></tr>
<tr><th id="645">645</th><td>    }</td></tr>
<tr><th id="646">646</th><td>}</td></tr>
<tr><th id="647">647</th><td></td></tr>
<tr><th id="648">648</th><td></td></tr>
<tr><th id="649">649</th><td><a class="macro" href="../../core/include/opencv2/core/internal.hpp.html#376" title="extern &quot;C&quot;" data-ref="_M/CV_IMPL">CV_IMPL</a> <em>void</em> <dfn class="decl def" id="cvCalcOpticalFlowFarneback" title='cvCalcOpticalFlowFarneback' data-ref="cvCalcOpticalFlowFarneback">cvCalcOpticalFlowFarneback</dfn>(</td></tr>
<tr><th id="650">650</th><td>            <em>const</em> <a class="typedef" href="../../core/include/opencv2/core/types_c.h.html#CvArr" title='CvArr' data-type='void' data-ref="CvArr">CvArr</a>* <dfn class="local col9 decl" id="189_prev" title='_prev' data-type='const CvArr *' data-ref="189_prev">_prev</dfn>, <em>const</em> <a class="typedef" href="../../core/include/opencv2/core/types_c.h.html#CvArr" title='CvArr' data-type='void' data-ref="CvArr">CvArr</a>* <dfn class="local col0 decl" id="190_next" title='_next' data-type='const CvArr *' data-ref="190_next">_next</dfn>,</td></tr>
<tr><th id="651">651</th><td>            <a class="typedef" href="../../core/include/opencv2/core/types_c.h.html#CvArr" title='CvArr' data-type='void' data-ref="CvArr">CvArr</a>* <dfn class="local col1 decl" id="191_flow" title='_flow' data-type='CvArr *' data-ref="191_flow">_flow</dfn>, <em>double</em> <dfn class="local col2 decl" id="192pyr_scale" title='pyr_scale' data-type='double' data-ref="192pyr_scale">pyr_scale</dfn>, <em>int</em> <dfn class="local col3 decl" id="193levels" title='levels' data-type='int' data-ref="193levels">levels</dfn>,</td></tr>
<tr><th id="652">652</th><td>            <em>int</em> <dfn class="local col4 decl" id="194winsize" title='winsize' data-type='int' data-ref="194winsize">winsize</dfn>, <em>int</em> <dfn class="local col5 decl" id="195iterations" title='iterations' data-type='int' data-ref="195iterations">iterations</dfn>, <em>int</em> <dfn class="local col6 decl" id="196poly_n" title='poly_n' data-type='int' data-ref="196poly_n">poly_n</dfn>,</td></tr>
<tr><th id="653">653</th><td>            <em>double</em> <dfn class="local col7 decl" id="197poly_sigma" title='poly_sigma' data-type='double' data-ref="197poly_sigma">poly_sigma</dfn>, <em>int</em> <dfn class="local col8 decl" id="198flags" title='flags' data-type='int' data-ref="198flags">flags</dfn> )</td></tr>
<tr><th id="654">654</th><td>{</td></tr>
<tr><th id="655">655</th><td>    <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col9 decl" id="199prev" title='prev' data-type='cv::Mat' data-ref="199prev">prev</dfn> = <span class="namespace">cv::</span><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10cvarrToMatEPKvbbi" title='cv::cvarrToMat' data-ref="_ZN2cv10cvarrToMatEPKvbbi">cvarrToMat</a>(<a class="local col9 ref" href="#189_prev" title='_prev' data-ref="189_prev">_prev</a>), <dfn class="local col0 decl" id="200next" title='next' data-type='cv::Mat' data-ref="200next">next</dfn> = <span class="namespace">cv::</span><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10cvarrToMatEPKvbbi" title='cv::cvarrToMat' data-ref="_ZN2cv10cvarrToMatEPKvbbi">cvarrToMat</a>(<a class="local col0 ref" href="#190_next" title='_next' data-ref="190_next">_next</a>);</td></tr>
<tr><th id="656">656</th><td>    <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="201flow" title='flow' data-type='cv::Mat' data-ref="201flow">flow</dfn> = <span class="namespace">cv::</span><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv10cvarrToMatEPKvbbi" title='cv::cvarrToMat' data-ref="_ZN2cv10cvarrToMatEPKvbbi">cvarrToMat</a>(<a class="local col1 ref" href="#191_flow" title='_flow' data-ref="191_flow">_flow</a>);</td></tr>
<tr><th id="657">657</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(flow.size() == prev.size() &amp;&amp; flow.type() == (((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((2)-1) &lt;&lt; 3)))) ; else cv::error( cv::Exception(CV_StsAssert, &quot;flow.size() == prev.size() &amp;&amp; flow.type() == CV_32FC2&quot;, __func__, &quot;/home/yzf/code/opencv/modules/video/src/optflowgf.cpp&quot;, 657) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col1 ref" href="#201flow" title='flow' data-ref="201flow">flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::size" title='cv::Mat::size' data-ref="cv::Mat::size">size</a>() <a class="ref" href="../../core/include/opencv2/core/operations.hpp.html#_ZN2cveqERKNS_5Size_IT_EES4_" title='cv::operator==' data-ref="_ZN2cveqERKNS_5Size_IT_EES4_">==</a> <a class="local col9 ref" href="#199prev" title='prev' data-ref="199prev">prev</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::size" title='cv::Mat::size' data-ref="cv::Mat::size">size</a>() &amp;&amp; <a class="local col1 ref" href="#201flow" title='flow' data-ref="201flow">flow</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#651" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((2)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC2">CV_32FC2</a> );</td></tr>
<tr><th id="658">658</th><td>    <span class="namespace">cv::</span><a class="ref" href="#_ZN2cv24calcOpticalFlowFarnebackERKNS_11_InputArrayES2_RKNS_12_OutputArrayEdiiiidi" title='cv::calcOpticalFlowFarneback' data-ref="_ZN2cv24calcOpticalFlowFarnebackERKNS_11_InputArrayES2_RKNS_12_OutputArrayEdiiiidi">calcOpticalFlowFarneback</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col9 ref" href="#199prev" title='prev' data-ref="199prev">prev</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col0 ref" href="#200next" title='next' data-ref="200next">next</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col1 ref" href="#201flow" title='flow' data-ref="201flow">flow</a>, <a class="local col2 ref" href="#192pyr_scale" title='pyr_scale' data-ref="192pyr_scale">pyr_scale</a>, <a class="local col3 ref" href="#193levels" title='levels' data-ref="193levels">levels</a>,</td></tr>
<tr><th id="659">659</th><td>        <a class="local col4 ref" href="#194winsize" title='winsize' data-ref="194winsize">winsize</a>, <a class="local col5 ref" href="#195iterations" title='iterations' data-ref="195iterations">iterations</a>, <a class="local col6 ref" href="#196poly_n" title='poly_n' data-ref="196poly_n">poly_n</a>, <a class="local col7 ref" href="#197poly_sigma" title='poly_sigma' data-ref="197poly_sigma">poly_sigma</a>, <a class="local col8 ref" href="#198flags" title='flags' data-ref="198flags">flags</a> );</td></tr>
<tr><th id="660">660</th><td>}</td></tr>
<tr><th id="661">661</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-May-11</em> from project opencv revision <em>2.4.13.2-27-g91a6940</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.0.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
