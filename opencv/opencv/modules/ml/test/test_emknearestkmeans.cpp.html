<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>test_emknearestkmeans.cpp source code [opencv/modules/ml/test/test_emknearestkmeans.cpp] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="CV_EMTest,CV_EMTest_Classification,CV_EMTest_SaveLoad,CV_KMeansTest,CV_KNearestTest,EM_Params "/>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'opencv/modules/ml/test/test_emknearestkmeans.cpp'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>opencv</a>/<a href='../..'>modules</a>/<a href='..'>ml</a>/<a href='./'>test</a>/<a href='test_emknearestkmeans.cpp.html'>test_emknearestkmeans.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*M///////////////////////////////////////////////////////////////////////////////////////</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>//  IMPORTANT: READ BEFORE DOWNLOADING, COPYING, INSTALLING OR USING.</i></td></tr>
<tr><th id="4">4</th><td><i>//</i></td></tr>
<tr><th id="5">5</th><td><i>//  By downloading, copying, installing or using the software you agree to this license.</i></td></tr>
<tr><th id="6">6</th><td><i>//  If you do not agree to this license, do not download, install,</i></td></tr>
<tr><th id="7">7</th><td><i>//  copy or use the software.</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>//</i></td></tr>
<tr><th id="10">10</th><td><i>//                        Intel License Agreement</i></td></tr>
<tr><th id="11">11</th><td><i>//                For Open Source Computer Vision Library</i></td></tr>
<tr><th id="12">12</th><td><i>//</i></td></tr>
<tr><th id="13">13</th><td><i>// Copyright (C) 2000, Intel Corporation, all rights reserved.</i></td></tr>
<tr><th id="14">14</th><td><i>// Third party copyrights are property of their respective owners.</i></td></tr>
<tr><th id="15">15</th><td><i>//</i></td></tr>
<tr><th id="16">16</th><td><i>// Redistribution and use in source and binary forms, with or without modification,</i></td></tr>
<tr><th id="17">17</th><td><i>// are permitted provided that the following conditions are met:</i></td></tr>
<tr><th id="18">18</th><td><i>//</i></td></tr>
<tr><th id="19">19</th><td><i>//   * Redistribution's of source code must retain the above copyright notice,</i></td></tr>
<tr><th id="20">20</th><td><i>//     this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="21">21</th><td><i>//</i></td></tr>
<tr><th id="22">22</th><td><i>//   * Redistribution's in binary form must reproduce the above copyright notice,</i></td></tr>
<tr><th id="23">23</th><td><i>//     this list of conditions and the following disclaimer in the documentation</i></td></tr>
<tr><th id="24">24</th><td><i>//     and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="25">25</th><td><i>//</i></td></tr>
<tr><th id="26">26</th><td><i>//   * The name of Intel Corporation may not be used to endorse or promote products</i></td></tr>
<tr><th id="27">27</th><td><i>//     derived from this software without specific prior written permission.</i></td></tr>
<tr><th id="28">28</th><td><i>//</i></td></tr>
<tr><th id="29">29</th><td><i>// This software is provided by the copyright holders and contributors "as is" and</i></td></tr>
<tr><th id="30">30</th><td><i>// any express or implied warranties, including, but not limited to, the implied</i></td></tr>
<tr><th id="31">31</th><td><i>// warranties of merchantability and fitness for a particular purpose are disclaimed.</i></td></tr>
<tr><th id="32">32</th><td><i>// In no event shall the Intel Corporation or contributors be liable for any direct,</i></td></tr>
<tr><th id="33">33</th><td><i>// indirect, incidental, special, exemplary, or consequential damages</i></td></tr>
<tr><th id="34">34</th><td><i>// (including, but not limited to, procurement of substitute goods or services;</i></td></tr>
<tr><th id="35">35</th><td><i>// loss of use, data, or profits; or business interruption) however caused</i></td></tr>
<tr><th id="36">36</th><td><i>// and on any theory of liability, whether in contract, strict liability,</i></td></tr>
<tr><th id="37">37</th><td><i>// or tort (including negligence or otherwise) arising in any way out of</i></td></tr>
<tr><th id="38">38</th><td><i>// the use of this software, even if advised of the possibility of such damage.</i></td></tr>
<tr><th id="39">39</th><td><i>//</i></td></tr>
<tr><th id="40">40</th><td><i>//M*/</i></td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="test_precomp.hpp.html">"test_precomp.hpp"</a></u></td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><b>using</b> <b>namespace</b> <span class="namespace">std</span>;</td></tr>
<tr><th id="45">45</th><td><b>using</b> <b>namespace</b> <span class="namespace">cv</span>;</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td><em>static</em></td></tr>
<tr><th id="48">48</th><td><em>void</em> <dfn class="tu decl def" id="_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi" title='defaultDistribs' data-type='void defaultDistribs(cv::Mat &amp; means, vector&lt;cv::Mat&gt; &amp; covs, int type = (((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1) - 1) &lt;&lt; 3)))' data-ref="_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi">defaultDistribs</dfn>( <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col9 decl" id="19means" title='means' data-type='cv::Mat &amp;' data-ref="19means">means</dfn>, <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt;&amp; <dfn class="local col0 decl" id="20covs" title='covs' data-type='vector&lt;cv::Mat&gt; &amp;' data-ref="20covs">covs</dfn>, <em>int</em> <dfn class="local col1 decl" id="21type" title='type' data-type='int' data-ref="21type">type</dfn>=<a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> )</td></tr>
<tr><th id="49">49</th><td>{</td></tr>
<tr><th id="50">50</th><td>    <em>float</em> <dfn class="local col2 decl" id="22mp0" title='mp0' data-type='float [2]' data-ref="22mp0">mp0</dfn>[] = {<var>0.0f</var>, <var>0.0f</var>}, <dfn class="local col3 decl" id="23cp0" title='cp0' data-type='float [4]' data-ref="23cp0">cp0</dfn>[] = {<var>0.67f</var>, <var>0.0f</var>, <var>0.0f</var>, <var>0.67f</var>};</td></tr>
<tr><th id="51">51</th><td>    <em>float</em> <dfn class="local col4 decl" id="24mp1" title='mp1' data-type='float [2]' data-ref="24mp1">mp1</dfn>[] = {<var>5.0f</var>, <var>0.0f</var>}, <dfn class="local col5 decl" id="25cp1" title='cp1' data-type='float [4]' data-ref="25cp1">cp1</dfn>[] = {<var>1.0f</var>, <var>0.0f</var>, <var>0.0f</var>, <var>1.0f</var>};</td></tr>
<tr><th id="52">52</th><td>    <em>float</em> <dfn class="local col6 decl" id="26mp2" title='mp2' data-type='float [2]' data-ref="26mp2">mp2</dfn>[] = {<var>1.0f</var>, <var>5.0f</var>}, <dfn class="local col7 decl" id="27cp2" title='cp2' data-type='float [4]' data-ref="27cp2">cp2</dfn>[] = {<var>1.0f</var>, <var>0.0f</var>, <var>0.0f</var>, <var>1.0f</var>};</td></tr>
<tr><th id="53">53</th><td>    <a class="local col9 ref" href="#19means" title='means' data-ref="19means">means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>(<var>3</var>, <var>2</var>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="54">54</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col8 decl" id="28m0" title='m0' data-type='cv::Mat' data-ref="28m0">m0</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>1</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col2 ref" href="#22mp0" title='mp0' data-ref="22mp0">mp0</a> ), <dfn class="local col9 decl" id="29c0" title='c0' data-type='cv::Mat' data-ref="29c0">c0</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>2</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col3 ref" href="#23cp0" title='cp0' data-ref="23cp0">cp0</a> );</td></tr>
<tr><th id="55">55</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col0 decl" id="30m1" title='m1' data-type='cv::Mat' data-ref="30m1">m1</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>1</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col4 ref" href="#24mp1" title='mp1' data-ref="24mp1">mp1</a> ), <dfn class="local col1 decl" id="31c1" title='c1' data-type='cv::Mat' data-ref="31c1">c1</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>2</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col5 ref" href="#25cp1" title='cp1' data-ref="25cp1">cp1</a> );</td></tr>
<tr><th id="56">56</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col2 decl" id="32m2" title='m2' data-type='cv::Mat' data-ref="32m2">m2</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>1</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col6 ref" href="#26mp2" title='mp2' data-ref="26mp2">mp2</a> ), <dfn class="local col3 decl" id="33c2" title='c2' data-type='cv::Mat' data-ref="33c2">c2</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiPvm" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiPvm">(</a> <var>2</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="local col7 ref" href="#27cp2" title='cp2' data-ref="27cp2">cp2</a> );</td></tr>
<tr><th id="57">57</th><td>    <a class="local col9 ref" href="#19means" title='means' data-ref="19means">means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6resizeEm" title='cv::Mat::resize' data-ref="_ZN2cv3Mat6resizeEm">resize</a>(<var>3</var>), <a class="local col0 ref" href="#20covs" title='covs' data-ref="20covs">covs</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vector6resizeEmT_" title='std::vector::resize' data-ref="_ZNSt6vector6resizeEmT_">resize</a>(<var>3</var>);</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col4 decl" id="34mr0" title='mr0' data-type='cv::Mat' data-ref="34mr0">mr0</dfn> = <a class="local col9 ref" href="#19means" title='means' data-ref="19means">means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<var>0</var>);</td></tr>
<tr><th id="60">60</th><td>    <a class="local col8 ref" href="#28m0" title='m0' data-ref="28m0">m0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col4 ref" href="#34mr0" title='mr0' data-ref="34mr0">mr0</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="61">61</th><td>    <a class="local col9 ref" href="#29c0" title='c0' data-ref="29c0">c0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col0 ref" href="#20covs" title='covs' data-ref="20covs">covs</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<var>0</var>]</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col5 decl" id="35mr1" title='mr1' data-type='cv::Mat' data-ref="35mr1">mr1</dfn> = <a class="local col9 ref" href="#19means" title='means' data-ref="19means">means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<var>1</var>);</td></tr>
<tr><th id="64">64</th><td>    <a class="local col0 ref" href="#30m1" title='m1' data-ref="30m1">m1</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col5 ref" href="#35mr1" title='mr1' data-ref="35mr1">mr1</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="65">65</th><td>    <a class="local col1 ref" href="#31c1" title='c1' data-ref="31c1">c1</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col0 ref" href="#20covs" title='covs' data-ref="20covs">covs</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<var>1</var>]</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col6 decl" id="36mr2" title='mr2' data-type='cv::Mat' data-ref="36mr2">mr2</dfn> = <a class="local col9 ref" href="#19means" title='means' data-ref="19means">means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<var>2</var>);</td></tr>
<tr><th id="68">68</th><td>    <a class="local col2 ref" href="#32m2" title='m2' data-ref="32m2">m2</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col6 ref" href="#36mr2" title='mr2' data-ref="36mr2">mr2</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="69">69</th><td>    <a class="local col3 ref" href="#33c2" title='c2' data-ref="33c2">c2</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd" title='cv::Mat::convertTo' data-ref="_ZNK2cv3Mat9convertToERKNS_12_OutputArrayEidd">convertTo</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col0 ref" href="#20covs" title='covs' data-ref="20covs">covs</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<var>2</var>]</a>, <a class="local col1 ref" href="#21type" title='type' data-ref="21type">type</a>);</td></tr>
<tr><th id="70">70</th><td>}</td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td><i  data-doc="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">// generate points sets by normal distributions</i></td></tr>
<tr><th id="73">73</th><td><em>static</em></td></tr>
<tr><th id="74">74</th><td><em>void</em> <dfn class="tu decl def" id="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-type='void generateData(cv::Mat &amp; data, cv::Mat &amp; labels, const vector&lt;int&gt; &amp; sizes, const cv::Mat &amp; _means, const vector&lt;cv::Mat&gt; &amp; covs, int dataType, int labelType)' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</dfn>( <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col7 decl" id="37data" title='data' data-type='cv::Mat &amp;' data-ref="37data">data</dfn>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col8 decl" id="38labels" title='labels' data-type='cv::Mat &amp;' data-ref="38labels">labels</dfn>, <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col9 decl" id="39sizes" title='sizes' data-type='const vector&lt;int&gt; &amp;' data-ref="39sizes">sizes</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col0 decl" id="40_means" title='_means' data-type='const cv::Mat &amp;' data-ref="40_means">_means</dfn>, <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt;&amp; <dfn class="local col1 decl" id="41covs" title='covs' data-type='const vector&lt;cv::Mat&gt; &amp;' data-ref="41covs">covs</dfn>, <em>int</em> <dfn class="local col2 decl" id="42dataType" title='dataType' data-type='int' data-ref="42dataType">dataType</dfn>, <em>int</em> <dfn class="local col3 decl" id="43labelType" title='labelType' data-type='int' data-ref="43labelType">labelType</dfn> )</td></tr>
<tr><th id="75">75</th><td>{</td></tr>
<tr><th id="76">76</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;::<a class="typedef" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector{int,std::allocator{int}}::const_iterator" title='std::vector&lt;int, std::allocator&lt;int&gt; &gt;::const_iterator' data-type='__gnu_cxx::__normal_iterator&lt;const_pointer, vector&lt;int, allocator&lt;int&gt; &gt; &gt;' data-ref="std::vector{int,std::allocator{int}}::const_iterator">const_iterator</a> <dfn class="local col4 decl" id="44sit" title='sit' data-type='vector&lt;int&gt;::const_iterator' data-ref="44sit">sit</dfn> = <a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>();</td></tr>
<tr><th id="77">77</th><td>    <em>int</em> <dfn class="local col5 decl" id="45total" title='total' data-type='int' data-ref="45total">total</dfn> = <var>0</var>;</td></tr>
<tr><th id="78">78</th><td>    <b>for</b>( ; <a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::operator!=" title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=">!=</a> <a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>(); <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator++" title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++">++</a><a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a> )</td></tr>
<tr><th id="79">79</th><td>        <a class="local col5 ref" href="#45total" title='total' data-ref="45total">total</a> += <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a>;</td></tr>
<tr><th id="80">80</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(_means.rows == (int)sizes.size() &amp;&amp; covs.size() == sizes.size())) ; else cv::error( cv::Exception(CV_StsAssert, &quot;_means.rows == (int)sizes.size() &amp;&amp; covs.size() == sizes.size()&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 80) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col0 ref" href="#40_means" title='_means' data-ref="40_means">_means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> == (<em>int</em>)<a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() &amp;&amp; <a class="local col1 ref" href="#41covs" title='covs' data-ref="41covs">covs</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() == <a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>() );</td></tr>
<tr><th id="81">81</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(!data.empty() &amp;&amp; data.rows == total)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;!data.empty() &amp;&amp; data.rows == total&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 81) )" data-ref="_M/CV_Assert">CV_Assert</a>( !<a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5emptyEv" title='cv::Mat::empty' data-ref="_ZNK2cv3Mat5emptyEv">empty</a>() &amp;&amp; <a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> == <a class="local col5 ref" href="#45total" title='total' data-ref="45total">total</a> );</td></tr>
<tr><th id="82">82</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(data.type() == dataType)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;data.type() == dataType&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 82) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="local col2 ref" href="#42dataType" title='dataType' data-ref="42dataType">dataType</a> );</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td>    <a class="local col8 ref" href="#38labels" title='labels' data-ref="38labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>( <a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>, <var>1</var>, <a class="local col3 ref" href="#43labelType" title='labelType' data-ref="43labelType">labelType</a> );</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>    <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv5randnERKNS_12_OutputArrayERKNS_11_InputArrayES5_" title='cv::randn' data-ref="_ZN2cv5randnERKNS_12_OutputArrayERKNS_11_InputArrayES5_">randn</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_7Scalar_IdEE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_7Scalar_IdEE"></a><a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a>::<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_3allET_" title='cv::Scalar_::all' data-ref="_ZN2cv7Scalar_3allET_">all</a>(-<var>1.0</var>), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_7Scalar_IdEE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_7Scalar_IdEE"></a><a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a>::<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_3allET_" title='cv::Scalar_::all' data-ref="_ZN2cv7Scalar_3allET_">all</a>(<var>1.0</var>) );</td></tr>
<tr><th id="87">87</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt; <dfn class="local col6 decl" id="46means" title='means' data-type='vector&lt;cv::Mat&gt;' data-ref="46means">means</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT_RKT0_">(</a><a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>());</td></tr>
<tr><th id="88">88</th><td>    <b>for</b>(<em>int</em> <dfn class="local col7 decl" id="47i" title='i' data-type='int' data-ref="47i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#47i" title='i' data-ref="47i">i</a> &lt; <a class="local col0 ref" href="#40_means" title='_means' data-ref="40_means">_means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col7 ref" href="#47i" title='i' data-ref="47i">i</a>++)</td></tr>
<tr><th id="89">89</th><td>        <a class="local col6 ref" href="#46means" title='means' data-ref="46means">means</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col7 ref" href="#47i" title='i' data-ref="47i">i</a>]</a> <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MataSERKS0_" title='cv::Mat::operator=' data-ref="_ZN2cv3MataSERKS0_">=</a> <a class="local col0 ref" href="#40_means" title='_means' data-ref="40_means">_means</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col7 ref" href="#47i" title='i' data-ref="47i">i</a>);</td></tr>
<tr><th id="90">90</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt;::<a class="typedef" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector{cv::Mat,std::allocator{cv::Mat}}::const_iterator" title='std::vector&lt;cv::Mat, std::allocator&lt;cv::Mat&gt; &gt;::const_iterator' data-type='__gnu_cxx::__normal_iterator&lt;const_pointer, vector&lt;Mat, allocator&lt;Mat&gt; &gt; &gt;' data-ref="std::vector{cv::Mat,std::allocator{cv::Mat}}::const_iterator">const_iterator</a> <dfn class="local col8 decl" id="48mit" title='mit' data-type='vector&lt;Mat&gt;::const_iterator' data-ref="48mit">mit</dfn> = <a class="ref fake" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}"></a><a class="local col6 ref" href="#46means" title='means' data-ref="46means">means</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv">begin</a>(), <dfn class="local col9 decl" id="49cit" title='cit' data-type='vector&lt;Mat&gt;::const_iterator' data-ref="49cit">cit</dfn> = <a class="local col1 ref" href="#41covs" title='covs' data-ref="41covs">covs</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>();</td></tr>
<tr><th id="91">91</th><td>    <em>int</em> <dfn class="local col0 decl" id="50bi" title='bi' data-type='int' data-ref="50bi">bi</dfn>, <dfn class="local col1 decl" id="51ei" title='ei' data-type='int' data-ref="51ei">ei</dfn> = <var>0</var>;</td></tr>
<tr><th id="92">92</th><td>    <a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#708" title='__gnu_cxx::__normal_iterator&lt;const int *, std::vector&lt;int, std::allocator&lt;int&gt; &gt; &gt;::operator=' data-ref="__gnu_cxx::__normal_iterator{constint*,std::vector{int,std::allocator{int}}}::operator=">=</a> <a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>();</td></tr>
<tr><th id="93">93</th><td>    <b>for</b>( <em>int</em> <dfn class="local col2 decl" id="52p" title='p' data-type='int' data-ref="52p">p</dfn> = <var>0</var>, <dfn class="local col3 decl" id="53l" title='l' data-type='int' data-ref="53l">l</dfn> = <var>0</var>; <a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::operator!=" title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=">!=</a> <a class="local col9 ref" href="#39sizes" title='sizes' data-ref="39sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>(); <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator++" title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++">++</a><a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a>, <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator++" title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++">++</a><a class="local col8 ref" href="#48mit" title='mit' data-ref="48mit">mit</a>, <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator++" title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++">++</a><a class="local col9 ref" href="#49cit" title='cit' data-ref="49cit">cit</a>, <a class="local col3 ref" href="#53l" title='l' data-ref="53l">l</a>++ )</td></tr>
<tr><th id="94">94</th><td>    {</td></tr>
<tr><th id="95">95</th><td>        <a class="local col0 ref" href="#50bi" title='bi' data-ref="50bi">bi</a> = <a class="local col1 ref" href="#51ei" title='ei' data-ref="51ei">ei</a>;</td></tr>
<tr><th id="96">96</th><td>        <a class="local col1 ref" href="#51ei" title='ei' data-ref="51ei">ei</a> = <a class="local col0 ref" href="#50bi" title='bi' data-ref="50bi">bi</a> + <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col4 ref" href="#44sit" title='sit' data-ref="44sit">sit</a>;</td></tr>
<tr><th id="97">97</th><td>        <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( mit-&gt;rows == <var>1</var> &amp;&amp; mit-&gt;cols == data.cols );</td></tr>
<tr><th id="98">98</th><td>        <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( cit-&gt;rows == data.cols &amp;&amp; cit-&gt;cols == data.cols );</td></tr>
<tr><th id="99">99</th><td>        <b>for</b>( <em>int</em> <dfn class="local col4 decl" id="54i" title='i' data-type='int' data-ref="54i">i</dfn> = <a class="local col0 ref" href="#50bi" title='bi' data-ref="50bi">bi</a>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a> &lt; <a class="local col1 ref" href="#51ei" title='ei' data-ref="51ei">ei</a>; <a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>++, <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>++ )</td></tr>
<tr><th id="100">100</th><td>        {</td></tr>
<tr><th id="101">101</th><td>            <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col5 decl" id="55r" title='r' data-type='cv::Mat' data-ref="55r">r</dfn> = <a class="local col7 ref" href="#37data" title='data' data-ref="37data">data</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col4 ref" href="#54i" title='i' data-ref="54i">i</a>);</td></tr>
<tr><th id="102">102</th><td>            <a class="local col5 ref" href="#55r" title='r' data-ref="55r">r</a> <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MataSERKNS_7MatExprE" title='cv::Mat::operator=' data-ref="_ZN2cv3MataSERKNS_7MatExprE">=</a>  <a class="local col5 ref" href="#55r" title='r' data-ref="55r">r</a> <a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cvmlERKNS_3MatES2_" title='cv::operator*' data-ref="_ZN2cvmlERKNS_3MatES2_">*</a> (<a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col9 ref" href="#49cit" title='cit' data-ref="49cit">cit</a>) <a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cvplERKNS_7MatExprERKNS_3MatE" title='cv::operator+' data-ref="_ZN2cvplERKNS_7MatExprERKNS_3MatE">+</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col8 ref" href="#48mit" title='mit' data-ref="48mit">mit</a>;</td></tr>
<tr><th id="103">103</th><td>            <b>if</b>( <a class="local col3 ref" href="#43labelType" title='labelType' data-ref="43labelType">labelType</a> == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> )</td></tr>
<tr><th id="104">104</th><td>                <a class="local col8 ref" href="#38labels" title='labels' data-ref="38labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>float</em>&gt;(<a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>, <var>0</var>) = (<em>float</em>)<a class="local col3 ref" href="#53l" title='l' data-ref="53l">l</a>;</td></tr>
<tr><th id="105">105</th><td>            <b>else</b> <b>if</b>( <a class="local col3 ref" href="#43labelType" title='labelType' data-ref="43labelType">labelType</a> == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> )</td></tr>
<tr><th id="106">106</th><td>                <a class="local col8 ref" href="#38labels" title='labels' data-ref="38labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;(<a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>, <var>0</var>) = <a class="local col3 ref" href="#53l" title='l' data-ref="53l">l</a>;</td></tr>
<tr><th id="107">107</th><td>            <b>else</b></td></tr>
<tr><th id="108">108</th><td>            {</td></tr>
<tr><th id="109">109</th><td>                <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#225" title="" data-ref="_M/CV_DbgAssert">CV_DbgAssert</a>(<var>0</var>);</td></tr>
<tr><th id="110">110</th><td>            }</td></tr>
<tr><th id="111">111</th><td>        }</td></tr>
<tr><th id="112">112</th><td>    }</td></tr>
<tr><th id="113">113</th><td>}</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><em>static</em></td></tr>
<tr><th id="116">116</th><td><em>int</em> <dfn class="tu decl def" id="_ZL6maxIdxRKSt6vectorIiSaIiEE" title='maxIdx' data-type='int maxIdx(const vector&lt;int&gt; &amp; count)' data-ref="_ZL6maxIdxRKSt6vectorIiSaIiEE">maxIdx</dfn>( <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col6 decl" id="56count" title='count' data-type='const vector&lt;int&gt; &amp;' data-ref="56count">count</dfn> )</td></tr>
<tr><th id="117">117</th><td>{</td></tr>
<tr><th id="118">118</th><td>    <em>int</em> <dfn class="local col7 decl" id="57idx" title='idx' data-type='int' data-ref="57idx">idx</dfn> = -<var>1</var>;</td></tr>
<tr><th id="119">119</th><td>    <em>int</em> <dfn class="local col8 decl" id="58maxVal" title='maxVal' data-type='int' data-ref="58maxVal">maxVal</dfn> = -<var>1</var>;</td></tr>
<tr><th id="120">120</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;::<a class="typedef" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector{int,std::allocator{int}}::const_iterator" title='std::vector&lt;int, std::allocator&lt;int&gt; &gt;::const_iterator' data-type='__gnu_cxx::__normal_iterator&lt;const_pointer, vector&lt;int, allocator&lt;int&gt; &gt; &gt;' data-ref="std::vector{int,std::allocator{int}}::const_iterator">const_iterator</a> <dfn class="local col9 decl" id="59it" title='it' data-type='vector&lt;int&gt;::const_iterator' data-ref="59it">it</dfn> = <a class="local col6 ref" href="#56count" title='count' data-ref="56count">count</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv">begin</a>();</td></tr>
<tr><th id="121">121</th><td>    <b>for</b>( <em>int</em> <dfn class="local col0 decl" id="60i" title='i' data-type='int' data-ref="60i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#59it" title='it' data-ref="59it">it</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::operator!=" title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=">!=</a> <a class="local col6 ref" href="#56count" title='count' data-ref="56count">count</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv">end</a>(); <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator++" title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++">++</a><a class="local col9 ref" href="#59it" title='it' data-ref="59it">it</a>, <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a>++ )</td></tr>
<tr><th id="122">122</th><td>    {</td></tr>
<tr><th id="123">123</th><td>        <b>if</b>( <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col9 ref" href="#59it" title='it' data-ref="59it">it</a> &gt; <a class="local col8 ref" href="#58maxVal" title='maxVal' data-ref="58maxVal">maxVal</a>)</td></tr>
<tr><th id="124">124</th><td>        {</td></tr>
<tr><th id="125">125</th><td>            <a class="local col8 ref" href="#58maxVal" title='maxVal' data-ref="58maxVal">maxVal</a> = <a class="ref" href="../../../../include/c++/4.8/bits/stl_iterator.h.html#__gnu_cxx::__normal_iterator::operator*" title='__gnu_cxx::__normal_iterator::operator*' data-ref="__gnu_cxx::__normal_iterator::operator*">*</a><a class="local col9 ref" href="#59it" title='it' data-ref="59it">it</a>;</td></tr>
<tr><th id="126">126</th><td>            <a class="local col7 ref" href="#57idx" title='idx' data-ref="57idx">idx</a> = <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a>;</td></tr>
<tr><th id="127">127</th><td>        }</td></tr>
<tr><th id="128">128</th><td>    }</td></tr>
<tr><th id="129">129</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( idx &gt;= <var>0</var>);</td></tr>
<tr><th id="130">130</th><td>    <b>return</b> <a class="local col7 ref" href="#57idx" title='idx' data-ref="57idx">idx</a>;</td></tr>
<tr><th id="131">131</th><td>}</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td><em>static</em></td></tr>
<tr><th id="134">134</th><td><em>bool</em> <dfn class="tu decl def" id="_ZL12getLabelsMapRKN2cv3MatERKSt6vectorIiSaIiEERS5_b" title='getLabelsMap' data-type='bool getLabelsMap(const cv::Mat &amp; labels, const vector&lt;int&gt; &amp; sizes, vector&lt;int&gt; &amp; labelsMap, bool checkClusterUniq = true)' data-ref="_ZL12getLabelsMapRKN2cv3MatERKSt6vectorIiSaIiEERS5_b">getLabelsMap</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col1 decl" id="61labels" title='labels' data-type='const cv::Mat &amp;' data-ref="61labels">labels</dfn>, <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col2 decl" id="62sizes" title='sizes' data-type='const vector&lt;int&gt; &amp;' data-ref="62sizes">sizes</dfn>, <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col3 decl" id="63labelsMap" title='labelsMap' data-type='vector&lt;int&gt; &amp;' data-ref="63labelsMap">labelsMap</dfn>, <em>bool</em> <dfn class="local col4 decl" id="64checkClusterUniq" title='checkClusterUniq' data-type='bool' data-ref="64checkClusterUniq">checkClusterUniq</dfn>=<b>true</b> )</td></tr>
<tr><th id="135">135</th><td>{</td></tr>
<tr><th id="136">136</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col5 decl" id="65total" title='total' data-type='size_t' data-ref="65total">total</dfn> = <var>0</var>, <dfn class="local col6 decl" id="66nclusters" title='nclusters' data-type='size_t' data-ref="66nclusters">nclusters</dfn> = <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>();</td></tr>
<tr><th id="137">137</th><td>    <b>for</b>(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="67i" title='i' data-type='size_t' data-ref="67i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a> &lt; <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); <a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a>++)</td></tr>
<tr><th id="138">138</th><td>        <a class="local col5 ref" href="#65total" title='total' data-ref="65total">total</a> += <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a>]</a>;</td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( !labels.empty() );</td></tr>
<tr><th id="141">141</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( labels.total() == total &amp;&amp; (labels.cols == <var>1</var> || labels.rows == <var>1</var>));</td></tr>
<tr><th id="142">142</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>( labels.type() == CV_32SC1 || labels.type() == CV_32FC1 );</td></tr>
<tr><th id="143">143</th><td></td></tr>
<tr><th id="144">144</th><td>    <em>bool</em> <dfn class="local col8 decl" id="68isFlt" title='isFlt' data-type='bool' data-ref="68isFlt">isFlt</dfn> = <a class="local col1 ref" href="#61labels" title='labels' data-ref="61labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>;</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>    <a class="local col3 ref" href="#63labelsMap" title='labelsMap' data-ref="63labelsMap">labelsMap</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vector6resizeEmT_" title='std::vector::resize' data-ref="_ZNSt6vector6resizeEmT_">resize</a>(<a class="local col6 ref" href="#66nclusters" title='nclusters' data-ref="66nclusters">nclusters</a>);</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>bool</em>&gt; <dfn class="local col9 decl" id="69buzy" title='buzy' data-type='vector&lt;bool&gt;' data-ref="69buzy">buzy</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNSt6vectorIbT_EC1EmRKbRKS0_" title='std::vector&lt;bool, type-parameter-0-0&gt;::vector&lt;_Bool, type-parameter-0-0&gt;' data-ref="_ZNSt6vectorIbT_EC1EmRKbRKS0_">(</a><a class="local col6 ref" href="#66nclusters" title='nclusters' data-ref="66nclusters">nclusters</a>, <b>false</b>);</td></tr>
<tr><th id="149">149</th><td>    <em>int</em> <dfn class="local col0 decl" id="70startIndex" title='startIndex' data-type='int' data-ref="70startIndex">startIndex</dfn> = <var>0</var>;</td></tr>
<tr><th id="150">150</th><td>    <b>for</b>( <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="71clusterIndex" title='clusterIndex' data-type='size_t' data-ref="71clusterIndex">clusterIndex</dfn> = <var>0</var>; <a class="local col1 ref" href="#71clusterIndex" title='clusterIndex' data-ref="71clusterIndex">clusterIndex</a> &lt; <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); <a class="local col1 ref" href="#71clusterIndex" title='clusterIndex' data-ref="71clusterIndex">clusterIndex</a>++ )</td></tr>
<tr><th id="151">151</th><td>    {</td></tr>
<tr><th id="152">152</th><td>        <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <dfn class="local col2 decl" id="72count" title='count' data-type='vector&lt;int&gt;' data-ref="72count">count</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1EmRKT_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT_RKT0_">(</a> <a class="local col6 ref" href="#66nclusters" title='nclusters' data-ref="66nclusters">nclusters</a>, <var>0</var> );</td></tr>
<tr><th id="153">153</th><td>        <b>for</b>( <em>int</em> <dfn class="local col3 decl" id="73i" title='i' data-type='int' data-ref="73i">i</dfn> = <a class="local col0 ref" href="#70startIndex" title='startIndex' data-ref="70startIndex">startIndex</a>; <a class="local col3 ref" href="#73i" title='i' data-ref="73i">i</a> &lt; <a class="local col0 ref" href="#70startIndex" title='startIndex' data-ref="70startIndex">startIndex</a> + <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col1 ref" href="#71clusterIndex" title='clusterIndex' data-ref="71clusterIndex">clusterIndex</a>]</a>; <a class="local col3 ref" href="#73i" title='i' data-ref="73i">i</a>++)</td></tr>
<tr><th id="154">154</th><td>        {</td></tr>
<tr><th id="155">155</th><td>            <em>int</em> <dfn class="local col4 decl" id="74lbl" title='lbl' data-type='int' data-ref="74lbl">lbl</dfn> = <a class="local col8 ref" href="#68isFlt" title='isFlt' data-ref="68isFlt">isFlt</a> ? (<em>int</em>)<a class="local col1 ref" href="#61labels" title='labels' data-ref="61labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col3 ref" href="#73i" title='i' data-ref="73i">i</a>) : <a class="local col1 ref" href="#61labels" title='labels' data-ref="61labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col3 ref" href="#73i" title='i' data-ref="73i">i</a>);</td></tr>
<tr><th id="156">156</th><td>            <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(lbl &lt; (int)nclusters)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;lbl &lt; (int)nclusters&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 156) )" data-ref="_M/CV_Assert">CV_Assert</a>(<a class="local col4 ref" href="#74lbl" title='lbl' data-ref="74lbl">lbl</a> &lt; (<em>int</em>)<a class="local col6 ref" href="#66nclusters" title='nclusters' data-ref="66nclusters">nclusters</a>);</td></tr>
<tr><th id="157">157</th><td>            <a class="local col2 ref" href="#72count" title='count' data-ref="72count">count</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col4 ref" href="#74lbl" title='lbl' data-ref="74lbl">lbl</a>]</a>++;</td></tr>
<tr><th id="158">158</th><td>            <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(count[lbl] &lt; (int)total)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;count[lbl] &lt; (int)total&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 158) )" data-ref="_M/CV_Assert">CV_Assert</a>(<a class="local col2 ref" href="#72count" title='count' data-ref="72count">count</a>[<a class="local col4 ref" href="#74lbl" title='lbl' data-ref="74lbl">lbl</a>] &lt; (<em>int</em>)<a class="local col5 ref" href="#65total" title='total' data-ref="65total">total</a>);</td></tr>
<tr><th id="159">159</th><td>        }</td></tr>
<tr><th id="160">160</th><td>        <a class="local col0 ref" href="#70startIndex" title='startIndex' data-ref="70startIndex">startIndex</a> += <a class="local col2 ref" href="#62sizes" title='sizes' data-ref="62sizes">sizes</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm">[<a class="local col1 ref" href="#71clusterIndex" title='clusterIndex' data-ref="71clusterIndex">clusterIndex</a>]</a>;</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>        <em>int</em> <dfn class="local col5 decl" id="75cls" title='cls' data-type='int' data-ref="75cls">cls</dfn> = <a class="tu ref" href="#_ZL6maxIdxRKSt6vectorIiSaIiEE" title='maxIdx' data-use='c' data-ref="_ZL6maxIdxRKSt6vectorIiSaIiEE">maxIdx</a>( <a class="local col2 ref" href="#72count" title='count' data-ref="72count">count</a> );</td></tr>
<tr><th id="163">163</th><td>        <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(!checkClusterUniq || !buzy[cls])) ; else cv::error( cv::Exception(CV_StsAssert, &quot;!checkClusterUniq || !buzy[cls]&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 163) )" data-ref="_M/CV_Assert">CV_Assert</a>( !<a class="local col4 ref" href="#64checkClusterUniq" title='checkClusterUniq' data-ref="64checkClusterUniq">checkClusterUniq</a> || !<a class="ref fake" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNKSt14_Bit_referencecvbEv" title='std::_Bit_reference::operator _Bool' data-ref="_ZNKSt14_Bit_referencecvbEv"></a><a class="local col9 ref" href="#69buzy" title='buzy' data-ref="69buzy">buzy</a>[<a class="local col5 ref" href="#75cls" title='cls' data-ref="75cls">cls</a>] );</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>        <a class="local col3 ref" href="#63labelsMap" title='labelsMap' data-ref="63labelsMap">labelsMap</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col1 ref" href="#71clusterIndex" title='clusterIndex' data-ref="71clusterIndex">clusterIndex</a>]</a> = <a class="local col5 ref" href="#75cls" title='cls' data-ref="75cls">cls</a>;</td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td>        <a class="local col9 ref" href="#69buzy" title='buzy' data-ref="69buzy">buzy</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNSt6vectorIbT_EixEm" title='std::vector&lt;bool, type-parameter-0-0&gt;::operator[]' data-ref="_ZNSt6vectorIbT_EixEm">[<a class="local col5 ref" href="#75cls" title='cls' data-ref="75cls">cls</a>]</a> <a class="ref" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNSt14_Bit_referenceaSEb" title='std::_Bit_reference::operator=' data-ref="_ZNSt14_Bit_referenceaSEb">=</a> <b>true</b>;</td></tr>
<tr><th id="168">168</th><td>    }</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td>    <b>if</b>(<a class="local col4 ref" href="#64checkClusterUniq" title='checkClusterUniq' data-ref="64checkClusterUniq">checkClusterUniq</a>)</td></tr>
<tr><th id="171">171</th><td>    {</td></tr>
<tr><th id="172">172</th><td>        <b>for</b>(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col6 decl" id="76i" title='i' data-type='size_t' data-ref="76i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#76i" title='i' data-ref="76i">i</a> &lt; <a class="local col9 ref" href="#69buzy" title='buzy' data-ref="69buzy">buzy</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNKSt6vectorIbT_E4sizeEv" title='std::vector&lt;bool, type-parameter-0-0&gt;::size' data-ref="_ZNKSt6vectorIbT_E4sizeEv">size</a>(); <a class="local col6 ref" href="#76i" title='i' data-ref="76i">i</a>++)</td></tr>
<tr><th id="173">173</th><td>            <b>if</b>(!<a class="ref fake" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNKSt14_Bit_referencecvbEv" title='std::_Bit_reference::operator _Bool' data-ref="_ZNKSt14_Bit_referencecvbEv"></a><a class="local col9 ref" href="#69buzy" title='buzy' data-ref="69buzy">buzy</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_bvector.h.html#_ZNSt6vectorIbT_EixEm" title='std::vector&lt;bool, type-parameter-0-0&gt;::operator[]' data-ref="_ZNSt6vectorIbT_EixEm">[<a class="local col6 ref" href="#76i" title='i' data-ref="76i">i</a>]</a>)</td></tr>
<tr><th id="174">174</th><td>                <b>return</b> <b>false</b>;</td></tr>
<tr><th id="175">175</th><td>    }</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="178">178</th><td>}</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td><em>static</em></td></tr>
<tr><th id="181">181</th><td><em>bool</em> <dfn class="tu decl def" id="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-type='bool calcErr(const cv::Mat &amp; labels, const cv::Mat &amp; origLabels, const vector&lt;int&gt; &amp; sizes, float &amp; err, bool labelsEquivalent = true, bool checkClusterUniq = true)' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</dfn>( <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col7 decl" id="77labels" title='labels' data-type='const cv::Mat &amp;' data-ref="77labels">labels</dfn>, <em>const</em> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col8 decl" id="78origLabels" title='origLabels' data-type='const cv::Mat &amp;' data-ref="78origLabels">origLabels</dfn>, <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col9 decl" id="79sizes" title='sizes' data-type='const vector&lt;int&gt; &amp;' data-ref="79sizes">sizes</dfn>, <em>float</em>&amp; <dfn class="local col0 decl" id="80err" title='err' data-type='float &amp;' data-ref="80err">err</dfn>, <em>bool</em> <dfn class="local col1 decl" id="81labelsEquivalent" title='labelsEquivalent' data-type='bool' data-ref="81labelsEquivalent">labelsEquivalent</dfn> = <b>true</b>, <em>bool</em> <dfn class="local col2 decl" id="82checkClusterUniq" title='checkClusterUniq' data-type='bool' data-ref="82checkClusterUniq">checkClusterUniq</dfn>=<b>true</b> )</td></tr>
<tr><th id="182">182</th><td>{</td></tr>
<tr><th id="183">183</th><td>    <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> = <var>0</var>;</td></tr>
<tr><th id="184">184</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(!labels.empty() &amp;&amp; !origLabels.empty())) ; else cv::error( cv::Exception(CV_StsAssert, &quot;!labels.empty() &amp;&amp; !origLabels.empty()&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 184) )" data-ref="_M/CV_Assert">CV_Assert</a>( !<a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5emptyEv" title='cv::Mat::empty' data-ref="_ZNK2cv3Mat5emptyEv">empty</a>() &amp;&amp; !<a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5emptyEv" title='cv::Mat::empty' data-ref="_ZNK2cv3Mat5emptyEv">empty</a>() );</td></tr>
<tr><th id="185">185</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(labels.rows == 1 || labels.cols == 1)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;labels.rows == 1 || labels.cols == 1&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 185) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> == <var>1</var> || <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a> == <var>1</var> );</td></tr>
<tr><th id="186">186</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(origLabels.rows == 1 || origLabels.cols == 1)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;origLabels.rows == 1 || origLabels.cols == 1&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 186) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> == <var>1</var> || <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a> == <var>1</var> );</td></tr>
<tr><th id="187">187</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(labels.total() == origLabels.total())) ; else cv::error( cv::Exception(CV_StsAssert, &quot;labels.total() == origLabels.total()&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 187) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5totalEv" title='cv::Mat::total' data-ref="_ZNK2cv3Mat5totalEv">total</a>() == <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat5totalEv" title='cv::Mat::total' data-ref="_ZNK2cv3Mat5totalEv">total</a>() );</td></tr>
<tr><th id="188">188</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(labels.type() == (((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3)) || labels.type() == (((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3)))) ; else cv::error( cv::Exception(CV_StsAssert, &quot;labels.type() == CV_32SC1 || labels.type() == CV_32FC1&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 188) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> || <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> );</td></tr>
<tr><th id="189">189</th><td>    <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(origLabels.type() == labels.type())) ; else cv::error( cv::Exception(CV_StsAssert, &quot;origLabels.type() == labels.type()&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 189) )" data-ref="_M/CV_Assert">CV_Assert</a>( <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() );</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <a class="ref fake" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col3 decl" id="83labelsMap" title='labelsMap' data-type='vector&lt;int&gt;' data-ref="83labelsMap">labelsMap</dfn>;</td></tr>
<tr><th id="192">192</th><td>    <em>bool</em> <dfn class="local col4 decl" id="84isFlt" title='isFlt' data-type='bool' data-ref="84isFlt">isFlt</dfn> = <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat4typeEv" title='cv::Mat::type' data-ref="_ZNK2cv3Mat4typeEv">type</a>() == <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>;</td></tr>
<tr><th id="193">193</th><td>    <b>if</b>( !<a class="local col1 ref" href="#81labelsEquivalent" title='labelsEquivalent' data-ref="81labelsEquivalent">labelsEquivalent</a> )</td></tr>
<tr><th id="194">194</th><td>    {</td></tr>
<tr><th id="195">195</th><td>        <b>if</b>( !<a class="tu ref" href="#_ZL12getLabelsMapRKN2cv3MatERKSt6vectorIiSaIiEERS5_b" title='getLabelsMap' data-use='c' data-ref="_ZL12getLabelsMapRKN2cv3MatERKSt6vectorIiSaIiEERS5_b">getLabelsMap</a>( <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>, <a class="local col9 ref" href="#79sizes" title='sizes' data-ref="79sizes">sizes</a>, <span class='refarg'><a class="local col3 ref" href="#83labelsMap" title='labelsMap' data-ref="83labelsMap">labelsMap</a></span>, <a class="local col2 ref" href="#82checkClusterUniq" title='checkClusterUniq' data-ref="82checkClusterUniq">checkClusterUniq</a> ) )</td></tr>
<tr><th id="196">196</th><td>            <b>return</b> <b>false</b>;</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td>        <b>for</b>( <em>int</em> <dfn class="local col5 decl" id="85i" title='i' data-type='int' data-ref="85i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a> &lt; <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a>++ )</td></tr>
<tr><th id="199">199</th><td>            <b>if</b>( <a class="local col4 ref" href="#84isFlt" title='isFlt' data-ref="84isFlt">isFlt</a> )</td></tr>
<tr><th id="200">200</th><td>                <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> += <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a>) != <a class="local col3 ref" href="#83labelsMap" title='labelsMap' data-ref="83labelsMap">labelsMap</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[(<em>int</em>)<a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a>)]</a> ? <var>1.f</var> : <var>0.f</var>;</td></tr>
<tr><th id="201">201</th><td>            <b>else</b></td></tr>
<tr><th id="202">202</th><td>                <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> += <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a>) != <a class="local col3 ref" href="#83labelsMap" title='labelsMap' data-ref="83labelsMap">labelsMap</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col5 ref" href="#85i" title='i' data-ref="85i">i</a>)]</a> ? <var>1.f</var> : <var>0.f</var>;</td></tr>
<tr><th id="203">203</th><td>    }</td></tr>
<tr><th id="204">204</th><td>    <b>else</b></td></tr>
<tr><th id="205">205</th><td>    {</td></tr>
<tr><th id="206">206</th><td>        <b>for</b>( <em>int</em> <dfn class="local col6 decl" id="86i" title='i' data-type='int' data-ref="86i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a> &lt; <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a>++ )</td></tr>
<tr><th id="207">207</th><td>            <b>if</b>( <a class="local col4 ref" href="#84isFlt" title='isFlt' data-ref="84isFlt">isFlt</a> )</td></tr>
<tr><th id="208">208</th><td>                <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> += <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a>) != <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a>) ? <var>1.f</var> : <var>0.f</var>;</td></tr>
<tr><th id="209">209</th><td>            <b>else</b></td></tr>
<tr><th id="210">210</th><td>                <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> += <a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a>) != <a class="local col8 ref" href="#78origLabels" title='origLabels' data-ref="78origLabels">origLabels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZNK2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZNK2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col6 ref" href="#86i" title='i' data-ref="86i">i</a>) ? <var>1.f</var> : <var>0.f</var>;</td></tr>
<tr><th id="211">211</th><td>    }</td></tr>
<tr><th id="212">212</th><td>    <a class="local col0 ref" href="#80err" title='err' data-ref="80err">err</a> /= (<em>float</em>)<a class="local col7 ref" href="#77labels" title='labels' data-ref="77labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>;</td></tr>
<tr><th id="213">213</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="214">214</th><td>}</td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td><i>//--------------------------------------------------------------------------------------------</i></td></tr>
<tr><th id="217">217</th><td><b>class</b> <dfn class="type def" id="CV_KMeansTest" title='CV_KMeansTest' data-ref="CV_KMeansTest">CV_KMeansTest</dfn> : <b>public</b> <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest" title='cvtest::BaseTest' data-ref="cvtest::BaseTest">BaseTest</a> {</td></tr>
<tr><th id="218">218</th><td><b>public</b>:</td></tr>
<tr><th id="219">219</th><td>    <dfn class="tu decl def" id="_ZN13CV_KMeansTestC1Ev" title='CV_KMeansTest::CV_KMeansTest' data-type='void CV_KMeansTest::CV_KMeansTest()' data-ref="_ZN13CV_KMeansTestC1Ev">CV_KMeansTest</dfn>() {}</td></tr>
<tr><th id="220">220</th><td><b>protected</b>:</td></tr>
<tr><th id="221">221</th><td>    <b>virtual</b> <em>void</em> <a class="virtual decl" href="#_ZN13CV_KMeansTest3runEi" title='CV_KMeansTest::run' data-ref="_ZN13CV_KMeansTest3runEi">run</a>( <em>int</em> <dfn class="local col7 decl" id="87start_from" title='start_from' data-type='int' data-ref="87start_from">start_from</dfn> );</td></tr>
<tr><th id="222">222</th><td>};</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td><em>void</em> <a class="type" href="#CV_KMeansTest" title='CV_KMeansTest' data-ref="CV_KMeansTest">CV_KMeansTest</a>::<dfn class="virtual decl def" id="_ZN13CV_KMeansTest3runEi" title='CV_KMeansTest::run' data-ref="_ZN13CV_KMeansTest3runEi">run</dfn>( <em>int</em> <i>/*start_from*/</i> )</td></tr>
<tr><th id="225">225</th><td>{</td></tr>
<tr><th id="226">226</th><td>    <em>const</em> <em>int</em> <dfn class="local col8 decl" id="88iters" title='iters' data-type='const int' data-ref="88iters">iters</dfn> = <var>100</var>;</td></tr>
<tr><th id="227">227</th><td>    <em>int</em> <dfn class="local col9 decl" id="89sizesArr" title='sizesArr' data-type='int [3]' data-ref="89sizesArr">sizesArr</dfn>[] = { <var>5000</var>, <var>7000</var>, <var>8000</var> };</td></tr>
<tr><th id="228">228</th><td>    <em>int</em> <dfn class="local col0 decl" id="90pointsCount" title='pointsCount' data-type='int' data-ref="90pointsCount">pointsCount</dfn> = <a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>[<var>0</var>]+ <a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>[<var>1</var>] + <a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>[<var>2</var>];</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="91data" title='data' data-type='cv::Mat' data-ref="91data">data</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a> <a class="local col0 ref" href="#90pointsCount" title='pointsCount' data-ref="90pointsCount">pointsCount</a>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> ), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col2 decl" id="92labels" title='labels' data-type='cv::Mat' data-ref="92labels">labels</dfn>;</td></tr>
<tr><th id="231">231</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <dfn class="local col3 decl" id="93sizes" title='sizes' data-type='vector&lt;int&gt;' data-ref="93sizes">sizes</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1ET_S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ET_S0_RKT0_">(</a> <a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>, <a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a> + <b>sizeof</b>(<a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>) / <b>sizeof</b>(<a class="local col9 ref" href="#89sizesArr" title='sizesArr' data-ref="89sizesArr">sizesArr</a>[<var>0</var>]) );</td></tr>
<tr><th id="232">232</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col4 decl" id="94means" title='means' data-type='cv::Mat' data-ref="94means">means</dfn>;</td></tr>
<tr><th id="233">233</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt; <a class="ref fake" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col5 decl" id="95covs" title='covs' data-type='vector&lt;cv::Mat&gt;' data-ref="95covs">covs</dfn>;</td></tr>
<tr><th id="234">234</th><td>    <a class="tu ref" href="#_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi" title='defaultDistribs' data-use='c' data-ref="_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi">defaultDistribs</a>( <span class='refarg'><a class="local col4 ref" href="#94means" title='means' data-ref="94means">means</a></span>, <span class='refarg'><a class="local col5 ref" href="#95covs" title='covs' data-ref="95covs">covs</a></span> );</td></tr>
<tr><th id="235">235</th><td>    <a class="tu ref" href="#_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-use='c' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</a>( <span class='refarg'><a class="local col1 ref" href="#91data" title='data' data-ref="91data">data</a></span>, <span class='refarg'><a class="local col2 ref" href="#92labels" title='labels' data-ref="92labels">labels</a></span>, <a class="local col3 ref" href="#93sizes" title='sizes' data-ref="93sizes">sizes</a>, <a class="local col4 ref" href="#94means" title='means' data-ref="94means">means</a>, <a class="local col5 ref" href="#95covs" title='covs' data-ref="95covs">covs</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> );</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td>    <em>int</em> <dfn class="local col6 decl" id="96code" title='code' data-type='int' data-ref="96code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="238">238</th><td>    <em>float</em> <dfn class="local col7 decl" id="97err" title='err' data-type='float' data-ref="97err">err</dfn>;</td></tr>
<tr><th id="239">239</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col8 decl" id="98bestLabels" title='bestLabels' data-type='cv::Mat' data-ref="98bestLabels">bestLabels</dfn>;</td></tr>
<tr><th id="240">240</th><td>    <i>// 1. flag==KMEANS_PP_CENTERS</i></td></tr>
<tr><th id="241">241</th><td>    <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_" title='cv::kmeans' data-ref="_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_">kmeans</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#91data" title='data' data-ref="91data">data</a>, <var>3</var>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12TermCriteriaC1Eiid" title='cv::TermCriteria::TermCriteria' data-ref="_ZN2cv12TermCriteriaC1Eiid">(</a> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria::::COUNT" title='cv::TermCriteria::::COUNT' data-ref="cv::TermCriteria::::COUNT">COUNT</a>, <a class="local col8 ref" href="#88iters" title='iters' data-ref="88iters">iters</a>, <var>0.0</var>), <var>0</var>, <a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::::KMEANS_PP_CENTERS" title='cv::::KMEANS_PP_CENTERS' data-ref="cv::::KMEANS_PP_CENTERS">KMEANS_PP_CENTERS</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>() );</td></tr>
<tr><th id="242">242</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="local col2 ref" href="#92labels" title='labels' data-ref="92labels">labels</a>, <a class="local col3 ref" href="#93sizes" title='sizes' data-ref="93sizes">sizes</a>, <span class='refarg'><a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a></span> , <b>false</b> ) )</td></tr>
<tr><th id="243">243</th><td>    {</td></tr>
<tr><th id="244">244</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad output labels if flag==KMEANS_PP_CENTERS.\n"</q> );</td></tr>
<tr><th id="245">245</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="246">246</th><td>    }</td></tr>
<tr><th id="247">247</th><td>    <b>else</b> <b>if</b>( <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> &gt; <var>0.01f</var> )</td></tr>
<tr><th id="248">248</th><td>    {</td></tr>
<tr><th id="249">249</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad accuracy (%f) if flag==KMEANS_PP_CENTERS.\n"</q>, <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> );</td></tr>
<tr><th id="250">250</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="251">251</th><td>    }</td></tr>
<tr><th id="252">252</th><td></td></tr>
<tr><th id="253">253</th><td>    <i>// 2. flag==KMEANS_RANDOM_CENTERS</i></td></tr>
<tr><th id="254">254</th><td>    <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_" title='cv::kmeans' data-ref="_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_">kmeans</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#91data" title='data' data-ref="91data">data</a>, <var>3</var>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12TermCriteriaC1Eiid" title='cv::TermCriteria::TermCriteria' data-ref="_ZN2cv12TermCriteriaC1Eiid">(</a> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria::::COUNT" title='cv::TermCriteria::::COUNT' data-ref="cv::TermCriteria::::COUNT">COUNT</a>, <a class="local col8 ref" href="#88iters" title='iters' data-ref="88iters">iters</a>, <var>0.0</var>), <var>0</var>, <a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::::KMEANS_RANDOM_CENTERS" title='cv::::KMEANS_RANDOM_CENTERS' data-ref="cv::::KMEANS_RANDOM_CENTERS">KMEANS_RANDOM_CENTERS</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>() );</td></tr>
<tr><th id="255">255</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="local col2 ref" href="#92labels" title='labels' data-ref="92labels">labels</a>, <a class="local col3 ref" href="#93sizes" title='sizes' data-ref="93sizes">sizes</a>, <span class='refarg'><a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a></span>, <b>false</b> ) )</td></tr>
<tr><th id="256">256</th><td>    {</td></tr>
<tr><th id="257">257</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad output labels if flag==KMEANS_RANDOM_CENTERS.\n"</q> );</td></tr>
<tr><th id="258">258</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="259">259</th><td>    }</td></tr>
<tr><th id="260">260</th><td>    <b>else</b> <b>if</b>( <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> &gt; <var>0.01f</var> )</td></tr>
<tr><th id="261">261</th><td>    {</td></tr>
<tr><th id="262">262</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad accuracy (%f) if flag==KMEANS_RANDOM_CENTERS.\n"</q>, <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> );</td></tr>
<tr><th id="263">263</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="264">264</th><td>    }</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>    <i>// 3. flag==KMEANS_USE_INITIAL_LABELS</i></td></tr>
<tr><th id="267">267</th><td>    <a class="local col2 ref" href="#92labels" title='labels' data-ref="92labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat6copyToERKNS_12_OutputArrayE" title='cv::Mat::copyTo' data-ref="_ZNK2cv3Mat6copyToERKNS_12_OutputArrayE">copyTo</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a> );</td></tr>
<tr><th id="268">268</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::RNG" title='cv::RNG' data-ref="cv::RNG">RNG</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNGC1Ev" title='cv::RNG::RNG' data-ref="_ZN2cv3RNGC1Ev"></a><dfn class="local col9 decl" id="99rng" title='rng' data-type='cv::RNG' data-ref="99rng">rng</dfn>;</td></tr>
<tr><th id="269">269</th><td>    <b>for</b>( <em>int</em> <dfn class="local col0 decl" id="100i" title='i' data-type='int' data-ref="100i">i</dfn> = <var>0</var>; <a class="local col0 ref" href="#100i" title='i' data-ref="100i">i</a> &lt; <var>0.5f</var> * <a class="local col0 ref" href="#90pointsCount" title='pointsCount' data-ref="90pointsCount">pointsCount</a>; <a class="local col0 ref" href="#100i" title='i' data-ref="100i">i</a>++ )</td></tr>
<tr><th id="270">270</th><td>        <a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;( <a class="local col9 ref" href="#99rng" title='rng' data-ref="99rng">rng</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNG4nextEv" title='cv::RNG::next' data-ref="_ZN2cv3RNG4nextEv">next</a>() % <a class="local col0 ref" href="#90pointsCount" title='pointsCount' data-ref="90pointsCount">pointsCount</a>, <var>0</var> ) = <a class="local col9 ref" href="#99rng" title='rng' data-ref="99rng">rng</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNG4nextEv" title='cv::RNG::next' data-ref="_ZN2cv3RNG4nextEv">next</a>() % <var>3</var>;</td></tr>
<tr><th id="271">271</th><td>    <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_" title='cv::kmeans' data-ref="_ZN2cv6kmeansERKNS_11_InputArrayEiRKNS_12_OutputArrayENS_12TermCriteriaEiiS5_">kmeans</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#91data" title='data' data-ref="91data">data</a>, <var>3</var>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12TermCriteriaC1Eiid" title='cv::TermCriteria::TermCriteria' data-ref="_ZN2cv12TermCriteriaC1Eiid">(</a> <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria::::COUNT" title='cv::TermCriteria::::COUNT' data-ref="cv::TermCriteria::::COUNT">COUNT</a>, <a class="local col8 ref" href="#88iters" title='iters' data-ref="88iters">iters</a>, <var>0.0</var>), <var>0</var>, <a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::::KMEANS_USE_INITIAL_LABELS" title='cv::::KMEANS_USE_INITIAL_LABELS' data-ref="cv::::KMEANS_USE_INITIAL_LABELS">KMEANS_USE_INITIAL_LABELS</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>() );</td></tr>
<tr><th id="272">272</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col8 ref" href="#98bestLabels" title='bestLabels' data-ref="98bestLabels">bestLabels</a>, <a class="local col2 ref" href="#92labels" title='labels' data-ref="92labels">labels</a>, <a class="local col3 ref" href="#93sizes" title='sizes' data-ref="93sizes">sizes</a>, <span class='refarg'><a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a></span>, <b>false</b> ) )</td></tr>
<tr><th id="273">273</th><td>    {</td></tr>
<tr><th id="274">274</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad output labels if flag==KMEANS_USE_INITIAL_LABELS.\n"</q> );</td></tr>
<tr><th id="275">275</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="276">276</th><td>    }</td></tr>
<tr><th id="277">277</th><td>    <b>else</b> <b>if</b>( <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> &gt; <var>0.01f</var> )</td></tr>
<tr><th id="278">278</th><td>    {</td></tr>
<tr><th id="279">279</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad accuracy (%f) if flag==KMEANS_USE_INITIAL_LABELS.\n"</q>, <a class="local col7 ref" href="#97err" title='err' data-ref="97err">err</a> );</td></tr>
<tr><th id="280">280</th><td>        <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="281">281</th><td>    }</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>    <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <a class="local col6 ref" href="#96code" title='code' data-ref="96code">code</a> );</td></tr>
<tr><th id="284">284</th><td>}</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td><i>//--------------------------------------------------------------------------------------------</i></td></tr>
<tr><th id="287">287</th><td><b>class</b> <dfn class="type def" id="CV_KNearestTest" title='CV_KNearestTest' data-ref="CV_KNearestTest">CV_KNearestTest</dfn> : <b>public</b> <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest" title='cvtest::BaseTest' data-ref="cvtest::BaseTest">BaseTest</a> {</td></tr>
<tr><th id="288">288</th><td><b>public</b>:</td></tr>
<tr><th id="289">289</th><td>    <dfn class="tu decl def" id="_ZN15CV_KNearestTestC1Ev" title='CV_KNearestTest::CV_KNearestTest' data-type='void CV_KNearestTest::CV_KNearestTest()' data-ref="_ZN15CV_KNearestTestC1Ev">CV_KNearestTest</dfn>() {}</td></tr>
<tr><th id="290">290</th><td><b>protected</b>:</td></tr>
<tr><th id="291">291</th><td>    <b>virtual</b> <em>void</em> <a class="virtual decl" href="#_ZN15CV_KNearestTest3runEi" title='CV_KNearestTest::run' data-ref="_ZN15CV_KNearestTest3runEi">run</a>( <em>int</em> <dfn class="local col1 decl" id="101start_from" title='start_from' data-type='int' data-ref="101start_from">start_from</dfn> );</td></tr>
<tr><th id="292">292</th><td>};</td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td><em>void</em> <a class="type" href="#CV_KNearestTest" title='CV_KNearestTest' data-ref="CV_KNearestTest">CV_KNearestTest</a>::<dfn class="virtual decl def" id="_ZN15CV_KNearestTest3runEi" title='CV_KNearestTest::run' data-ref="_ZN15CV_KNearestTest3runEi">run</dfn>( <em>int</em> <i>/*start_from*/</i> )</td></tr>
<tr><th id="295">295</th><td>{</td></tr>
<tr><th id="296">296</th><td>    <em>int</em> <dfn class="local col2 decl" id="102sizesArr" title='sizesArr' data-type='int [3]' data-ref="102sizesArr">sizesArr</dfn>[] = { <var>500</var>, <var>700</var>, <var>800</var> };</td></tr>
<tr><th id="297">297</th><td>    <em>int</em> <dfn class="local col3 decl" id="103pointsCount" title='pointsCount' data-type='int' data-ref="103pointsCount">pointsCount</dfn> = <a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>[<var>0</var>]+ <a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>[<var>1</var>] + <a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>[<var>2</var>];</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>    <i>// train data</i></td></tr>
<tr><th id="300">300</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col4 decl" id="104trainData" title='trainData' data-type='cv::Mat' data-ref="104trainData">trainData</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a> <a class="local col3 ref" href="#103pointsCount" title='pointsCount' data-ref="103pointsCount">pointsCount</a>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> ), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col5 decl" id="105trainLabels" title='trainLabels' data-type='cv::Mat' data-ref="105trainLabels">trainLabels</dfn>;</td></tr>
<tr><th id="301">301</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <dfn class="local col6 decl" id="106sizes" title='sizes' data-type='vector&lt;int&gt;' data-ref="106sizes">sizes</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1ET_S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ET_S0_RKT0_">(</a> <a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>, <a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a> + <b>sizeof</b>(<a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>) / <b>sizeof</b>(<a class="local col2 ref" href="#102sizesArr" title='sizesArr' data-ref="102sizesArr">sizesArr</a>[<var>0</var>]) );</td></tr>
<tr><th id="302">302</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col7 decl" id="107means" title='means' data-type='cv::Mat' data-ref="107means">means</dfn>;</td></tr>
<tr><th id="303">303</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt; <a class="ref fake" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col8 decl" id="108covs" title='covs' data-type='vector&lt;cv::Mat&gt;' data-ref="108covs">covs</dfn>;</td></tr>
<tr><th id="304">304</th><td>    <a class="tu ref" href="#_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi" title='defaultDistribs' data-use='c' data-ref="_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi">defaultDistribs</a>( <span class='refarg'><a class="local col7 ref" href="#107means" title='means' data-ref="107means">means</a></span>, <span class='refarg'><a class="local col8 ref" href="#108covs" title='covs' data-ref="108covs">covs</a></span> );</td></tr>
<tr><th id="305">305</th><td>    <a class="tu ref" href="#_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-use='c' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</a>( <span class='refarg'><a class="local col4 ref" href="#104trainData" title='trainData' data-ref="104trainData">trainData</a></span>, <span class='refarg'><a class="local col5 ref" href="#105trainLabels" title='trainLabels' data-ref="105trainLabels">trainLabels</a></span>, <a class="local col6 ref" href="#106sizes" title='sizes' data-ref="106sizes">sizes</a>, <a class="local col7 ref" href="#107means" title='means' data-ref="107means">means</a>, <a class="local col8 ref" href="#108covs" title='covs' data-ref="108covs">covs</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> );</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td>    <i>// test data</i></td></tr>
<tr><th id="308">308</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col9 decl" id="109testData" title='testData' data-type='cv::Mat' data-ref="109testData">testData</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a> <a class="local col3 ref" href="#103pointsCount" title='pointsCount' data-ref="103pointsCount">pointsCount</a>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> ), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col0 decl" id="110testLabels" title='testLabels' data-type='cv::Mat' data-ref="110testLabels">testLabels</dfn>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col1 decl" id="111bestLabels" title='bestLabels' data-type='cv::Mat' data-ref="111bestLabels">bestLabels</dfn>;</td></tr>
<tr><th id="309">309</th><td>    <a class="tu ref" href="#_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-use='c' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</a>( <span class='refarg'><a class="local col9 ref" href="#109testData" title='testData' data-ref="109testData">testData</a></span>, <span class='refarg'><a class="local col0 ref" href="#110testLabels" title='testLabels' data-ref="110testLabels">testLabels</a></span>, <a class="local col6 ref" href="#106sizes" title='sizes' data-ref="106sizes">sizes</a>, <a class="local col7 ref" href="#107means" title='means' data-ref="107means">means</a>, <a class="local col8 ref" href="#108covs" title='covs' data-ref="108covs">covs</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#650" title="(((5) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32FC1">CV_32FC1</a> );</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>    <em>int</em> <dfn class="local col2 decl" id="112code" title='code' data-type='int' data-ref="112code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="312">312</th><td>    <a class="typedef" href="../include/opencv2/ml/ml.hpp.html#cv::KNearest" title='cv::KNearest' data-type='CvKNearest' data-ref="cv::KNearest">KNearest</a> <a class="ref fake" href="../include/opencv2/ml/ml.hpp.html#_ZN10CvKNearestC1Ev" title='CvKNearest::CvKNearest' data-ref="_ZN10CvKNearestC1Ev"></a><dfn class="local col3 decl" id="113knearest" title='knearest' data-type='KNearest' data-ref="113knearest">knearest</dfn>;</td></tr>
<tr><th id="313">313</th><td>    <a class="local col3 ref" href="#113knearest" title='knearest' data-ref="113knearest">knearest</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN10CvKNearest5trainERKN2cv3MatES3_S3_bib" title='CvKNearest::train' data-ref="_ZN10CvKNearest5trainERKN2cv3MatES3_S3_bib">train</a>( <a class="local col4 ref" href="#104trainData" title='trainData' data-ref="104trainData">trainData</a>, <a class="local col5 ref" href="#105trainLabels" title='trainLabels' data-ref="105trainLabels">trainLabels</a> );</td></tr>
<tr><th id="314">314</th><td>    <a class="local col3 ref" href="#113knearest" title='knearest' data-ref="113knearest">knearest</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK10CvKNearest12find_nearestERKN2cv3MatEiPS1_PPKfS4_S4_" title='CvKNearest::find_nearest' data-ref="_ZNK10CvKNearest12find_nearestERKN2cv3MatEiPS1_PPKfS4_S4_">find_nearest</a>( <a class="local col9 ref" href="#109testData" title='testData' data-ref="109testData">testData</a>, <var>4</var>, &amp;<a class="local col1 ref" href="#111bestLabels" title='bestLabels' data-ref="111bestLabels">bestLabels</a> );</td></tr>
<tr><th id="315">315</th><td>    <em>float</em> <dfn class="local col4 decl" id="114err" title='err' data-type='float' data-ref="114err">err</dfn>;</td></tr>
<tr><th id="316">316</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col1 ref" href="#111bestLabels" title='bestLabels' data-ref="111bestLabels">bestLabels</a>, <a class="local col0 ref" href="#110testLabels" title='testLabels' data-ref="110testLabels">testLabels</a>, <a class="local col6 ref" href="#106sizes" title='sizes' data-ref="106sizes">sizes</a>, <span class='refarg'><a class="local col4 ref" href="#114err" title='err' data-ref="114err">err</a></span>, <b>true</b> ) )</td></tr>
<tr><th id="317">317</th><td>    {</td></tr>
<tr><th id="318">318</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad output labels.\n"</q> );</td></tr>
<tr><th id="319">319</th><td>        <a class="local col2 ref" href="#112code" title='code' data-ref="112code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="320">320</th><td>    }</td></tr>
<tr><th id="321">321</th><td>    <b>else</b> <b>if</b>( <a class="local col4 ref" href="#114err" title='err' data-ref="114err">err</a> &gt; <var>0.01f</var> )</td></tr>
<tr><th id="322">322</th><td>    {</td></tr>
<tr><th id="323">323</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Bad accuracy (%f) on test data.\n"</q>, <a class="local col4 ref" href="#114err" title='err' data-ref="114err">err</a> );</td></tr>
<tr><th id="324">324</th><td>        <a class="local col2 ref" href="#112code" title='code' data-ref="112code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="325">325</th><td>    }</td></tr>
<tr><th id="326">326</th><td>    <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <a class="local col2 ref" href="#112code" title='code' data-ref="112code">code</a> );</td></tr>
<tr><th id="327">327</th><td>}</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><b>class</b> <dfn class="type def" id="EM_Params" title='EM_Params' data-ref="EM_Params">EM_Params</dfn></td></tr>
<tr><th id="330">330</th><td>{</td></tr>
<tr><th id="331">331</th><td><b>public</b>:</td></tr>
<tr><th id="332">332</th><td>    <dfn class="tu decl def" id="_ZN9EM_ParamsC1EiiiRKN2cv12TermCriteriaEPKNS0_3MatES6_S6_PKSt6vectorIS4_SaIS4_EE" title='EM_Params::EM_Params' data-type='void EM_Params::EM_Params(int _nclusters = 10, int _covMatType = EM::COV_MAT_DIAGONAL, int _startStep = EM::START_AUTO_STEP, const cv::TermCriteria &amp; _termCrit = cv::TermCriteria(cv::TermCriteria::COUNT + cv::TermCriteria::EPS, 100, 1.1920929E-7F), const cv::Mat * _probs = 0, const cv::Mat * _weights = 0, const cv::Mat * _means = 0, const std::vector&lt;cv::Mat&gt; * _covs = 0)' data-ref="_ZN9EM_ParamsC1EiiiRKN2cv12TermCriteriaEPKNS0_3MatES6_S6_PKSt6vectorIS4_SaIS4_EE">EM_Params</dfn>(<em>int</em> <dfn class="local col5 decl" id="115_nclusters" title='_nclusters' data-type='int' data-ref="115_nclusters">_nclusters</dfn>=<var>10</var>, <em>int</em> <dfn class="local col6 decl" id="116_covMatType" title='_covMatType' data-type='int' data-ref="116_covMatType">_covMatType</dfn>=<a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_DIAGONAL" title='cv::EM::::COV_MAT_DIAGONAL' data-ref="cv::EM::::COV_MAT_DIAGONAL">COV_MAT_DIAGONAL</a>, <em>int</em> <dfn class="local col7 decl" id="117_startStep" title='_startStep' data-type='int' data-ref="117_startStep">_startStep</dfn>=<a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_AUTO_STEP" title='cv::EM::::START_AUTO_STEP' data-ref="cv::EM::::START_AUTO_STEP">START_AUTO_STEP</a>,</td></tr>
<tr><th id="333">333</th><td>           <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>&amp; <dfn class="local col8 decl" id="118_termCrit" title='_termCrit' data-type='const cv::TermCriteria &amp;' data-ref="118_termCrit">_termCrit</dfn>=<span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12TermCriteriaC1Eiid" title='cv::TermCriteria::TermCriteria' data-ref="_ZN2cv12TermCriteriaC1Eiid">(</a><span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria::::COUNT" title='cv::TermCriteria::::COUNT' data-ref="cv::TermCriteria::::COUNT">COUNT</a>+<span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria::::EPS" title='cv::TermCriteria::::EPS' data-ref="cv::TermCriteria::::EPS">EPS</a>, <var>100</var>, <span class="macro" title="1.19209290e-7F" data-ref="_M/FLT_EPSILON">FLT_EPSILON</span>),</td></tr>
<tr><th id="334">334</th><td>           <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="local col9 decl" id="119_probs" title='_probs' data-type='const cv::Mat *' data-ref="119_probs">_probs</dfn>=<var>0</var>, <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="local col0 decl" id="120_weights" title='_weights' data-type='const cv::Mat *' data-ref="120_weights">_weights</dfn>=<var>0</var>,</td></tr>
<tr><th id="335">335</th><td>           <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="local col1 decl" id="121_means" title='_means' data-type='const cv::Mat *' data-ref="121_means">_means</dfn>=<var>0</var>, <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt;* <dfn class="local col2 decl" id="122_covs" title='_covs' data-type='const std::vector&lt;cv::Mat&gt; *' data-ref="122_covs">_covs</dfn>=<var>0</var>)</td></tr>
<tr><th id="336">336</th><td>        : <a class="tu member" href="#EM_Params::nclusters" title='EM_Params::nclusters' data-use='w' data-ref="EM_Params::nclusters">nclusters</a>(<a class="local col5 ref" href="#115_nclusters" title='_nclusters' data-ref="115_nclusters">_nclusters</a>), <a class="tu member" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a>(<a class="local col6 ref" href="#116_covMatType" title='_covMatType' data-ref="116_covMatType">_covMatType</a>), <a class="tu member" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a>(<a class="local col7 ref" href="#117_startStep" title='_startStep' data-ref="117_startStep">_startStep</a>),</td></tr>
<tr><th id="337">337</th><td>        <a class="tu member" href="#EM_Params::probs" title='EM_Params::probs' data-use='w' data-ref="EM_Params::probs">probs</a>(<a class="local col9 ref" href="#119_probs" title='_probs' data-ref="119_probs">_probs</a>), <a class="tu member" href="#EM_Params::weights" title='EM_Params::weights' data-use='w' data-ref="EM_Params::weights">weights</a>(<a class="local col0 ref" href="#120_weights" title='_weights' data-ref="120_weights">_weights</a>), <a class="tu member" href="#EM_Params::means" title='EM_Params::means' data-use='w' data-ref="EM_Params::means">means</a>(<a class="local col1 ref" href="#121_means" title='_means' data-ref="121_means">_means</a>), <a class="tu member" href="#EM_Params::covs" title='EM_Params::covs' data-use='w' data-ref="EM_Params::covs">covs</a>(<a class="local col2 ref" href="#122_covs" title='_covs' data-ref="122_covs">_covs</a>), <a class="tu member" href="#EM_Params::termCrit" title='EM_Params::termCrit' data-use='w' data-ref="EM_Params::termCrit">termCrit</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#2115" title='cv::TermCriteria::TermCriteria' data-ref="_ZN2cv12TermCriteriaC1ERKS0_">(</a><a class="local col8 ref" href="#118_termCrit" title='_termCrit' data-ref="118_termCrit">_termCrit</a>)</td></tr>
<tr><th id="338">338</th><td>    {}</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>    <em>int</em> <dfn class="tu decl" id="EM_Params::nclusters" title='EM_Params::nclusters' data-type='int' data-ref="EM_Params::nclusters">nclusters</dfn>;</td></tr>
<tr><th id="341">341</th><td>    <em>int</em> <dfn class="tu decl" id="EM_Params::covMatType" title='EM_Params::covMatType' data-type='int' data-ref="EM_Params::covMatType">covMatType</dfn>;</td></tr>
<tr><th id="342">342</th><td>    <em>int</em> <dfn class="tu decl" id="EM_Params::startStep" title='EM_Params::startStep' data-type='int' data-ref="EM_Params::startStep">startStep</dfn>;</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td>    <i  data-doc="EM_Params::probs">// all 4 following matrices should have type CV_32FC1</i></td></tr>
<tr><th id="345">345</th><td>    <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="tu decl" id="EM_Params::probs" title='EM_Params::probs' data-type='const cv::Mat *' data-ref="EM_Params::probs">probs</dfn>;</td></tr>
<tr><th id="346">346</th><td>    <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="tu decl" id="EM_Params::weights" title='EM_Params::weights' data-type='const cv::Mat *' data-ref="EM_Params::weights">weights</dfn>;</td></tr>
<tr><th id="347">347</th><td>    <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>* <dfn class="tu decl" id="EM_Params::means" title='EM_Params::means' data-type='const cv::Mat *' data-ref="EM_Params::means">means</dfn>;</td></tr>
<tr><th id="348">348</th><td>    <em>const</em> <span class="namespace">std::</span><a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt;* <dfn class="tu decl" id="EM_Params::covs" title='EM_Params::covs' data-type='const std::vector&lt;cv::Mat&gt; *' data-ref="EM_Params::covs">covs</dfn>;</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>    <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::TermCriteria" title='cv::TermCriteria' data-ref="cv::TermCriteria">TermCriteria</a> <dfn class="tu decl" id="EM_Params::termCrit" title='EM_Params::termCrit' data-type='cv::TermCriteria' data-ref="EM_Params::termCrit">termCrit</dfn>;</td></tr>
<tr><th id="351">351</th><td>};</td></tr>
<tr><th id="352">352</th><td></td></tr>
<tr><th id="353">353</th><td><i>//--------------------------------------------------------------------------------------------</i></td></tr>
<tr><th id="354">354</th><td><b>class</b> <dfn class="type def" id="CV_EMTest" title='CV_EMTest' data-ref="CV_EMTest">CV_EMTest</dfn> : <b>public</b> <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest" title='cvtest::BaseTest' data-ref="cvtest::BaseTest">BaseTest</a></td></tr>
<tr><th id="355">355</th><td>{</td></tr>
<tr><th id="356">356</th><td><b>public</b>:</td></tr>
<tr><th id="357">357</th><td>    <dfn class="tu decl def" id="_ZN9CV_EMTestC1Ev" title='CV_EMTest::CV_EMTest' data-type='void CV_EMTest::CV_EMTest()' data-ref="_ZN9CV_EMTestC1Ev">CV_EMTest</dfn>() {}</td></tr>
<tr><th id="358">358</th><td><b>protected</b>:</td></tr>
<tr><th id="359">359</th><td>    <b>virtual</b> <em>void</em> <a class="virtual decl" href="#_ZN9CV_EMTest3runEi" title='CV_EMTest::run' data-ref="_ZN9CV_EMTest3runEi">run</a>( <em>int</em> <dfn class="local col3 decl" id="123start_from" title='start_from' data-type='int' data-ref="123start_from">start_from</dfn> );</td></tr>
<tr><th id="360">360</th><td>    <em>int</em> <a class="tu decl" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-type='int CV_EMTest::runCase(int caseIndex, const EM_Params &amp; params, const cv::Mat &amp; trainData, const cv::Mat &amp; trainLabels, const cv::Mat &amp; testData, const cv::Mat &amp; testLabels, const vector&lt;int&gt; &amp; sizes)' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>( <em>int</em> <dfn class="local col4 decl" id="124caseIndex" title='caseIndex' data-type='int' data-ref="124caseIndex">caseIndex</dfn>, <em>const</em> <a class="type" href="#EM_Params" title='EM_Params' data-ref="EM_Params">EM_Params</a>&amp; <dfn class="local col5 decl" id="125params" title='params' data-type='const EM_Params &amp;' data-ref="125params">params</dfn>,</td></tr>
<tr><th id="361">361</th><td>                  <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col6 decl" id="126trainData" title='trainData' data-type='const cv::Mat &amp;' data-ref="126trainData">trainData</dfn>, <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col7 decl" id="127trainLabels" title='trainLabels' data-type='const cv::Mat &amp;' data-ref="127trainLabels">trainLabels</dfn>,</td></tr>
<tr><th id="362">362</th><td>                  <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col8 decl" id="128testData" title='testData' data-type='const cv::Mat &amp;' data-ref="128testData">testData</dfn>, <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col9 decl" id="129testLabels" title='testLabels' data-type='const cv::Mat &amp;' data-ref="129testLabels">testLabels</dfn>,</td></tr>
<tr><th id="363">363</th><td>                  <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col0 decl" id="130sizes" title='sizes' data-type='const vector&lt;int&gt; &amp;' data-ref="130sizes">sizes</dfn>);</td></tr>
<tr><th id="364">364</th><td>};</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td><em>int</em> <a class="type" href="#CV_EMTest" title='CV_EMTest' data-ref="CV_EMTest">CV_EMTest</a>::<dfn class="tu decl def" id="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-type='int CV_EMTest::runCase(int caseIndex, const EM_Params &amp; params, const cv::Mat &amp; trainData, const cv::Mat &amp; trainLabels, const cv::Mat &amp; testData, const cv::Mat &amp; testLabels, const vector&lt;int&gt; &amp; sizes)' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</dfn>( <em>int</em> <dfn class="local col1 decl" id="131caseIndex" title='caseIndex' data-type='int' data-ref="131caseIndex">caseIndex</dfn>, <em>const</em> <a class="type" href="#EM_Params" title='EM_Params' data-ref="EM_Params">EM_Params</a>&amp; <dfn class="local col2 decl" id="132params" title='params' data-type='const EM_Params &amp;' data-ref="132params">params</dfn>,</td></tr>
<tr><th id="367">367</th><td>                        <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col3 decl" id="133trainData" title='trainData' data-type='const cv::Mat &amp;' data-ref="133trainData">trainData</dfn>, <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col4 decl" id="134trainLabels" title='trainLabels' data-type='const cv::Mat &amp;' data-ref="134trainLabels">trainLabels</dfn>,</td></tr>
<tr><th id="368">368</th><td>                        <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col5 decl" id="135testData" title='testData' data-type='const cv::Mat &amp;' data-ref="135testData">testData</dfn>, <em>const</em> <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&amp; <dfn class="local col6 decl" id="136testLabels" title='testLabels' data-type='const cv::Mat &amp;' data-ref="136testLabels">testLabels</dfn>,</td></tr>
<tr><th id="369">369</th><td>                        <em>const</em> <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt;&amp; <dfn class="local col7 decl" id="137sizes" title='sizes' data-type='const vector&lt;int&gt; &amp;' data-ref="137sizes">sizes</dfn> )</td></tr>
<tr><th id="370">370</th><td>{</td></tr>
<tr><th id="371">371</th><td>    <em>int</em> <dfn class="local col8 decl" id="138code" title='code' data-type='int' data-ref="138code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td>    <span class="namespace">cv::</span><a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col9 decl" id="139labels" title='labels' data-type='cv::Mat' data-ref="139labels">labels</dfn>;</td></tr>
<tr><th id="374">374</th><td>    <em>float</em> <dfn class="local col0 decl" id="140err" title='err' data-type='float' data-ref="140err">err</dfn>;</td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td>    <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a> <dfn class="local col1 decl" id="141em" title='em' data-type='cv::EM' data-ref="141em">em</dfn><a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EMC1EiiRKNS_12TermCriteriaE" title='cv::EM::EM' data-ref="_ZN2cv2EMC1EiiRKNS_12TermCriteriaE">(</a><a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::nclusters" title='EM_Params::nclusters' data-use='r' data-ref="EM_Params::nclusters">nclusters</a>, <a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='r' data-ref="EM_Params::covMatType">covMatType</a>, <a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::termCrit" title='EM_Params::termCrit' data-use='r' data-ref="EM_Params::termCrit">termCrit</a>);</td></tr>
<tr><th id="377">377</th><td>    <b>if</b>( <a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='r' data-ref="EM_Params::startStep">startStep</a> == <a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_AUTO_STEP" title='cv::EM::::START_AUTO_STEP' data-ref="cv::EM::::START_AUTO_STEP">START_AUTO_STEP</a> )</td></tr>
<tr><th id="378">378</th><td>        <a class="local col1 ref" href="#141em" title='em' data-ref="141em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_" title='cv::EM::train' data-ref="_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_">train</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col3 ref" href="#133trainData" title='trainData' data-ref="133trainData">trainData</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>(), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a> );</td></tr>
<tr><th id="379">379</th><td>    <b>else</b> <b>if</b>( <a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='r' data-ref="EM_Params::startStep">startStep</a> == <a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_E_STEP" title='cv::EM::::START_E_STEP' data-ref="cv::EM::::START_E_STEP">START_E_STEP</a> )</td></tr>
<tr><th id="380">380</th><td>        <a class="local col1 ref" href="#141em" title='em' data-ref="141em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM6trainEERKNS_11_InputArrayES3_S3_S3_RKNS_12_OutputArrayES6_S6_" title='cv::EM::trainE' data-ref="_ZN2cv2EM6trainEERKNS_11_InputArrayES3_S3_S3_RKNS_12_OutputArrayES6_S6_">trainE</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col3 ref" href="#133trainData" title='trainData' data-ref="133trainData">trainData</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a>*<a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::means" title='EM_Params::means' data-use='r' data-ref="EM_Params::means">means</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKSt6vectorINS_3MatESaIS2_EE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKSt6vectorINS_3MatESaIS2_EE"></a>*<a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::covs" title='EM_Params::covs' data-use='r' data-ref="EM_Params::covs">covs</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a>*<a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::weights" title='EM_Params::weights' data-use='r' data-ref="EM_Params::weights">weights</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>(), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a> );</td></tr>
<tr><th id="381">381</th><td>    <b>else</b> <b>if</b>( <a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='r' data-ref="EM_Params::startStep">startStep</a> == <a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_M_STEP" title='cv::EM::::START_M_STEP' data-ref="cv::EM::::START_M_STEP">START_M_STEP</a> )</td></tr>
<tr><th id="382">382</th><td>        <a class="local col1 ref" href="#141em" title='em' data-ref="141em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM6trainMERKNS_11_InputArrayES3_RKNS_12_OutputArrayES6_S6_" title='cv::EM::trainM' data-ref="_ZN2cv2EM6trainMERKNS_11_InputArrayES3_RKNS_12_OutputArrayES6_S6_">trainM</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col3 ref" href="#133trainData" title='trainData' data-ref="133trainData">trainData</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a>*<a class="local col2 ref" href="#132params" title='params' data-ref="132params">params</a>.<a class="tu ref" href="#EM_Params::probs" title='EM_Params::probs' data-use='r' data-ref="EM_Params::probs">probs</a>, <a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7noArrayEv" title='cv::noArray' data-ref="_ZN2cv7noArrayEv">noArray</a>(), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a> );</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td>    <i>// check train error</i></td></tr>
<tr><th id="385">385</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a>, <a class="local col4 ref" href="#134trainLabels" title='trainLabels' data-ref="134trainLabels">trainLabels</a>, <a class="local col7 ref" href="#137sizes" title='sizes' data-ref="137sizes">sizes</a>, <span class='refarg'><a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a></span> , <b>false</b>, <b>false</b> ) )</td></tr>
<tr><th id="386">386</th><td>    {</td></tr>
<tr><th id="387">387</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Case index %i : Bad output labels.\n"</q>, <a class="local col1 ref" href="#131caseIndex" title='caseIndex' data-ref="131caseIndex">caseIndex</a> );</td></tr>
<tr><th id="388">388</th><td>        <a class="local col8 ref" href="#138code" title='code' data-ref="138code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="389">389</th><td>    }</td></tr>
<tr><th id="390">390</th><td>    <b>else</b> <b>if</b>( <a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a> &gt; <var>0.008f</var> )</td></tr>
<tr><th id="391">391</th><td>    {</td></tr>
<tr><th id="392">392</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Case index %i : Bad accuracy (%f) on train data.\n"</q>, <a class="local col1 ref" href="#131caseIndex" title='caseIndex' data-ref="131caseIndex">caseIndex</a>, <a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a> );</td></tr>
<tr><th id="393">393</th><td>        <a class="local col8 ref" href="#138code" title='code' data-ref="138code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="394">394</th><td>    }</td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td>    <i>// check test error</i></td></tr>
<tr><th id="397">397</th><td>    <a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat6createEiii" title='cv::Mat::create' data-ref="_ZN2cv3Mat6createEiii">create</a>( <a class="local col5 ref" href="#135testData" title='testData' data-ref="135testData">testData</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>, <var>1</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> );</td></tr>
<tr><th id="398">398</th><td>    <b>for</b>( <em>int</em> <dfn class="local col2 decl" id="142i" title='i' data-type='int' data-ref="142i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#142i" title='i' data-ref="142i">i</a> &lt; <a class="local col5 ref" href="#135testData" title='testData' data-ref="135testData">testData</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col2 ref" href="#142i" title='i' data-ref="142i">i</a>++ )</td></tr>
<tr><th id="399">399</th><td>    {</td></tr>
<tr><th id="400">400</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col3 decl" id="143sample" title='sample' data-type='cv::Mat' data-ref="143sample">sample</dfn> = <a class="local col5 ref" href="#135testData" title='testData' data-ref="135testData">testData</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col2 ref" href="#142i" title='i' data-ref="142i">i</a>);</td></tr>
<tr><th id="401">401</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col4 decl" id="144probs" title='probs' data-type='cv::Mat' data-ref="144probs">probs</dfn>;</td></tr>
<tr><th id="402">402</th><td>        <a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col2 ref" href="#142i" title='i' data-ref="142i">i</a>) = <b>static_cast</b>&lt;<em>int</em>&gt;(<a class="local col1 ref" href="#141em" title='em' data-ref="141em">em</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE" title='cv::EM::predict' data-ref="_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE">predict</a>( <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col3 ref" href="#143sample" title='sample' data-ref="143sample">sample</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col4 ref" href="#144probs" title='probs' data-ref="144probs">probs</a> )<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3VecixEi" title='cv::Vec::operator[]' data-ref="_ZN2cv3VecixEi">[<var>1</var>]</a>);</td></tr>
<tr><th id="403">403</th><td>    }</td></tr>
<tr><th id="404">404</th><td>    <b>if</b>( !<a class="tu ref" href="#_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb" title='calcErr' data-use='c' data-ref="_ZL7calcErrRKN2cv3MatES2_RKSt6vectorIiSaIiEERfbb">calcErr</a>( <a class="local col9 ref" href="#139labels" title='labels' data-ref="139labels">labels</a>, <a class="local col6 ref" href="#136testLabels" title='testLabels' data-ref="136testLabels">testLabels</a>, <a class="local col7 ref" href="#137sizes" title='sizes' data-ref="137sizes">sizes</a>, <span class='refarg'><a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a></span>, <b>false</b>, <b>false</b> ) )</td></tr>
<tr><th id="405">405</th><td>    {</td></tr>
<tr><th id="406">406</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Case index %i : Bad output labels.\n"</q>, <a class="local col1 ref" href="#131caseIndex" title='caseIndex' data-ref="131caseIndex">caseIndex</a> );</td></tr>
<tr><th id="407">407</th><td>        <a class="local col8 ref" href="#138code" title='code' data-ref="138code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_OUTPUT" title='cvtest::TS::::FAIL_INVALID_OUTPUT' data-ref="cvtest::TS::::FAIL_INVALID_OUTPUT">FAIL_INVALID_OUTPUT</a>;</td></tr>
<tr><th id="408">408</th><td>    }</td></tr>
<tr><th id="409">409</th><td>    <b>else</b> <b>if</b>( <a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a> &gt; <var>0.008f</var> )</td></tr>
<tr><th id="410">410</th><td>    {</td></tr>
<tr><th id="411">411</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Case index %i : Bad accuracy (%f) on test data.\n"</q>, <a class="local col1 ref" href="#131caseIndex" title='caseIndex' data-ref="131caseIndex">caseIndex</a>, <a class="local col0 ref" href="#140err" title='err' data-ref="140err">err</a> );</td></tr>
<tr><th id="412">412</th><td>        <a class="local col8 ref" href="#138code" title='code' data-ref="138code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="413">413</th><td>    }</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td>    <b>return</b> <a class="local col8 ref" href="#138code" title='code' data-ref="138code">code</a>;</td></tr>
<tr><th id="416">416</th><td>}</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><em>void</em> <a class="type" href="#CV_EMTest" title='CV_EMTest' data-ref="CV_EMTest">CV_EMTest</a>::<dfn class="virtual decl def" id="_ZN9CV_EMTest3runEi" title='CV_EMTest::run' data-ref="_ZN9CV_EMTest3runEi">run</dfn>( <em>int</em> <i>/*start_from*/</i> )</td></tr>
<tr><th id="419">419</th><td>{</td></tr>
<tr><th id="420">420</th><td>    <em>int</em> <dfn class="local col5 decl" id="145sizesArr" title='sizesArr' data-type='int [3]' data-ref="145sizesArr">sizesArr</dfn>[] = { <var>500</var>, <var>700</var>, <var>800</var> };</td></tr>
<tr><th id="421">421</th><td>    <em>int</em> <dfn class="local col6 decl" id="146pointsCount" title='pointsCount' data-type='int' data-ref="146pointsCount">pointsCount</dfn> = <a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>[<var>0</var>]+ <a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>[<var>1</var>] + <a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>[<var>2</var>];</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td>    <i>// Points distribution</i></td></tr>
<tr><th id="424">424</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col7 decl" id="147means" title='means' data-type='cv::Mat' data-ref="147means">means</dfn>;</td></tr>
<tr><th id="425">425</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a>&gt; <a class="ref fake" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1Ev" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev"></a><dfn class="local col8 decl" id="148covs" title='covs' data-type='vector&lt;cv::Mat&gt;' data-ref="148covs">covs</dfn>;</td></tr>
<tr><th id="426">426</th><td>    <a class="tu ref" href="#_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi" title='defaultDistribs' data-use='c' data-ref="_ZL15defaultDistribsRN2cv3MatERSt6vectorIS0_SaIS0_EEi">defaultDistribs</a>( <span class='refarg'><a class="local col7 ref" href="#147means" title='means' data-ref="147means">means</a></span>, <span class='refarg'><a class="local col8 ref" href="#148covs" title='covs' data-ref="148covs">covs</a></span>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a> );</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td>    <i>// train data</i></td></tr>
<tr><th id="429">429</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col9 decl" id="149trainData" title='trainData' data-type='cv::Mat' data-ref="149trainData">trainData</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a> <a class="local col6 ref" href="#146pointsCount" title='pointsCount' data-ref="146pointsCount">pointsCount</a>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a> ), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col0 decl" id="150trainLabels" title='trainLabels' data-type='cv::Mat' data-ref="150trainLabels">trainLabels</dfn>;</td></tr>
<tr><th id="430">430</th><td>    <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <dfn class="local col1 decl" id="151sizes" title='sizes' data-type='vector&lt;int&gt;' data-ref="151sizes">sizes</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1ET_S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ET_S0_RKT0_">(</a> <a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>, <a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a> + <b>sizeof</b>(<a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>) / <b>sizeof</b>(<a class="local col5 ref" href="#145sizesArr" title='sizesArr' data-ref="145sizesArr">sizesArr</a>[<var>0</var>]) );</td></tr>
<tr><th id="431">431</th><td>    <a class="tu ref" href="#_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-use='c' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</a>( <span class='refarg'><a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a></span>, <span class='refarg'><a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a></span>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>, <a class="local col7 ref" href="#147means" title='means' data-ref="147means">means</a>, <a class="local col8 ref" href="#148covs" title='covs' data-ref="148covs">covs</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> );</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>    <i>// test data</i></td></tr>
<tr><th id="434">434</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col2 decl" id="152testData" title='testData' data-type='cv::Mat' data-ref="152testData">testData</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a> <a class="local col6 ref" href="#146pointsCount" title='pointsCount' data-ref="146pointsCount">pointsCount</a>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a> ), <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col3 decl" id="153testLabels" title='testLabels' data-type='cv::Mat' data-ref="153testLabels">testLabels</dfn>;</td></tr>
<tr><th id="435">435</th><td>    <a class="tu ref" href="#_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii" title='generateData' data-use='c' data-ref="_ZL12generateDataRN2cv3MatES1_RKSt6vectorIiSaIiEERKS0_RKS2_IS0_SaIS0_EEii">generateData</a>( <span class='refarg'><a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a></span>, <span class='refarg'><a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a></span>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>, <a class="local col7 ref" href="#147means" title='means' data-ref="147means">means</a>, <a class="local col8 ref" href="#148covs" title='covs' data-ref="148covs">covs</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a> );</td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td>    <a class="type" href="#EM_Params" title='EM_Params' data-ref="EM_Params">EM_Params</a> <a class="tu ref fake" href="#_ZN9EM_ParamsC1EiiiRKN2cv12TermCriteriaEPKNS0_3MatES6_S6_PKSt6vectorIS4_SaIS4_EE" title='EM_Params::EM_Params' data-use='c' data-ref="_ZN9EM_ParamsC1EiiiRKN2cv12TermCriteriaEPKNS0_3MatES6_S6_PKSt6vectorIS4_SaIS4_EE"></a><dfn class="local col4 decl" id="154params" title='params' data-type='EM_Params' data-ref="154params">params</dfn>;</td></tr>
<tr><th id="438">438</th><td>    <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::nclusters" title='EM_Params::nclusters' data-use='w' data-ref="EM_Params::nclusters">nclusters</a> = <var>3</var>;</td></tr>
<tr><th id="439">439</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col5 decl" id="155probs" title='probs' data-type='cv::Mat' data-ref="155probs">probs</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE">(</a><a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::nclusters" title='EM_Params::nclusters' data-use='r' data-ref="EM_Params::nclusters">nclusters</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a>, <span class="namespace">cv::</span><a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_C1ET_" title='cv::Scalar_::Scalar_&lt;_Tp&gt;' data-ref="_ZN2cv7Scalar_C1ET_">(</a><var>1</var>));</td></tr>
<tr><th id="440">440</th><td>    <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::probs" title='EM_Params::probs' data-use='w' data-ref="EM_Params::probs">probs</a> = &amp;<a class="local col5 ref" href="#155probs" title='probs' data-ref="155probs">probs</a>;</td></tr>
<tr><th id="441">441</th><td>    <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col6 decl" id="156weights" title='weights' data-type='cv::Mat' data-ref="156weights">weights</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE">(</a><var>1</var>, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::nclusters" title='EM_Params::nclusters' data-use='r' data-ref="EM_Params::nclusters">nclusters</a>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a>, <span class="namespace">cv::</span><a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_C1ET_" title='cv::Scalar_::Scalar_&lt;_Tp&gt;' data-ref="_ZN2cv7Scalar_C1ET_">(</a><var>1</var>));</td></tr>
<tr><th id="442">442</th><td>    <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::weights" title='EM_Params::weights' data-use='w' data-ref="EM_Params::weights">weights</a> = &amp;<a class="local col6 ref" href="#156weights" title='weights' data-ref="156weights">weights</a>;</td></tr>
<tr><th id="443">443</th><td>    <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::means" title='EM_Params::means' data-use='w' data-ref="EM_Params::means">means</a> = &amp;<a class="local col7 ref" href="#147means" title='means' data-ref="147means">means</a>;</td></tr>
<tr><th id="444">444</th><td>    <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covs" title='EM_Params::covs' data-use='w' data-ref="EM_Params::covs">covs</a> = &amp;<a class="local col8 ref" href="#148covs" title='covs' data-ref="148covs">covs</a>;</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td>    <em>int</em> <dfn class="local col7 decl" id="157code" title='code' data-type='int' data-ref="157code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="447">447</th><td>    <em>int</em> <dfn class="local col8 decl" id="158caseIndex" title='caseIndex' data-type='int' data-ref="158caseIndex">caseIndex</dfn> = <var>0</var>;</td></tr>
<tr><th id="448">448</th><td>    {</td></tr>
<tr><th id="449">449</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_AUTO_STEP" title='cv::EM::::START_AUTO_STEP' data-ref="cv::EM::::START_AUTO_STEP">START_AUTO_STEP</a>;</td></tr>
<tr><th id="450">450</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_GENERIC" title='cv::EM::::COV_MAT_GENERIC' data-ref="cv::EM::::COV_MAT_GENERIC">COV_MAT_GENERIC</a>;</td></tr>
<tr><th id="451">451</th><td>        <em>int</em> <dfn class="local col9 decl" id="159currCode" title='currCode' data-type='int' data-ref="159currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="452">452</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col9 ref" href="#159currCode" title='currCode' data-ref="159currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col9 ref" href="#159currCode" title='currCode' data-ref="159currCode">currCode</a>;</td></tr>
<tr><th id="453">453</th><td>    }</td></tr>
<tr><th id="454">454</th><td>    {</td></tr>
<tr><th id="455">455</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_AUTO_STEP" title='cv::EM::::START_AUTO_STEP' data-ref="cv::EM::::START_AUTO_STEP">START_AUTO_STEP</a>;</td></tr>
<tr><th id="456">456</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_DIAGONAL" title='cv::EM::::COV_MAT_DIAGONAL' data-ref="cv::EM::::COV_MAT_DIAGONAL">COV_MAT_DIAGONAL</a>;</td></tr>
<tr><th id="457">457</th><td>        <em>int</em> <dfn class="local col0 decl" id="160currCode" title='currCode' data-type='int' data-ref="160currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="458">458</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col0 ref" href="#160currCode" title='currCode' data-ref="160currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col0 ref" href="#160currCode" title='currCode' data-ref="160currCode">currCode</a>;</td></tr>
<tr><th id="459">459</th><td>    }</td></tr>
<tr><th id="460">460</th><td>    {</td></tr>
<tr><th id="461">461</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_AUTO_STEP" title='cv::EM::::START_AUTO_STEP' data-ref="cv::EM::::START_AUTO_STEP">START_AUTO_STEP</a>;</td></tr>
<tr><th id="462">462</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_SPHERICAL" title='cv::EM::::COV_MAT_SPHERICAL' data-ref="cv::EM::::COV_MAT_SPHERICAL">COV_MAT_SPHERICAL</a>;</td></tr>
<tr><th id="463">463</th><td>        <em>int</em> <dfn class="local col1 decl" id="161currCode" title='currCode' data-type='int' data-ref="161currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="464">464</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col1 ref" href="#161currCode" title='currCode' data-ref="161currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col1 ref" href="#161currCode" title='currCode' data-ref="161currCode">currCode</a>;</td></tr>
<tr><th id="465">465</th><td>    }</td></tr>
<tr><th id="466">466</th><td>    {</td></tr>
<tr><th id="467">467</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_M_STEP" title='cv::EM::::START_M_STEP' data-ref="cv::EM::::START_M_STEP">START_M_STEP</a>;</td></tr>
<tr><th id="468">468</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_GENERIC" title='cv::EM::::COV_MAT_GENERIC' data-ref="cv::EM::::COV_MAT_GENERIC">COV_MAT_GENERIC</a>;</td></tr>
<tr><th id="469">469</th><td>        <em>int</em> <dfn class="local col2 decl" id="162currCode" title='currCode' data-type='int' data-ref="162currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="470">470</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col2 ref" href="#162currCode" title='currCode' data-ref="162currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col2 ref" href="#162currCode" title='currCode' data-ref="162currCode">currCode</a>;</td></tr>
<tr><th id="471">471</th><td>    }</td></tr>
<tr><th id="472">472</th><td>    {</td></tr>
<tr><th id="473">473</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_M_STEP" title='cv::EM::::START_M_STEP' data-ref="cv::EM::::START_M_STEP">START_M_STEP</a>;</td></tr>
<tr><th id="474">474</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_DIAGONAL" title='cv::EM::::COV_MAT_DIAGONAL' data-ref="cv::EM::::COV_MAT_DIAGONAL">COV_MAT_DIAGONAL</a>;</td></tr>
<tr><th id="475">475</th><td>        <em>int</em> <dfn class="local col3 decl" id="163currCode" title='currCode' data-type='int' data-ref="163currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="476">476</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col3 ref" href="#163currCode" title='currCode' data-ref="163currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col3 ref" href="#163currCode" title='currCode' data-ref="163currCode">currCode</a>;</td></tr>
<tr><th id="477">477</th><td>    }</td></tr>
<tr><th id="478">478</th><td>    {</td></tr>
<tr><th id="479">479</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_M_STEP" title='cv::EM::::START_M_STEP' data-ref="cv::EM::::START_M_STEP">START_M_STEP</a>;</td></tr>
<tr><th id="480">480</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_SPHERICAL" title='cv::EM::::COV_MAT_SPHERICAL' data-ref="cv::EM::::COV_MAT_SPHERICAL">COV_MAT_SPHERICAL</a>;</td></tr>
<tr><th id="481">481</th><td>        <em>int</em> <dfn class="local col4 decl" id="164currCode" title='currCode' data-type='int' data-ref="164currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="482">482</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col4 ref" href="#164currCode" title='currCode' data-ref="164currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col4 ref" href="#164currCode" title='currCode' data-ref="164currCode">currCode</a>;</td></tr>
<tr><th id="483">483</th><td>    }</td></tr>
<tr><th id="484">484</th><td>    {</td></tr>
<tr><th id="485">485</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_E_STEP" title='cv::EM::::START_E_STEP' data-ref="cv::EM::::START_E_STEP">START_E_STEP</a>;</td></tr>
<tr><th id="486">486</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_GENERIC" title='cv::EM::::COV_MAT_GENERIC' data-ref="cv::EM::::COV_MAT_GENERIC">COV_MAT_GENERIC</a>;</td></tr>
<tr><th id="487">487</th><td>        <em>int</em> <dfn class="local col5 decl" id="165currCode" title='currCode' data-type='int' data-ref="165currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="488">488</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col5 ref" href="#165currCode" title='currCode' data-ref="165currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col5 ref" href="#165currCode" title='currCode' data-ref="165currCode">currCode</a>;</td></tr>
<tr><th id="489">489</th><td>    }</td></tr>
<tr><th id="490">490</th><td>    {</td></tr>
<tr><th id="491">491</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_E_STEP" title='cv::EM::::START_E_STEP' data-ref="cv::EM::::START_E_STEP">START_E_STEP</a>;</td></tr>
<tr><th id="492">492</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_DIAGONAL" title='cv::EM::::COV_MAT_DIAGONAL' data-ref="cv::EM::::COV_MAT_DIAGONAL">COV_MAT_DIAGONAL</a>;</td></tr>
<tr><th id="493">493</th><td>        <em>int</em> <dfn class="local col6 decl" id="166currCode" title='currCode' data-type='int' data-ref="166currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="494">494</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col6 ref" href="#166currCode" title='currCode' data-ref="166currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col6 ref" href="#166currCode" title='currCode' data-ref="166currCode">currCode</a>;</td></tr>
<tr><th id="495">495</th><td>    }</td></tr>
<tr><th id="496">496</th><td>    {</td></tr>
<tr><th id="497">497</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::startStep" title='EM_Params::startStep' data-use='w' data-ref="EM_Params::startStep">startStep</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::START_E_STEP" title='cv::EM::::START_E_STEP' data-ref="cv::EM::::START_E_STEP">START_E_STEP</a>;</td></tr>
<tr><th id="498">498</th><td>        <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>.<a class="tu ref" href="#EM_Params::covMatType" title='EM_Params::covMatType' data-use='w' data-ref="EM_Params::covMatType">covMatType</a> = <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a>::<a class="enum" href="../include/opencv2/ml/ml.hpp.html#cv::EM::::COV_MAT_SPHERICAL" title='cv::EM::::COV_MAT_SPHERICAL' data-ref="cv::EM::::COV_MAT_SPHERICAL">COV_MAT_SPHERICAL</a>;</td></tr>
<tr><th id="499">499</th><td>        <em>int</em> <dfn class="local col7 decl" id="167currCode" title='currCode' data-type='int' data-ref="167currCode">currCode</dfn> = <a class="tu member" href="#_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE" title='CV_EMTest::runCase' data-use='c' data-ref="_ZN9CV_EMTest7runCaseEiRK9EM_ParamsRKN2cv3MatES6_S6_S6_RKSt6vectorIiSaIiEE">runCase</a>(<a class="local col8 ref" href="#158caseIndex" title='caseIndex' data-ref="158caseIndex">caseIndex</a>++, <a class="local col4 ref" href="#154params" title='params' data-ref="154params">params</a>, <a class="local col9 ref" href="#149trainData" title='trainData' data-ref="149trainData">trainData</a>, <a class="local col0 ref" href="#150trainLabels" title='trainLabels' data-ref="150trainLabels">trainLabels</a>, <a class="local col2 ref" href="#152testData" title='testData' data-ref="152testData">testData</a>, <a class="local col3 ref" href="#153testLabels" title='testLabels' data-ref="153testLabels">testLabels</a>, <a class="local col1 ref" href="#151sizes" title='sizes' data-ref="151sizes">sizes</a>);</td></tr>
<tr><th id="500">500</th><td>        <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> = <a class="local col7 ref" href="#167currCode" title='currCode' data-ref="167currCode">currCode</a> == <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a> ? <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> : <a class="local col7 ref" href="#167currCode" title='currCode' data-ref="167currCode">currCode</a>;</td></tr>
<tr><th id="501">501</th><td>    }</td></tr>
<tr><th id="502">502</th><td></td></tr>
<tr><th id="503">503</th><td>    <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <a class="local col7 ref" href="#157code" title='code' data-ref="157code">code</a> );</td></tr>
<tr><th id="504">504</th><td>}</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td><b>class</b> <dfn class="type def" id="CV_EMTest_SaveLoad" title='CV_EMTest_SaveLoad' data-ref="CV_EMTest_SaveLoad">CV_EMTest_SaveLoad</dfn> : <b>public</b> <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest" title='cvtest::BaseTest' data-ref="cvtest::BaseTest">BaseTest</a> {</td></tr>
<tr><th id="507">507</th><td><b>public</b>:</td></tr>
<tr><th id="508">508</th><td>    <dfn class="tu decl def" id="_ZN18CV_EMTest_SaveLoadC1Ev" title='CV_EMTest_SaveLoad::CV_EMTest_SaveLoad' data-type='void CV_EMTest_SaveLoad::CV_EMTest_SaveLoad()' data-ref="_ZN18CV_EMTest_SaveLoadC1Ev">CV_EMTest_SaveLoad</dfn>() {}</td></tr>
<tr><th id="509">509</th><td><b>protected</b>:</td></tr>
<tr><th id="510">510</th><td>    <b>virtual</b> <em>void</em> <dfn class="virtual decl def" id="_ZN18CV_EMTest_SaveLoad3runEi" title='CV_EMTest_SaveLoad::run' data-ref="_ZN18CV_EMTest_SaveLoad3runEi">run</dfn>( <em>int</em> <i>/*start_from*/</i> )</td></tr>
<tr><th id="511">511</th><td>    {</td></tr>
<tr><th id="512">512</th><td>        <em>int</em> <dfn class="local col8 decl" id="168code" title='code' data-type='int' data-ref="168code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="513">513</th><td>        <em>const</em> <em>int</em> <dfn class="local col9 decl" id="169nclusters" title='nclusters' data-type='const int' data-ref="169nclusters">nclusters</dfn> = <var>2</var>;</td></tr>
<tr><th id="514">514</th><td>        <span class="namespace">cv::</span><a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a> <dfn class="local col0 decl" id="170em" title='em' data-type='cv::EM' data-ref="170em">em</dfn><a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EMC1EiiRKNS_12TermCriteriaE" title='cv::EM::EM' data-ref="_ZN2cv2EMC1EiiRKNS_12TermCriteriaE">(</a><a class="local col9 ref" href="#169nclusters" title='nclusters' data-ref="169nclusters">nclusters</a>);</td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="171samples" title='samples' data-type='cv::Mat' data-ref="171samples">samples</dfn> = <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a><var>3</var>,<var>1</var>,<a class="macro" href="../../core/include/opencv2/core/types_c.h.html#656" title="(((6) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_64FC1">CV_64FC1</a>);</td></tr>
<tr><th id="517">517</th><td>        <a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>double</em>&gt;(<var>0</var>,<var>0</var>) = <var>1</var>;</td></tr>
<tr><th id="518">518</th><td>        <a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>double</em>&gt;(<var>1</var>,<var>0</var>) = <var>2</var>;</td></tr>
<tr><th id="519">519</th><td>        <a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>double</em>&gt;(<var>2</var>,<var>0</var>) = <var>3</var>;</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col2 decl" id="172labels" title='labels' data-type='cv::Mat' data-ref="172labels">labels</dfn>;</td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td>        <a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_" title='cv::EM::train' data-ref="_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_">train</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv12_OutputArrayC1ERNS_3MatE" title='cv::_OutputArray::_OutputArray' data-ref="_ZN2cv12_OutputArrayC1ERNS_3MatE"></a><a class="local col2 ref" href="#172labels" title='labels' data-ref="172labels">labels</a>);</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col3 decl" id="173firstResult" title='firstResult' data-type='cv::Mat' data-ref="173firstResult">firstResult</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Eiii" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Eiii">(</a><a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>, <var>1</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a>);</td></tr>
<tr><th id="526">526</th><td>        <b>for</b>( <em>int</em> <dfn class="local col4 decl" id="174i" title='i' data-type='int' data-ref="174i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#174i" title='i' data-ref="174i">i</a> &lt; <a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col4 ref" href="#174i" title='i' data-ref="174i">i</a>++)</td></tr>
<tr><th id="527">527</th><td>            <a class="local col3 ref" href="#173firstResult" title='firstResult' data-ref="173firstResult">firstResult</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col4 ref" href="#174i" title='i' data-ref="174i">i</a>) = <b>static_cast</b>&lt;<em>int</em>&gt;(<a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE" title='cv::EM::predict' data-ref="_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE">predict</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col4 ref" href="#174i" title='i' data-ref="174i">i</a>))<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3VecixEi" title='cv::Vec::operator[]' data-ref="_ZN2cv3VecixEi">[<var>1</var>]</a>);</td></tr>
<tr><th id="528">528</th><td></td></tr>
<tr><th id="529">529</th><td>        <i>// Write out</i></td></tr>
<tr><th id="530">530</th><td>        <a class="typedef" href="../../../../include/c++/4.8/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col5 decl" id="175filename" title='filename' data-type='string' data-ref="175filename">filename</dfn> = <span class="namespace">cv::</span><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv8tempfileEPKc" title='cv::tempfile' data-ref="_ZN2cv8tempfileEPKc">tempfile</a>(<q>".xml"</q>);</td></tr>
<tr><th id="531">531</th><td>        {</td></tr>
<tr><th id="532">532</th><td>            <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a> <dfn class="local col6 decl" id="176fs" title='fs' data-type='cv::FileStorage' data-ref="176fs">fs</dfn> = <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11FileStorageC1ERKSsiS2_" title='cv::FileStorage::FileStorage' data-ref="_ZN2cv11FileStorageC1ERKSsiS2_">(</a><a class="local col5 ref" href="#175filename" title='filename' data-ref="175filename">filename</a>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage::::WRITE" title='cv::FileStorage::::WRITE' data-ref="cv::FileStorage::::WRITE">WRITE</a>);</td></tr>
<tr><th id="533">533</th><td>            <b>try</b></td></tr>
<tr><th id="534">534</th><td>            {</td></tr>
<tr><th id="535">535</th><td>                <a class="local col6 ref" href="#176fs" title='fs' data-ref="176fs">fs</a> <a class="ref" href="../../core/include/opencv2/core/operations.hpp.html#_ZN2cvlsERNS_11FileStorageEPKc" title='cv::operator&lt;&lt;' data-ref="_ZN2cvlsERNS_11FileStorageEPKc">&lt;&lt;</a> <q>"em"</q> <a class="ref" href="../../core/include/opencv2/core/operations.hpp.html#_ZN2cvlsERNS_11FileStorageEPKc" title='cv::operator&lt;&lt;' data-ref="_ZN2cvlsERNS_11FileStorageEPKc">&lt;&lt;</a> <q>"{"</q>;</td></tr>
<tr><th id="536">536</th><td>                <a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv9Algorithm5writeERNS_11FileStorageE" title='cv::Algorithm::write' data-ref="_ZNK2cv9Algorithm5writeERNS_11FileStorageE">write</a>(<span class='refarg'><a class="local col6 ref" href="#176fs" title='fs' data-ref="176fs">fs</a></span>);</td></tr>
<tr><th id="537">537</th><td>                <a class="local col6 ref" href="#176fs" title='fs' data-ref="176fs">fs</a> <a class="ref" href="../../core/include/opencv2/core/operations.hpp.html#_ZN2cvlsERNS_11FileStorageEPKc" title='cv::operator&lt;&lt;' data-ref="_ZN2cvlsERNS_11FileStorageEPKc">&lt;&lt;</a> <q>"}"</q>;</td></tr>
<tr><th id="538">538</th><td>            }</td></tr>
<tr><th id="539">539</th><td>            <b>catch</b>(...)</td></tr>
<tr><th id="540">540</th><td>            {</td></tr>
<tr><th id="541">541</th><td>                <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Crash in write method.\n"</q> );</td></tr>
<tr><th id="542">542</th><td>                <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_EXCEPTION" title='cvtest::TS::::FAIL_EXCEPTION' data-ref="cvtest::TS::::FAIL_EXCEPTION">FAIL_EXCEPTION</a> );</td></tr>
<tr><th id="543">543</th><td>            }</td></tr>
<tr><th id="544">544</th><td>        }</td></tr>
<tr><th id="545">545</th><td></td></tr>
<tr><th id="546">546</th><td>        <a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM5clearEv" title='cv::EM::clear' data-ref="_ZN2cv2EM5clearEv">clear</a>();</td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td>        <i>// Read in</i></td></tr>
<tr><th id="549">549</th><td>        {</td></tr>
<tr><th id="550">550</th><td>            <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a> <dfn class="local col7 decl" id="177fs" title='fs' data-type='cv::FileStorage' data-ref="177fs">fs</dfn> = <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11FileStorageC1ERKSsiS2_" title='cv::FileStorage::FileStorage' data-ref="_ZN2cv11FileStorageC1ERKSsiS2_">(</a><a class="local col5 ref" href="#175filename" title='filename' data-ref="175filename">filename</a>, <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage" title='cv::FileStorage' data-ref="cv::FileStorage">FileStorage</a>::<a class="enum" href="../../core/include/opencv2/core/core.hpp.html#cv::FileStorage::::READ" title='cv::FileStorage::::READ' data-ref="cv::FileStorage::::READ">READ</a>);</td></tr>
<tr><th id="551">551</th><td>            <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(fs.isOpened())) ; else cv::error( cv::Exception(CV_StsAssert, &quot;fs.isOpened()&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 551) )" data-ref="_M/CV_Assert">CV_Assert</a>(<a class="local col7 ref" href="#177fs" title='fs' data-ref="177fs">fs</a>.<a class="virtual ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv11FileStorage8isOpenedEv" title='cv::FileStorage::isOpened' data-ref="_ZNK2cv11FileStorage8isOpenedEv">isOpened</a>());</td></tr>
<tr><th id="552">552</th><td>            <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::FileNode" title='cv::FileNode' data-ref="cv::FileNode">FileNode</a> <dfn class="local col8 decl" id="178fn" title='fn' data-type='cv::FileNode' data-ref="178fn">fn</dfn> = <a class="local col7 ref" href="#177fs" title='fs' data-ref="177fs">fs</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv11FileStorageixEPKc" title='cv::FileStorage::operator[]' data-ref="_ZNK2cv11FileStorageixEPKc">[<q>"em"</q>]</a>;</td></tr>
<tr><th id="553">553</th><td>            <b>try</b></td></tr>
<tr><th id="554">554</th><td>            {</td></tr>
<tr><th id="555">555</th><td>                <a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM4readERKNS_8FileNodeE" title='cv::EM::read' data-ref="_ZN2cv2EM4readERKNS_8FileNodeE">read</a>(<a class="local col8 ref" href="#178fn" title='fn' data-ref="178fn">fn</a>);</td></tr>
<tr><th id="556">556</th><td>            }</td></tr>
<tr><th id="557">557</th><td>            <b>catch</b>(...)</td></tr>
<tr><th id="558">558</th><td>            {</td></tr>
<tr><th id="559">559</th><td>                <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Crash in read method.\n"</q> );</td></tr>
<tr><th id="560">560</th><td>                <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_EXCEPTION" title='cvtest::TS::::FAIL_EXCEPTION' data-ref="cvtest::TS::::FAIL_EXCEPTION">FAIL_EXCEPTION</a> );</td></tr>
<tr><th id="561">561</th><td>            }</td></tr>
<tr><th id="562">562</th><td>        }</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>        <a class="ref" href="../../../../include/stdio.h.html#remove" title='remove' data-ref="remove">remove</a>( <a class="local col5 ref" href="#175filename" title='filename' data-ref="175filename">filename</a>.<a class="ref" href="../../../../include/c++/4.8/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>() );</td></tr>
<tr><th id="565">565</th><td></td></tr>
<tr><th id="566">566</th><td>        <em>int</em> <dfn class="local col9 decl" id="179errCaseCount" title='errCaseCount' data-type='int' data-ref="179errCaseCount">errCaseCount</dfn> = <var>0</var>;</td></tr>
<tr><th id="567">567</th><td>        <b>for</b>( <em>int</em> <dfn class="local col0 decl" id="180i" title='i' data-type='int' data-ref="180i">i</dfn> = <var>0</var>; <a class="local col0 ref" href="#180i" title='i' data-ref="180i">i</a> &lt; <a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col0 ref" href="#180i" title='i' data-ref="180i">i</a>++)</td></tr>
<tr><th id="568">568</th><td>            <a class="local col9 ref" href="#179errCaseCount" title='errCaseCount' data-ref="179errCaseCount">errCaseCount</a> = <span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/cmath.html#_ZSt3absd" title='std::abs' data-ref="_ZSt3absd">abs</a>(<a class="local col0 ref" href="#170em" title='em' data-ref="170em">em</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE" title='cv::EM::predict' data-ref="_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE">predict</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col1 ref" href="#171samples" title='samples' data-ref="171samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col0 ref" href="#180i" title='i' data-ref="180i">i</a>))<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3VecixEi" title='cv::Vec::operator[]' data-ref="_ZN2cv3VecixEi">[<var>1</var>]</a> - <a class="local col3 ref" href="#173firstResult" title='firstResult' data-ref="173firstResult">firstResult</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>int</em>&gt;(<a class="local col0 ref" href="#180i" title='i' data-ref="180i">i</a>)) &lt; <span class="macro" title="1.19209290e-7F" data-ref="_M/FLT_EPSILON">FLT_EPSILON</span> ? <var>0</var> : <var>1</var>;</td></tr>
<tr><th id="569">569</th><td></td></tr>
<tr><th id="570">570</th><td>        <b>if</b>( <a class="local col9 ref" href="#179errCaseCount" title='errCaseCount' data-ref="179errCaseCount">errCaseCount</a> &gt; <var>0</var> )</td></tr>
<tr><th id="571">571</th><td>        {</td></tr>
<tr><th id="572">572</th><td>            <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>( <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Different prediction results before writeing and after reading (errCaseCount=%d).\n"</q>, <a class="local col9 ref" href="#179errCaseCount" title='errCaseCount' data-ref="179errCaseCount">errCaseCount</a> );</td></tr>
<tr><th id="573">573</th><td>            <a class="local col8 ref" href="#168code" title='code' data-ref="168code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_BAD_ACCURACY" title='cvtest::TS::::FAIL_BAD_ACCURACY' data-ref="cvtest::TS::::FAIL_BAD_ACCURACY">FAIL_BAD_ACCURACY</a>;</td></tr>
<tr><th id="574">574</th><td>        }</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>( <a class="local col8 ref" href="#168code" title='code' data-ref="168code">code</a> );</td></tr>
<tr><th id="577">577</th><td>    }</td></tr>
<tr><th id="578">578</th><td>};</td></tr>
<tr><th id="579">579</th><td></td></tr>
<tr><th id="580">580</th><td><b>class</b> <dfn class="type def" id="CV_EMTest_Classification" title='CV_EMTest_Classification' data-ref="CV_EMTest_Classification">CV_EMTest_Classification</dfn> : <b>public</b> <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest" title='cvtest::BaseTest' data-ref="cvtest::BaseTest">BaseTest</a></td></tr>
<tr><th id="581">581</th><td>{</td></tr>
<tr><th id="582">582</th><td><b>public</b>:</td></tr>
<tr><th id="583">583</th><td>    <dfn class="tu decl def" id="_ZN24CV_EMTest_ClassificationC1Ev" title='CV_EMTest_Classification::CV_EMTest_Classification' data-type='void CV_EMTest_Classification::CV_EMTest_Classification()' data-ref="_ZN24CV_EMTest_ClassificationC1Ev">CV_EMTest_Classification</dfn>() {}</td></tr>
<tr><th id="584">584</th><td><b>protected</b>:</td></tr>
<tr><th id="585">585</th><td>    <b>virtual</b> <em>void</em> <dfn class="virtual decl def" id="_ZN24CV_EMTest_Classification3runEi" title='CV_EMTest_Classification::run' data-ref="_ZN24CV_EMTest_Classification3runEi">run</dfn>(<em>int</em>)</td></tr>
<tr><th id="586">586</th><td>    {</td></tr>
<tr><th id="587">587</th><td>        <i>// This test classifies spam by the following way:</i></td></tr>
<tr><th id="588">588</th><td><i>        // 1. estimates distributions of "spam" / "not spam"</i></td></tr>
<tr><th id="589">589</th><td><i>        // 2. predict classID using Bayes classifier for estimated distributions.</i></td></tr>
<tr><th id="590">590</th><td></td></tr>
<tr><th id="591">591</th><td>        <a class="type" href="../include/opencv2/ml/ml.hpp.html#CvMLData" title='CvMLData' data-ref="CvMLData">CvMLData</a> <a class="ref fake" href="../include/opencv2/ml/ml.hpp.html#_ZN8CvMLDataC1Ev" title='CvMLData::CvMLData' data-ref="_ZN8CvMLDataC1Ev"></a><dfn class="local col1 decl" id="181data" title='data' data-type='CvMLData' data-ref="181data">data</dfn>;</td></tr>
<tr><th id="592">592</th><td>        <a class="typedef" href="../../../../include/c++/4.8/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string">string</a> <dfn class="local col2 decl" id="182dataFilename" title='dataFilename' data-type='string' data-ref="182dataFilename">dataFilename</dfn> = <a class="typedef" href="../../../../include/c++/4.8/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string"><a class="ref" href="../../../../include/c++/4.8/bits/basic_string.h.html#_ZNSt12basic_stringC1ERKSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1ERKSbIT_T0_T1_E">string</a></a>(<a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZNK6cvtest2TS13get_data_pathEv" title='cvtest::TS::get_data_path' data-ref="_ZNK6cvtest2TS13get_data_pathEv">get_data_path</a>()) <a class="ref" href="../../../../include/c++/4.8/bits/basic_string.h.html#_ZStplRKSbIT_T0_T1_EPKS_" title='std::operator+' data-ref="_ZStplRKSbIT_T0_T1_EPKS_">+</a> <q>"spambase.data"</q>;</td></tr>
<tr><th id="593">593</th><td></td></tr>
<tr><th id="594">594</th><td>        <b>if</b>(<a class="local col1 ref" href="#181data" title='data' data-ref="181data">data</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZN8CvMLData8read_csvEPKc" title='CvMLData::read_csv' data-ref="_ZN8CvMLData8read_csvEPKc">read_csv</a>(<a class="local col2 ref" href="#182dataFilename" title='dataFilename' data-ref="182dataFilename">dataFilename</a>.<a class="ref" href="../../../../include/c++/4.8/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv">c_str</a>()) != <var>0</var>)</td></tr>
<tr><th id="595">595</th><td>        {</td></tr>
<tr><th id="596">596</th><td>            <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>(<span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"File with spambase dataset cann't be read.\n"</q>);</td></tr>
<tr><th id="597">597</th><td>            <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>(<span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_TEST_DATA" title='cvtest::TS::::FAIL_INVALID_TEST_DATA' data-ref="cvtest::TS::::FAIL_INVALID_TEST_DATA">FAIL_INVALID_TEST_DATA</a>);</td></tr>
<tr><th id="598">598</th><td>        }</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col3 decl" id="183values" title='values' data-type='cv::Mat' data-ref="183values">values</dfn> = <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EPK5CvMatb" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EPK5CvMatb"></a><a class="local col1 ref" href="#181data" title='data' data-ref="181data">data</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK8CvMLData10get_valuesEv" title='CvMLData::get_values' data-ref="_ZNK8CvMLData10get_valuesEv">get_values</a>();</td></tr>
<tr><th id="601">601</th><td>        <a class="macro" href="../../core/include/opencv2/core/core.hpp.html#220" title="if(!!(values.cols == 58)) ; else cv::error( cv::Exception(CV_StsAssert, &quot;values.cols == 58&quot;, __func__, &quot;/home/yzf/code/opencv/modules/ml/test/test_emknearestkmeans.cpp&quot;, 601) )" data-ref="_M/CV_Assert">CV_Assert</a>(<a class="local col3 ref" href="#183values" title='values' data-ref="183values">values</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::cols" title='cv::Mat::cols' data-ref="cv::Mat::cols">cols</a> == <var>58</var>);</td></tr>
<tr><th id="602">602</th><td>        <em>int</em> <dfn class="local col4 decl" id="184responseIndex" title='responseIndex' data-type='int' data-ref="184responseIndex">responseIndex</dfn> = <var>57</var>;</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col5 decl" id="185samples" title='samples' data-type='cv::Mat' data-ref="185samples">samples</dfn> = <a class="local col3 ref" href="#183values" title='values' data-ref="183values">values</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat8colRangeEii" title='cv::Mat::colRange' data-ref="_ZNK2cv3Mat8colRangeEii">colRange</a>(<var>0</var>, <a class="local col4 ref" href="#184responseIndex" title='responseIndex' data-ref="184responseIndex">responseIndex</a>);</td></tr>
<tr><th id="605">605</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col6 decl" id="186responses" title='responses' data-type='cv::Mat' data-ref="186responses">responses</dfn> = <a class="local col3 ref" href="#183values" title='values' data-ref="183values">values</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3colEi" title='cv::Mat::col' data-ref="_ZNK2cv3Mat3colEi">col</a>(<a class="local col4 ref" href="#184responseIndex" title='responseIndex' data-ref="184responseIndex">responseIndex</a>);</td></tr>
<tr><th id="606">606</th><td></td></tr>
<tr><th id="607">607</th><td>        <a class="type" href="../../../../include/c++/4.8/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector">vector</a>&lt;<em>int</em>&gt; <dfn class="local col7 decl" id="187trainSamplesMask" title='trainSamplesMask' data-type='vector&lt;int&gt;' data-ref="187trainSamplesMask">trainSamplesMask</dfn><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorC1ET_S0_RKT0_" title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ET_S0_RKT0_">(</a><a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>, <var>0</var>);</td></tr>
<tr><th id="608">608</th><td>        <em>int</em> <dfn class="local col8 decl" id="188trainSamplesCount" title='trainSamplesCount' data-type='int' data-ref="188trainSamplesCount">trainSamplesCount</dfn> = (<em>int</em>)(<var>0.5f</var> * <a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>);</td></tr>
<tr><th id="609">609</th><td>        <b>for</b>(<em>int</em> <dfn class="local col9 decl" id="189i" title='i' data-type='int' data-ref="189i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a> &lt; <a class="local col8 ref" href="#188trainSamplesCount" title='trainSamplesCount' data-ref="188trainSamplesCount">trainSamplesCount</a>; <a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>++)</td></tr>
<tr><th id="610">610</th><td>            <a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col9 ref" href="#189i" title='i' data-ref="189i">i</a>]</a> = <var>1</var>;</td></tr>
<tr><th id="611">611</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::RNG" title='cv::RNG' data-ref="cv::RNG">RNG</a> <dfn class="local col0 decl" id="190rng" title='rng' data-type='cv::RNG' data-ref="190rng">rng</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNGC1Em" title='cv::RNG::RNG' data-ref="_ZN2cv3RNGC1Em">(</a><var>0</var>);</td></tr>
<tr><th id="612">612</th><td>        <b>for</b>(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="191i" title='i' data-type='size_t' data-ref="191i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#191i" title='i' data-ref="191i">i</a> &lt; <a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>(); <a class="local col1 ref" href="#191i" title='i' data-ref="191i">i</a>++)</td></tr>
<tr><th id="613">613</th><td>        {</td></tr>
<tr><th id="614">614</th><td>            <em>int</em> <dfn class="local col2 decl" id="192i1" title='i1' data-type='int' data-ref="192i1">i1</dfn> = <a class="local col0 ref" href="#190rng" title='rng' data-ref="190rng">rng</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNGclEj" title='cv::RNG::operator()' data-ref="_ZN2cv3RNGclEj">(<b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>()))</a>;</td></tr>
<tr><th id="615">615</th><td>            <em>int</em> <dfn class="local col3 decl" id="193i2" title='i2' data-type='int' data-ref="193i2">i2</dfn> = <a class="local col0 ref" href="#190rng" title='rng' data-ref="190rng">rng</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3RNGclEj" title='cv::RNG::operator()' data-ref="_ZN2cv3RNGclEj">(<b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a>.<a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv">size</a>()))</a>;</td></tr>
<tr><th id="616">616</th><td>            <span class="namespace">std::</span><a class="ref" href="../../../../include/c++/4.8/bits/algorithmfwd.h.html#_ZSt4swapRT_S0_" title='std::swap' data-ref="_ZSt4swapRT_S0_">swap</a>(<span class='refarg'><a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col2 ref" href="#192i1" title='i1' data-ref="192i1">i1</a>]</a></span>, <span class='refarg'><a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col3 ref" href="#193i2" title='i2' data-ref="193i2">i2</a>]</a></span>);</td></tr>
<tr><th id="617">617</th><td>        }</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td>        <a class="type" href="../include/opencv2/ml/ml.hpp.html#cv::EM" title='cv::EM' data-ref="cv::EM">EM</a> <dfn class="local col4 decl" id="194model0" title='model0' data-type='cv::EM' data-ref="194model0">model0</dfn><a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EMC1EiiRKNS_12TermCriteriaE" title='cv::EM::EM' data-ref="_ZN2cv2EMC1EiiRKNS_12TermCriteriaE">(</a><var>3</var>), <dfn class="local col5 decl" id="195model1" title='model1' data-type='cv::EM' data-ref="195model1">model1</dfn><a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EMC1EiiRKNS_12TermCriteriaE" title='cv::EM::EM' data-ref="_ZN2cv2EMC1EiiRKNS_12TermCriteriaE">(</a><var>3</var>);</td></tr>
<tr><th id="620">620</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col6 decl" id="196samples0" title='samples0' data-type='cv::Mat' data-ref="196samples0">samples0</dfn>, <a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1Ev" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1Ev"></a><dfn class="local col7 decl" id="197samples1" title='samples1' data-type='cv::Mat' data-ref="197samples1">samples1</dfn>;</td></tr>
<tr><th id="621">621</th><td>        <b>for</b>(<em>int</em> <dfn class="local col8 decl" id="198i" title='i' data-type='int' data-ref="198i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#198i" title='i' data-ref="198i">i</a> &lt; <a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col8 ref" href="#198i" title='i' data-ref="198i">i</a>++)</td></tr>
<tr><th id="622">622</th><td>        {</td></tr>
<tr><th id="623">623</th><td>            <b>if</b>(<a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#198i" title='i' data-ref="198i">i</a>]</a>)</td></tr>
<tr><th id="624">624</th><td>            {</td></tr>
<tr><th id="625">625</th><td>                <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col9 decl" id="199sample" title='sample' data-type='cv::Mat' data-ref="199sample">sample</dfn> = <a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col8 ref" href="#198i" title='i' data-ref="198i">i</a>);</td></tr>
<tr><th id="626">626</th><td>                <em>int</em> <dfn class="local col0 decl" id="200resp" title='resp' data-type='int' data-ref="200resp">resp</dfn> = (<em>int</em>)<a class="local col6 ref" href="#186responses" title='responses' data-ref="186responses">responses</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col8 ref" href="#198i" title='i' data-ref="198i">i</a>);</td></tr>
<tr><th id="627">627</th><td>                <b>if</b>(<a class="local col0 ref" href="#200resp" title='resp' data-ref="200resp">resp</a> == <var>0</var>)</td></tr>
<tr><th id="628">628</th><td>                    <a class="local col6 ref" href="#196samples0" title='samples0' data-ref="196samples0">samples0</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat9push_backERKS0_" title='cv::Mat::push_back' data-ref="_ZN2cv3Mat9push_backERKS0_">push_back</a>(<a class="local col9 ref" href="#199sample" title='sample' data-ref="199sample">sample</a>);</td></tr>
<tr><th id="629">629</th><td>                <b>else</b></td></tr>
<tr><th id="630">630</th><td>                    <a class="local col7 ref" href="#197samples1" title='samples1' data-ref="197samples1">samples1</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3Mat9push_backERKS0_" title='cv::Mat::push_back' data-ref="_ZN2cv3Mat9push_backERKS0_">push_back</a>(<a class="local col9 ref" href="#199sample" title='sample' data-ref="199sample">sample</a>);</td></tr>
<tr><th id="631">631</th><td>            }</td></tr>
<tr><th id="632">632</th><td>        }</td></tr>
<tr><th id="633">633</th><td>        <a class="local col4 ref" href="#194model0" title='model0' data-ref="194model0">model0</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_" title='cv::EM::train' data-ref="_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_">train</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col6 ref" href="#196samples0" title='samples0' data-ref="196samples0">samples0</a>);</td></tr>
<tr><th id="634">634</th><td>        <a class="local col5 ref" href="#195model1" title='model1' data-ref="195model1">model1</a>.<a class="virtual ref" href="../include/opencv2/ml/ml.hpp.html#_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_" title='cv::EM::train' data-ref="_ZN2cv2EM5trainERKNS_11_InputArrayERKNS_12_OutputArrayES6_S6_">train</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col7 ref" href="#197samples1" title='samples1' data-ref="197samples1">samples1</a>);</td></tr>
<tr><th id="635">635</th><td></td></tr>
<tr><th id="636">636</th><td>        <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col1 decl" id="201trainConfusionMat" title='trainConfusionMat' data-type='cv::Mat' data-ref="201trainConfusionMat">trainConfusionMat</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE">(</a><var>2</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_C1ET_" title='cv::Scalar_::Scalar_&lt;_Tp&gt;' data-ref="_ZN2cv7Scalar_C1ET_">(</a><var>0</var>)),</td></tr>
<tr><th id="637">637</th><td>            <dfn class="local col2 decl" id="202testConfusionMat" title='testConfusionMat' data-type='cv::Mat' data-ref="202testConfusionMat">testConfusionMat</dfn><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE" title='cv::Mat::Mat' data-ref="_ZN2cv3MatC1EiiiRKNS_7Scalar_IdEE">(</a><var>2</var>, <var>2</var>, <a class="macro" href="../../core/include/opencv2/core/types_c.h.html#644" title="(((4) &amp; ((1 &lt;&lt; 3) - 1)) + (((1)-1) &lt;&lt; 3))" data-ref="_M/CV_32SC1">CV_32SC1</a>, <a class="typedef" href="../../core/include/opencv2/core/core.hpp.html#cv::Scalar" title='cv::Scalar' data-type='Scalar_&lt;double&gt;' data-ref="cv::Scalar">Scalar</a><a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv7Scalar_C1ET_" title='cv::Scalar_::Scalar_&lt;_Tp&gt;' data-ref="_ZN2cv7Scalar_C1ET_">(</a><var>0</var>));</td></tr>
<tr><th id="638">638</th><td>        <em>const</em> <em>double</em> <dfn class="local col3 decl" id="203lambda" title='lambda' data-type='const double' data-ref="203lambda">lambda</dfn> = <var>1.</var>;</td></tr>
<tr><th id="639">639</th><td>        <b>for</b>(<em>int</em> <dfn class="local col4 decl" id="204i" title='i' data-type='int' data-ref="204i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a> &lt; <a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a>; <a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a>++)</td></tr>
<tr><th id="640">640</th><td>        {</td></tr>
<tr><th id="641">641</th><td>            <a class="type" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat" title='cv::Mat' data-ref="cv::Mat">Mat</a> <dfn class="local col5 decl" id="205sample" title='sample' data-type='cv::Mat' data-ref="205sample">sample</dfn> = <a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZNK2cv3Mat3rowEi" title='cv::Mat::row' data-ref="_ZNK2cv3Mat3rowEi">row</a>(<a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a>);</td></tr>
<tr><th id="642">642</th><td>            <em>double</em> <dfn class="local col6 decl" id="206sampleLogLikelihoods0" title='sampleLogLikelihoods0' data-type='double' data-ref="206sampleLogLikelihoods0">sampleLogLikelihoods0</dfn> = <a class="local col4 ref" href="#194model0" title='model0' data-ref="194model0">model0</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE" title='cv::EM::predict' data-ref="_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE">predict</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col5 ref" href="#205sample" title='sample' data-ref="205sample">sample</a>)<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3VecixEi" title='cv::Vec::operator[]' data-ref="_ZN2cv3VecixEi">[<var>0</var>]</a>;</td></tr>
<tr><th id="643">643</th><td>            <em>double</em> <dfn class="local col7 decl" id="207sampleLogLikelihoods1" title='sampleLogLikelihoods1' data-type='double' data-ref="207sampleLogLikelihoods1">sampleLogLikelihoods1</dfn> = <a class="local col5 ref" href="#195model1" title='model1' data-ref="195model1">model1</a>.<a class="ref" href="../include/opencv2/ml/ml.hpp.html#_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE" title='cv::EM::predict' data-ref="_ZNK2cv2EM7predictERKNS_11_InputArrayERKNS_12_OutputArrayE">predict</a>(<a class="ref fake" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv11_InputArrayC1ERKNS_3MatE" title='cv::_InputArray::_InputArray' data-ref="_ZN2cv11_InputArrayC1ERKNS_3MatE"></a><a class="local col5 ref" href="#205sample" title='sample' data-ref="205sample">sample</a>)<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#_ZN2cv3VecixEi" title='cv::Vec::operator[]' data-ref="_ZN2cv3VecixEi">[<var>0</var>]</a>;</td></tr>
<tr><th id="644">644</th><td></td></tr>
<tr><th id="645">645</th><td>            <em>int</em> <dfn class="local col8 decl" id="208classID" title='classID' data-type='int' data-ref="208classID">classID</dfn> = <a class="local col6 ref" href="#206sampleLogLikelihoods0" title='sampleLogLikelihoods0' data-ref="206sampleLogLikelihoods0">sampleLogLikelihoods0</a> &gt;= <a class="local col3 ref" href="#203lambda" title='lambda' data-ref="203lambda">lambda</a> * <a class="local col7 ref" href="#207sampleLogLikelihoods1" title='sampleLogLikelihoods1' data-ref="207sampleLogLikelihoods1">sampleLogLikelihoods1</a> ? <var>0</var> : <var>1</var>;</td></tr>
<tr><th id="646">646</th><td></td></tr>
<tr><th id="647">647</th><td>            <b>if</b>(<a class="local col7 ref" href="#187trainSamplesMask" title='trainSamplesMask' data-ref="187trainSamplesMask">trainSamplesMask</a><a class="ref" href="../../../../include/c++/4.8/bits/stl_vector.h.html#_ZNSt6vectorixEm" title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm">[<a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a>]</a>)</td></tr>
<tr><th id="648">648</th><td>                <a class="local col1 ref" href="#201trainConfusionMat" title='trainConfusionMat' data-ref="201trainConfusionMat">trainConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;((<em>int</em>)<a class="local col6 ref" href="#186responses" title='responses' data-ref="186responses">responses</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a>), <a class="local col8 ref" href="#208classID" title='classID' data-ref="208classID">classID</a>)++;</td></tr>
<tr><th id="649">649</th><td>            <b>else</b></td></tr>
<tr><th id="650">650</th><td>                <a class="local col2 ref" href="#202testConfusionMat" title='testConfusionMat' data-ref="202testConfusionMat">testConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;((<em>int</em>)<a class="local col6 ref" href="#186responses" title='responses' data-ref="186responses">responses</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEi" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEi">at</a>&lt;<em>float</em>&gt;(<a class="local col4 ref" href="#204i" title='i' data-ref="204i">i</a>), <a class="local col8 ref" href="#208classID" title='classID' data-ref="208classID">classID</a>)++;</td></tr>
<tr><th id="651">651</th><td>        }</td></tr>
<tr><th id="652">652</th><td><i>//        std::cout &lt;&lt; trainConfusionMat &lt;&lt; std::endl;</i></td></tr>
<tr><th id="653">653</th><td><i>//        std::cout &lt;&lt; testConfusionMat &lt;&lt; std::endl;</i></td></tr>
<tr><th id="654">654</th><td></td></tr>
<tr><th id="655">655</th><td>        <em>double</em> <dfn class="local col9 decl" id="209trainError" title='trainError' data-type='double' data-ref="209trainError">trainError</dfn> = (<em>double</em>)(<a class="local col1 ref" href="#201trainConfusionMat" title='trainConfusionMat' data-ref="201trainConfusionMat">trainConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;(<var>1</var>,<var>0</var>) + <a class="local col1 ref" href="#201trainConfusionMat" title='trainConfusionMat' data-ref="201trainConfusionMat">trainConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;(<var>0</var>,<var>1</var>)) / <a class="local col8 ref" href="#188trainSamplesCount" title='trainSamplesCount' data-ref="188trainSamplesCount">trainSamplesCount</a>;</td></tr>
<tr><th id="656">656</th><td>        <em>double</em> <dfn class="local col0 decl" id="210testError" title='testError' data-type='double' data-ref="210testError">testError</dfn> = (<em>double</em>)(<a class="local col2 ref" href="#202testConfusionMat" title='testConfusionMat' data-ref="202testConfusionMat">testConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;(<var>1</var>,<var>0</var>) + <a class="local col2 ref" href="#202testConfusionMat" title='testConfusionMat' data-ref="202testConfusionMat">testConfusionMat</a>.<a class="ref" href="../../core/include/opencv2/core/mat.hpp.html#_ZN2cv3Mat2atEii" title='cv::Mat::at' data-ref="_ZN2cv3Mat2atEii">at</a>&lt;<em>int</em>&gt;(<var>0</var>,<var>1</var>)) / (<a class="local col5 ref" href="#185samples" title='samples' data-ref="185samples">samples</a>.<a class="ref" href="../../core/include/opencv2/core/core.hpp.html#cv::Mat::rows" title='cv::Mat::rows' data-ref="cv::Mat::rows">rows</a> - <a class="local col8 ref" href="#188trainSamplesCount" title='trainSamplesCount' data-ref="188trainSamplesCount">trainSamplesCount</a>);</td></tr>
<tr><th id="657">657</th><td>        <em>const</em> <em>double</em> <dfn class="local col1 decl" id="211maxTrainError" title='maxTrainError' data-type='const double' data-ref="211maxTrainError">maxTrainError</dfn> = <var>0.23</var>;</td></tr>
<tr><th id="658">658</th><td>        <em>const</em> <em>double</em> <dfn class="local col2 decl" id="212maxTestError" title='maxTestError' data-type='const double' data-ref="212maxTestError">maxTestError</dfn> = <var>0.26</var>;</td></tr>
<tr><th id="659">659</th><td></td></tr>
<tr><th id="660">660</th><td>        <em>int</em> <dfn class="local col3 decl" id="213code" title='code' data-type='int' data-ref="213code">code</dfn> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::OK" title='cvtest::TS::::OK' data-ref="cvtest::TS::::OK">OK</a>;</td></tr>
<tr><th id="661">661</th><td>        <b>if</b>(<a class="local col9 ref" href="#209trainError" title='trainError' data-ref="209trainError">trainError</a> &gt; <a class="local col1 ref" href="#211maxTrainError" title='maxTrainError' data-ref="211maxTrainError">maxTrainError</a>)</td></tr>
<tr><th id="662">662</th><td>        {</td></tr>
<tr><th id="663">663</th><td>            <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>(<span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Too large train classification error (calc = %f, valid=%f).\n"</q>, <a class="local col9 ref" href="#209trainError" title='trainError' data-ref="209trainError">trainError</a>, <a class="local col1 ref" href="#211maxTrainError" title='maxTrainError' data-ref="211maxTrainError">maxTrainError</a>);</td></tr>
<tr><th id="664">664</th><td>            <a class="local col3 ref" href="#213code" title='code' data-ref="213code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_TEST_DATA" title='cvtest::TS::::FAIL_INVALID_TEST_DATA' data-ref="cvtest::TS::::FAIL_INVALID_TEST_DATA">FAIL_INVALID_TEST_DATA</a>;</td></tr>
<tr><th id="665">665</th><td>        }</td></tr>
<tr><th id="666">666</th><td>        <b>if</b>(<a class="local col0 ref" href="#210testError" title='testError' data-ref="210testError">testError</a> &gt; <a class="local col2 ref" href="#212maxTestError" title='maxTestError' data-ref="212maxTestError">maxTestError</a>)</td></tr>
<tr><th id="667">667</th><td>        {</td></tr>
<tr><th id="668">668</th><td>            <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS6printfEiPKcz" title='cvtest::TS::printf' data-ref="_ZN6cvtest2TS6printfEiPKcz">printf</a>(<span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::LOG" title='cvtest::TS::::LOG' data-ref="cvtest::TS::::LOG">LOG</a>, <q>"Too large test classification error (calc = %f, valid=%f).\n"</q>, <a class="local col0 ref" href="#210testError" title='testError' data-ref="210testError">testError</a>, <a class="local col2 ref" href="#212maxTestError" title='maxTestError' data-ref="212maxTestError">maxTestError</a>);</td></tr>
<tr><th id="669">669</th><td>            <a class="local col3 ref" href="#213code" title='code' data-ref="213code">code</a> = <span class="namespace">cvtest::</span><a class="type" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS" title='cvtest::TS' data-ref="cvtest::TS">TS</a>::<a class="enum" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::TS::::FAIL_INVALID_TEST_DATA" title='cvtest::TS::::FAIL_INVALID_TEST_DATA' data-ref="cvtest::TS::::FAIL_INVALID_TEST_DATA">FAIL_INVALID_TEST_DATA</a>;</td></tr>
<tr><th id="670">670</th><td>        }</td></tr>
<tr><th id="671">671</th><td></td></tr>
<tr><th id="672">672</th><td>        <a class="member" href="../../ts/include/opencv2/ts/ts.hpp.html#cvtest::BaseTest::ts" title='cvtest::BaseTest::ts' data-ref="cvtest::BaseTest::ts">ts</a>-&gt;<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest2TS20set_failed_test_infoEi" title='cvtest::TS::set_failed_test_info' data-ref="_ZN6cvtest2TS20set_failed_test_infoEi">set_failed_test_info</a>(<a class="local col3 ref" href="#213code" title='code' data-ref="213code">code</a>);</td></tr>
<tr><th id="673">673</th><td>    }</td></tr>
<tr><th id="674">674</th><td>};</td></tr>
<tr><th id="675">675</th><td></td></tr>
<tr><th id="676">676</th><td><a class="macro" href="../../ts/include/opencv2/ts/ts_gtest.h.html#20076" title="class ML_KMeans_accuracy_Test : public ::testing::Test { public: ML_KMeans_accuracy_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); ML_KMeans_accuracy_Test(ML_KMeans_accuracy_Test const &amp;); void operator=(ML_KMeans_accuracy_Test const &amp;);};::testing::TestInfo* const ML_KMeans_accuracy_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;ML_KMeans&quot;, &quot;accuracy&quot;, __null, __null, (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; ML_KMeans_accuracy_Test&gt;);void ML_KMeans_accuracy_Test::TestBody()" data-ref="_M/TEST">TEST</a>(ML_KMeans, accuracy) { <a class="type" href="#CV_KMeansTest" title='CV_KMeansTest' data-ref="CV_KMeansTest">CV_KMeansTest</a> <a class="tu ref fake" href="#_ZN13CV_KMeansTestC1Ev" title='CV_KMeansTest::CV_KMeansTest' data-use='c' data-ref="_ZN13CV_KMeansTestC1Ev"></a><dfn class="local col4 decl" id="214test" title='test' data-type='CV_KMeansTest' data-ref="214test">test</dfn>; <a class="local col4 ref" href="#214test" title='test' data-ref="214test">test</a>.<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest8BaseTest8safe_runEi" title='cvtest::BaseTest::safe_run' data-ref="_ZN6cvtest8BaseTest8safe_runEi">safe_run</a>(); }</td></tr>
<tr><th id="677">677</th><td><a class="macro" href="../../ts/include/opencv2/ts/ts_gtest.h.html#20076" title="class ML_KNearest_accuracy_Test : public ::testing::Test { public: ML_KNearest_accuracy_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); ML_KNearest_accuracy_Test(ML_KNearest_accuracy_Test const &amp;); void operator=(ML_KNearest_accuracy_Test const &amp;);};::testing::TestInfo* const ML_KNearest_accuracy_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;ML_KNearest&quot;, &quot;accuracy&quot;, __null, __null, (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; ML_KNearest_accuracy_Test&gt;);void ML_KNearest_accuracy_Test::TestBody()" data-ref="_M/TEST">TEST</a>(ML_KNearest, accuracy) { <a class="type" href="#CV_KNearestTest" title='CV_KNearestTest' data-ref="CV_KNearestTest">CV_KNearestTest</a> <a class="tu ref fake" href="#_ZN15CV_KNearestTestC1Ev" title='CV_KNearestTest::CV_KNearestTest' data-use='c' data-ref="_ZN15CV_KNearestTestC1Ev"></a><dfn class="local col5 decl" id="215test" title='test' data-type='CV_KNearestTest' data-ref="215test">test</dfn>; <a class="local col5 ref" href="#215test" title='test' data-ref="215test">test</a>.<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest8BaseTest8safe_runEi" title='cvtest::BaseTest::safe_run' data-ref="_ZN6cvtest8BaseTest8safe_runEi">safe_run</a>(); }</td></tr>
<tr><th id="678">678</th><td><a class="macro" href="../../ts/include/opencv2/ts/ts_gtest.h.html#20076" title="class ML_EM_accuracy_Test : public ::testing::Test { public: ML_EM_accuracy_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); ML_EM_accuracy_Test(ML_EM_accuracy_Test const &amp;); void operator=(ML_EM_accuracy_Test const &amp;);};::testing::TestInfo* const ML_EM_accuracy_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;ML_EM&quot;, &quot;accuracy&quot;, __null, __null, (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; ML_EM_accuracy_Test&gt;);void ML_EM_accuracy_Test::TestBody()" data-ref="_M/TEST">TEST</a>(ML_EM, accuracy) { <a class="type" href="#CV_EMTest" title='CV_EMTest' data-ref="CV_EMTest">CV_EMTest</a> <a class="tu ref fake" href="#_ZN9CV_EMTestC1Ev" title='CV_EMTest::CV_EMTest' data-use='c' data-ref="_ZN9CV_EMTestC1Ev"></a><dfn class="local col6 decl" id="216test" title='test' data-type='CV_EMTest' data-ref="216test">test</dfn>; <a class="local col6 ref" href="#216test" title='test' data-ref="216test">test</a>.<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest8BaseTest8safe_runEi" title='cvtest::BaseTest::safe_run' data-ref="_ZN6cvtest8BaseTest8safe_runEi">safe_run</a>(); }</td></tr>
<tr><th id="679">679</th><td><a class="macro" href="../../ts/include/opencv2/ts/ts_gtest.h.html#20076" title="class ML_EM_save_load_Test : public ::testing::Test { public: ML_EM_save_load_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); ML_EM_save_load_Test(ML_EM_save_load_Test const &amp;); void operator=(ML_EM_save_load_Test const &amp;);};::testing::TestInfo* const ML_EM_save_load_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;ML_EM&quot;, &quot;save_load&quot;, __null, __null, (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; ML_EM_save_load_Test&gt;);void ML_EM_save_load_Test::TestBody()" data-ref="_M/TEST">TEST</a>(ML_EM, save_load) { <a class="type" href="#CV_EMTest_SaveLoad" title='CV_EMTest_SaveLoad' data-ref="CV_EMTest_SaveLoad">CV_EMTest_SaveLoad</a> <a class="tu ref fake" href="#_ZN18CV_EMTest_SaveLoadC1Ev" title='CV_EMTest_SaveLoad::CV_EMTest_SaveLoad' data-use='c' data-ref="_ZN18CV_EMTest_SaveLoadC1Ev"></a><dfn class="local col7 decl" id="217test" title='test' data-type='CV_EMTest_SaveLoad' data-ref="217test">test</dfn>; <a class="local col7 ref" href="#217test" title='test' data-ref="217test">test</a>.<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest8BaseTest8safe_runEi" title='cvtest::BaseTest::safe_run' data-ref="_ZN6cvtest8BaseTest8safe_runEi">safe_run</a>(); }</td></tr>
<tr><th id="680">680</th><td><a class="macro" href="../../ts/include/opencv2/ts/ts_gtest.h.html#20076" title="class ML_EM_classification_Test : public ::testing::Test { public: ML_EM_classification_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); ML_EM_classification_Test(ML_EM_classification_Test const &amp;); void operator=(ML_EM_classification_Test const &amp;);};::testing::TestInfo* const ML_EM_classification_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;ML_EM&quot;, &quot;classification&quot;, __null, __null, (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; ML_EM_classification_Test&gt;);void ML_EM_classification_Test::TestBody()" data-ref="_M/TEST">TEST</a>(ML_EM, classification) { <a class="type" href="#CV_EMTest_Classification" title='CV_EMTest_Classification' data-ref="CV_EMTest_Classification">CV_EMTest_Classification</a> <a class="tu ref fake" href="#_ZN24CV_EMTest_ClassificationC1Ev" title='CV_EMTest_Classification::CV_EMTest_Classification' data-use='c' data-ref="_ZN24CV_EMTest_ClassificationC1Ev"></a><dfn class="local col8 decl" id="218test" title='test' data-type='CV_EMTest_Classification' data-ref="218test">test</dfn>; <a class="local col8 ref" href="#218test" title='test' data-ref="218test">test</a>.<a class="virtual ref" href="../../ts/include/opencv2/ts/ts.hpp.html#_ZN6cvtest8BaseTest8safe_runEi" title='cvtest::BaseTest::safe_run' data-ref="_ZN6cvtest8BaseTest8safe_runEi">safe_run</a>(); }</td></tr>
<tr><th id="681">681</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-May-11</em> from project opencv revision <em>2.4.13.2-27-g91a6940</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.0.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
